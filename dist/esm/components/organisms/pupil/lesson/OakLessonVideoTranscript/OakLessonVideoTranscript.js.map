{"version":3,"file":"OakLessonVideoTranscript.js","sources":["../../../../../../../src/components/organisms/pupil/lesson/OakLessonVideoTranscript/OakLessonVideoTranscript.tsx"],"sourcesContent":["import React, { ReactNode, useState } from \"react\";\n\nimport { OakBox, OakFlex } from \"@/components/atoms\";\nimport {\n  OakCollapsibleContent,\n  OakTertiaryButton,\n} from \"@/components/molecules\";\n\ntype OakLessonVideoTranscriptProps = {\n  /**\n   * The transcript content\n   */\n  children: ReactNode;\n  /**\n   * The id of the collapsible content element. This is used to link the button to the content\n   */\n  id: string;\n  /**\n   * A control to toggle the video to display sign language\n   */\n  signLanguageControl?: ReactNode;\n  transcriptToggled?: (props: { isOpen: boolean }) => void;\n};\n\n/**\n * Display a togglable video transcript with a slot to display a sign language control\n */\nexport const OakLessonVideoTranscript = ({\n  children,\n  id,\n  signLanguageControl = null,\n  transcriptToggled,\n}: OakLessonVideoTranscriptProps) => {\n  const [showTranscript, setShowTranscript] = useState(false);\n\n  const handleClick = () => {\n    setShowTranscript(!showTranscript);\n    if (transcriptToggled) {\n      transcriptToggled({ isOpen: !showTranscript });\n    }\n  };\n\n  return (\n    <>\n      <OakFlex\n        $flexDirection={[\"column-reverse\", \"row\"]}\n        $justifyContent=\"space-between\"\n      >\n        <OakBox>\n          {children && (\n            <OakTertiaryButton\n              onClick={handleClick}\n              iconName={showTranscript ? \"chevron-up\" : \"chevron-down\"}\n              isTrailingIcon\n              aria-controls={id}\n              aria-expanded={showTranscript}\n              $mb=\"space-between-m\"\n            >\n              {showTranscript ? \"Hide transcript\" : \"Show transcript\"}\n            </OakTertiaryButton>\n          )}\n        </OakBox>\n        {signLanguageControl && (\n          <OakBox $mb=\"space-between-m\">{signLanguageControl}</OakBox>\n        )}\n      </OakFlex>\n      {children && (\n        <OakCollapsibleContent\n          id={id}\n          $maxHeight=\"all-spacing-23\"\n          isOpen={showTranscript}\n          $font=\"body-1\"\n          $color=\"text-primary\"\n          aria-live=\"polite\"\n        >\n          {children}\n        </OakCollapsibleContent>\n      )}\n    </>\n  );\n};\n"],"names":["OakLessonVideoTranscript","children","id","signLanguageControl","transcriptToggled","showTranscript","setShowTranscript","useState","React","createElement","Fragment","OakFlex","OakBox","OakTertiaryButton","onClick","isOpen","iconName","isTrailingIcon","$mb","OakCollapsibleContent","$maxHeight","$font","$color"],"mappings":"61GA2Ba,MAAAA,EAA2B,EACtCC,WACAC,KACAC,sBAAsB,KACtBC,wBAEA,MAAOC,EAAgBC,GAAqBC,GAAS,GASrD,OACEC,EAAAC,cAAAD,EAAAE,SAAA,KACEF,EAACC,cAAAE,kBACiB,CAAC,iBAAkB,uBACnB,iBAEhBH,EAAAC,cAACG,EACE,KAAAX,GACCO,EAAAC,cAACI,EACC,CAAAC,QAhBQ,KAClBR,GAAmBD,GACfD,GACFA,EAAkB,CAAEW,QAASV,GAC9B,EAaSW,SAAUX,EAAiB,aAAe,eAC1CY,gBACe,EAAA,gBAAAf,kBACAG,EAAca,IACzB,mBAEHb,EAAiB,kBAAoB,oBAI3CF,GACCK,EAAAC,cAACG,EAAM,CAAAM,IAAK,mBAAmBf,IAGlCF,GACCO,EAAAC,cAACU,EAAqB,CACpBjB,GAAIA,EAAEkB,WACK,iBACXL,OAAQV,EACFgB,MAAA,SACCC,OAAA,eACG,YAAA,UAETrB,GAIP"}