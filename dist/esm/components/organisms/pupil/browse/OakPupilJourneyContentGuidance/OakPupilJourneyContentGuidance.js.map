{"version":3,"file":"OakPupilJourneyContentGuidance.js","sources":["../../../../../../../src/components/organisms/pupil/browse/OakPupilJourneyContentGuidance/OakPupilJourneyContentGuidance.tsx"],"sourcesContent":["import React from \"react\";\n\nimport {\n  OakModalCenter,\n  OakModalCenterBody,\n  OakPrimaryButton,\n  OakPrimaryInvertedButton,\n} from \"@/components/molecules\";\nimport { OakFlex, OakHeading } from \"@/components/atoms\";\n\nexport type OakPupilContentGuidance = {\n  contentguidanceLabel: string | null;\n  contentguidanceDescription: string | null;\n  contentguidanceArea: string | null;\n};\n\nexport type OakPupilJourneyContentGuidanceProps = {\n  /**\n   * If true the modal will be open, if false it will be closed\n   */\n  isOpen: boolean;\n  /**\n   * Callback function to be called when the pupil accepts the content guidance\n   */\n  onAccept: () => void;\n  /**\n   * Callback function to be called when the pupil declines the content guidance\n   */\n  onDecline: () => void;\n  /**\n   * An array of objects containing the content guidance label, description and area\n   */\n  contentGuidance?: OakPupilContentGuidance[] | null;\n  /**\n   * The level of supervision required for the content\n   */\n  supervisionLevel?: string | null;\n  /**\n   * The text to be displayed on the accept button\n   */\n  acceptText?: string;\n  /**\n   * The text to be displayed on the decline button\n   */\n  declineText?: string;\n};\n\nexport const removedGuidanceDuplicates = (\n  contentGuidance: OakPupilContentGuidance[] | null = [],\n) => {\n  return Array.from(\n    new Set(\n      contentGuidance?.map(\n        (guidance: OakPupilContentGuidance) => guidance.contentguidanceLabel,\n      ),\n    ),\n  );\n};\n\n/**\n * This component is used to display content guidance to the pupil before they proceed to the lesson\n *\n * ##Props\n *\n * - **isOpen** \\-                  If true the modal will be open, if false it will be closed\n * - **onAccept** \\-                Callback function to be called when the pupil accepts the content guidance\n * - **onDecline** \\-               Callback function to be called when the pupil declines the content guidance\n * - **contentGuidance** \\-         An array of objects containing the content guidance label, description and area\n * - **supervisionLevel** \\-        The level of supervision required for the content\n * - **acceptText** \\-              The text to be displayed on the accept button\n * - **declineText** \\-             The text to be displayed on the decline button\n */\nexport const OakPupilJourneyContentGuidance = ({\n  isOpen,\n  onAccept,\n  onDecline,\n  contentGuidance,\n  supervisionLevel = null,\n  acceptText = \"I understand, continue\",\n  declineText = \"Take me back to lessons\",\n}: OakPupilJourneyContentGuidanceProps) => {\n  return (\n    <OakModalCenter\n      isOpen={isOpen}\n      modalFlexProps={{ \"aria-label\": \"Content guidance modal\" }}\n      footerSlot={\n        <OakFlex\n          $alignItems=\"center\"\n          $flexDirection=\"column\"\n          $justifyContent=\"center\"\n          $pv=\"inner-padding-xl\"\n          $rowGap=\"space-between-m\"\n        >\n          <OakPrimaryButton\n            $font=\"heading-7\"\n            onClick={onAccept}\n            data-testid=\"acceptButton\"\n          >\n            {acceptText}\n          </OakPrimaryButton>\n          <OakPrimaryInvertedButton\n            $font=\"heading-7\"\n            iconName=\"arrow-left\"\n            onClick={onDecline}\n            data-testid=\"declineButton\"\n          >\n            {declineText}\n          </OakPrimaryInvertedButton>\n        </OakFlex>\n      }\n      hideCloseButton\n    >\n      <OakModalCenterBody\n        iconName=\"warning\"\n        iconOverride={{\n          $colorFilter: \"amber\",\n        }}\n        title=\"Content guidance\"\n      >\n        <OakFlex $flexDirection=\"column\" $rowGap=\"space-between-m2\">\n          {removedGuidanceDuplicates(contentGuidance).map(\n            (guidance, index: number) => (\n              <OakHeading\n                key={index}\n                $font={[\n                  \"heading-light-7\",\n                  \"heading-light-7\",\n                  \"heading-light-6\",\n                ]}\n                $textAlign=\"center\"\n                tag=\"h2\"\n              >\n                {guidance}\n              </OakHeading>\n            ),\n          )}\n          {supervisionLevel && (\n            <OakHeading\n              $font={[\"heading-light-7\", \"heading-light-7\", \"heading-light-6\"]}\n              $textAlign=\"center\"\n              tag=\"h2\"\n            >\n              {supervisionLevel}\n            </OakHeading>\n          )}\n        </OakFlex>\n      </OakModalCenterBody>\n    </OakModalCenter>\n  );\n};\n"],"names":["removedGuidanceDuplicates","contentGuidance","Array","from","Set","map","guidance","contentguidanceLabel","OakPupilJourneyContentGuidance","isOpen","onAccept","onDecline","supervisionLevel","acceptText","declineText","React","createElement","OakModalCenter","modalFlexProps","footerSlot","OakFlex","$alignItems","$flexDirection","$justifyContent","$pv","OakPrimaryButton","$font","onClick","OakPrimaryInvertedButton","iconName","hideCloseButton","OakModalCenterBody","iconOverride","$colorFilter","title","$rowGap","index","OakHeading","key","$textAlign","tag"],"mappings":"oiHA+CaA,EAA4B,CACvCC,EAAoD,KAE7CC,MAAMC,KACX,IAAIC,IACFH,GAAiBI,KACdC,GAAsCA,EAASC,yBAmB3CC,EAAiC,EAC5CC,SACAC,WACAC,YACAV,kBACAW,mBAAmB,KACnBC,aAAa,yBACbC,cAAc,6BAGZC,EAAAC,cAACC,EAAc,CACbR,OAAQA,EACRS,eAAgB,CAAE,aAAc,0BAChCC,WACEJ,EAACC,cAAAI,EACa,CAAAC,YAAA,SACGC,eAAA,SACCC,gBAAA,SACZC,IAAA,2BACI,mBAERT,EAACC,cAAAS,EACO,CAAAC,MAAA,YACNC,QAASjB,EACG,cAAA,gBAEXG,GAEHE,EAAAC,cAACY,EACO,CAAAF,MAAA,YACNG,SAAS,aACTF,QAAShB,gBACG,iBAEXG,IAIPgB,iBAAe,GAEff,EAAAC,cAACe,EACC,CAAAF,SAAS,UACTG,aAAc,CACZC,aAAc,SAEhBC,MAAM,oBAENnB,EAAAC,cAACI,EAAO,CAAAE,eAAgB,SAAQa,QAAS,oBACtCnC,EAA0BC,GAAiBI,KAC1C,CAACC,EAAU8B,IACTrB,EAACC,cAAAqB,GACCC,IAAKF,EACEV,MAAA,CACL,kBACA,kBACA,mBAESa,WAAA,SACXC,IAAI,MAEHlC,KAINM,GACCG,EAAAC,cAACqB,EAAU,CAAAX,MACF,CAAC,kBAAmB,kBAAmB,mBAAkBa,WACrD,SACXC,IAAI,MAEH5B"}