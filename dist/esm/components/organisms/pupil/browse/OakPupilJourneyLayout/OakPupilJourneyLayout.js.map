{"version":3,"file":"OakPupilJourneyLayout.js","sources":["../../../../../../../src/components/organisms/pupil/browse/OakPupilJourneyLayout/OakPupilJourneyLayout.tsx"],"sourcesContent":["import React, { ReactNode } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport { OakFlex } from \"@/components/atoms\";\nimport { getBreakpoint } from \"@/styles/utils/responsiveStyle\";\nimport { backgrounds } from \"@/image-map\";\n\nexport type PupilJourneySectionName =\n  | \"tier-listing\"\n  | \"examboard-listing\"\n  | \"unit-listing\"\n  | \"lesson-listing\"\n  | \"subject-listing\"\n  | \"year-listing\";\n\nexport type Phase = \"primary\" | \"secondary\";\n\nexport type OakPupilJourneyLayoutProps = {\n  sectionName: PupilJourneySectionName;\n  phase?: Phase;\n  topNavSlot?: ReactNode;\n  children: ReactNode;\n};\n\nconst StyledLayoutBox = styled(OakFlex)<{\n  sectionName: PupilJourneySectionName;\n  phase?: Phase;\n}>`\n  @media (min-width: ${getBreakpoint(\"large\")}px) {\n    ${(props) => css`\n      background-image: url(${getBackgroundUrlForSection(\n        props.sectionName,\n        props?.phase,\n      )});\n      background-repeat: no-repeat;\n      background-position-x: center;\n      background-size: 100%;\n    `}\n`;\n\n/**\n * Provides overall page layout and colours for the pupil journey\n *\n * Used for the unit, lesson and tiers/programme factor listing pages\n *\n * the sections of the page are passed in as props and children\n */\n\nexport const OakPupilJourneyLayout = ({\n  sectionName,\n  topNavSlot,\n  phase,\n  children,\n}: OakPupilJourneyLayoutProps) => {\n  const backgroundColor = (() => {\n    switch (true) {\n      case sectionName === \"lesson-listing\" && phase === \"primary\":\n        return \"bg-decorative4-very-subdued\";\n      case sectionName === \"lesson-listing\" && phase === \"secondary\":\n        return \"bg-decorative3-very-subdued\";\n      case sectionName === \"unit-listing\" && phase === \"primary\":\n        return \"bg-decorative4-very-subdued\";\n      case sectionName === \"unit-listing\" && phase === \"secondary\":\n        return \"bg-decorative3-very-subdued\";\n      case sectionName === \"tier-listing\" && phase === \"primary\":\n        return \"bg-decorative4-very-subdued\";\n      case sectionName === \"tier-listing\" && phase === \"secondary\":\n        return \"bg-decorative3-very-subdued\";\n      case sectionName === \"subject-listing\":\n      case sectionName === \"year-listing\":\n        return \"bg-decorative1-main\";\n    }\n  })();\n\n  return (\n    <StyledLayoutBox\n      $background={backgroundColor}\n      $flexDirection=\"column\"\n      $alignItems={\"center\"}\n      $ph={[\"inner-padding-s\", \"inner-padding-xl\"]}\n      sectionName={sectionName}\n      phase={phase}\n    >\n      {topNavSlot && (\n        <OakFlex\n          $height={[\"all-spacing-13\", \"all-spacing-14\", \"all-spacing-16\"]}\n          $alignItems={\"center\"}\n          $width={[\"100%\", \"100%\", \"all-spacing-24\"]}\n        >\n          {topNavSlot}\n        </OakFlex>\n      )}\n\n      {children}\n    </StyledLayoutBox>\n  );\n};\n\nexport function getBackgroundUrlForSection(\n  sectionName: PupilJourneySectionName,\n  phase?: Phase,\n) {\n  const prefix = `https://${process.env.NEXT_PUBLIC_OAK_ASSETS_HOST}/${process.env.NEXT_PUBLIC_OAK_ASSETS_PATH}/`;\n  switch (sectionName) {\n    case \"lesson-listing\":\n      return phase === \"primary\"\n        ? `${prefix}${backgrounds[\"confetti-pink\"]}`\n        : `${prefix}${backgrounds[\"confetti-lavender\"]}`;\n    case \"unit-listing\":\n      return phase === \"primary\"\n        ? `${prefix}${backgrounds[\"line-pink\"]}`\n        : `${prefix}${backgrounds[\"line-lavender\"]}`;\n    case \"subject-listing\":\n      return `${prefix}${backgrounds[\"line-mint\"]}`;\n    case \"year-listing\":\n      return `${prefix}${backgrounds[\"confetti-mint\"]}`;\n    default:\n      return \"\";\n  }\n}\n"],"names":["StyledLayoutBox","styled","OakFlex","getBreakpoint","props","css","getBackgroundUrlForSection","sectionName","phase","OakPupilJourneyLayout","topNavSlot","children","backgroundColor","React","$background","$flexDirection","$alignItems","$ph","createElement","$height","$width","prefix","process","env","NEXT_PUBLIC_OAK_ASSETS_HOST","NEXT_PUBLIC_OAK_ASSETS_PATH","backgrounds"],"mappings":"myCAwBA,MAAMA,EAAkBC,EAAOC,EAG7B;uBACqBC,EAAc;MAC9BC,GAAUC,CAAG;8BACUC,EACtBF,EAAMG,YACNH,GAAOI;;;;;EAgBFC,EAAwB,EACnCF,cACAG,aACAF,QACAG,eAEA,MAAMC,EAAkB,MACtB,QAAQ,GACN,IAAqB,mBAAhBL,GAA8C,YAAVC,EACvC,MAAO,8BACT,IAAqB,mBAAhBD,GAA8C,cAAVC,EACvC,MAAO,8BACT,IAAqB,iBAAhBD,GAA4C,YAAVC,EACrC,MAAO,8BACT,IAAqB,iBAAhBD,GAA4C,cAAVC,EACrC,MAAO,8BACT,IAAqB,iBAAhBD,GAA4C,YAAVC,EACrC,MAAO,8BACT,IAAqB,iBAAhBD,GAA4C,cAAVC,EACrC,MAAO,8BACT,IAAqB,oBAAhBD,EACL,IAAqB,iBAAhBA,EACH,MAAO,sBAEZ,EAlBuB,GAoBxB,OACEM,gBAACb,EAAe,CAAAc,YACDF,EACEG,eAAA,SACFC,YAAA,SACRC,IAAA,CAAC,kBAAmB,oBACzBV,YAAaA,EACbC,MAAOA,GAENE,GACCG,EAAAK,cAAChB,EAAO,CAAAiB,QACG,CAAC,iBAAkB,iBAAkB,8BACjC,SAAQC,OACb,CAAC,OAAQ,OAAQ,mBAExBV,GAIJC,EAEH,EAGY,SAAAL,EACdC,EACAC,GAEA,MAAMa,EAAS,WAAWC,QAAQC,IAAIC,+BAA+BF,QAAQC,IAAIE,+BACjF,OAAQlB,GACN,IAAK,iBACH,MAAiB,YAAVC,EACH,GAAGa,IAASK,EAAY,mBACxB,GAAGL,IAASK,EAAY,uBAC9B,IAAK,eACH,MAAiB,YAAVlB,EACH,GAAGa,IAASK,EAAY,eACxB,GAAGL,IAASK,EAAY,mBAC9B,IAAK,kBACH,MAAO,GAAGL,IAASK,EAAY,eACjC,IAAK,eACH,MAAO,GAAGL,IAASK,EAAY,mBACjC,QACE,MAAO,GAEb"}