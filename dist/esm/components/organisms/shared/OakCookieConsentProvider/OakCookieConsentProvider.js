import n,{createContext as e,useContext as t,useReducer as o,useCallback as s}from"react";import{cookieConsentReducer as a,getInitialState as r}from"./cookieConsentReducer.js";function c(){return{isSettingsModalOpen:!1,policyConsents:[],showBanner(){},hideBanner(){},openSettings(){},closeSettings(){},rejectModalConsents(){},confirmModalConsents(){},acceptModalConsents(){},rejectBannerConsents(){},acceptBannerConsents(){},bannerState:"initial"}}const i=e(c());function p(){return t(i)}function l(){const{showBanner:n,openSettings:e}=t(i);return{showBanner:n,openSettings:e}}const d=({children:e,policyConsents:t,onConsentChange:c})=>{const[p,l]=o(a,null,r),d=s((()=>l({type:"closeModal"})),[]),C=s((()=>{c(t.map((({policyId:n})=>({policyId:n,consentState:"granted"}))))}),[c,t]),y=s((()=>{c(t.map((({policyId:n,isStrictlyNecessary:e})=>({policyId:n,consentState:e?"granted":"denied"}))))}),[c,t]),S=s((()=>l({type:"hideBanner"})),[]),B=s((()=>l({type:"showBanner"})),[]),M=s((()=>l({type:"openModal"})),[]),g=s((()=>{C(),l({type:"acceptBannerConsents"})}),[C]),h=s((()=>{y(),l({type:"rejectBannerConsents"})}),[y]),m=s((()=>{C(),l({type:"acceptModalConsents"})}),[C,S]),u=s((()=>{y(),l({type:"rejectModalConsents"})}),[y,S]),f=s((n=>{c(n),l({type:"confirmModalConsents"})}),[c,S]);return n.createElement(i.Provider,{value:{isSettingsModalOpen:p.isSettingsModalOpen,bannerState:p.bannerState,policyConsents:t,showBanner:B,hideBanner:S,openSettings:M,closeSettings:d,confirmModalConsents:f,acceptBannerConsents:g,rejectBannerConsents:h,acceptModalConsents:m,rejectModalConsents:u}},e)};export{i as OakCookieConsentContext,d as OakCookieConsentProvider,c as getDefaultContextState,l as useCookieConsent,p as useInternalCookieConsent};
//# sourceMappingURL=OakCookieConsentProvider.js.map
