{"version":3,"file":"OakVideoTranscript.js","sources":["../../../../../../src/components/organisms/shared/OakVideoTranscript/OakVideoTranscript.tsx"],"sourcesContent":["import React, { ReactNode, useState } from \"react\";\n\nimport { OakBox, OakFlex } from \"@/components/atoms\";\nimport {\n  OakCollapsibleContent,\n  OakSmallSecondaryButton,\n} from \"@/components/molecules\";\n\ntype OakVideoTranscriptProps = {\n  /**\n   * The transcript content\n   */\n  children: ReactNode;\n  /**\n   * The id of the collapsible content element. This is used to link the button to the content\n   */\n  id: string;\n  /**\n   * A control to toggle sign language button (OakSignLanguageButton)\n   */\n  signLanguageControl?: ReactNode;\n  /**\n   * A control to toggle copy link button (OakCopyLinkButton)\n   */\n  copyLinkControl?: ReactNode;\n  /**\n   * A flag to control state of a transcript\n   */\n  transcriptToggled?: (props: { isOpen: boolean }) => void;\n};\n\n/**\n * Display a togglable video transcript with a slot to display a sign language control\n */\nexport const OakVideoTranscript = ({\n  children,\n  id,\n  signLanguageControl = null,\n  copyLinkControl = null,\n  transcriptToggled,\n}: OakVideoTranscriptProps) => {\n  const [showTranscript, setShowTranscript] = useState(false);\n\n  const handleClick = () => {\n    setShowTranscript(!showTranscript);\n    if (transcriptToggled) {\n      transcriptToggled({ isOpen: !showTranscript });\n    }\n  };\n\n  const label = showTranscript ? \"Hide transcript\" : \"Show transcript\";\n\n  return (\n    <>\n      <OakFlex\n        $flexDirection=\"row\"\n        $flexWrap={\"wrap\"}\n        $gap={[\"space-between-ssx\", \"space-between-s\"]}\n      >\n        {/* desktop */}\n\n        {children && (\n          <OakBox $display={[\"none\", \"block\"]}>\n            <OakSmallSecondaryButton\n              onClick={handleClick}\n              iconName={showTranscript ? \"chevron-up\" : \"chevron-down\"}\n              isTrailingIcon\n              aria-controls={id}\n              aria-expanded={showTranscript}\n            >\n              {label}\n            </OakSmallSecondaryButton>\n          </OakBox>\n        )}\n\n        {/* mobile */}\n        {children && (\n          <OakBox $display={[\"block\", \"none\"]}>\n            <OakSmallSecondaryButton\n              onClick={handleClick}\n              aria-controls={id}\n              aria-expanded={showTranscript}\n            >\n              {label}\n            </OakSmallSecondaryButton>\n          </OakBox>\n        )}\n        {copyLinkControl && <OakBox>{copyLinkControl}</OakBox>}\n        {signLanguageControl && <OakBox>{signLanguageControl}</OakBox>}\n      </OakFlex>\n      {children && (\n        <OakCollapsibleContent\n          id={id}\n          $maxHeight=\"all-spacing-23\"\n          isOpen={showTranscript}\n          $font=\"body-2\"\n          $color=\"text-primary\"\n          $pa={\"space-between-xs\"}\n          $mt={[\"space-between-s\", \"space-between-m2\"]}\n          aria-live=\"polite\"\n        >\n          {children}\n        </OakCollapsibleContent>\n      )}\n    </>\n  );\n};\n"],"names":["OakVideoTranscript","children","id","signLanguageControl","copyLinkControl","transcriptToggled","showTranscript","setShowTranscript","useState","handleClick","isOpen","label","React","createElement","Fragment","OakFlex","$flexDirection","$flexWrap","OakBox","OakSmallSecondaryButton","onClick","iconName","isTrailingIcon","OakCollapsibleContent","$maxHeight","$color","$pa","$mt"],"mappings":"mtGAkCaA,EAAqB,EAChCC,WACAC,KACAC,sBAAsB,KACtBC,kBAAkB,KAClBC,wBAEA,MAAOC,EAAgBC,GAAqBC,GAAS,GAE/CC,EAAc,KAClBF,GAAmBD,GACfD,GACFA,EAAkB,CAAEK,QAASJ,GAC9B,EAGGK,EAAQL,EAAiB,kBAAoB,kBAEnD,OACEM,EAAAC,cAAAD,EAAAE,SAAA,KACEF,EAACC,cAAAE,EACgB,CAAAC,eAAA,MACJC,UAAA,YACL,CAAC,oBAAqB,oBAI3BhB,GACCW,EAACC,cAAAK,YAAiB,CAAC,OAAQ,UACzBN,EAACC,cAAAM,EACC,CAAAC,QAASX,EACTY,SAAUf,EAAiB,aAAe,eAC1CgB,gBACe,EAAA,gBAAApB,EACA,gBAAAI,GAEdK,IAMNV,GACCW,EAACC,cAAAK,YAAiB,CAAC,QAAS,SAC1BN,EAAAC,cAACM,EAAuB,CACtBC,QAASX,EAAW,gBACLP,EAAE,gBACFI,GAEdK,IAINP,GAAmBQ,EAAAC,cAACK,EAAM,KAAEd,GAC5BD,GAAuBS,EAACC,cAAAK,EAAQ,KAAAf,IAElCF,GACCW,EAACC,cAAAU,GACCrB,GAAIA,EAAEsB,WACK,iBACXd,OAAQJ,QACF,SAAQmB,OACP,eAAcC,IAChB,mBAAkBC,IAClB,CAAC,kBAAmB,oBACf,YAAA,UAET1B,GAIP"}