{"version":3,"file":"OakCookieBanner.js","sources":["../../../../../../src/components/organisms/shared/OakCookieBanner/OakCookieBanner.tsx"],"sourcesContent":["import React from \"react\";\n\nimport { OakBox, OakFlex, OakSpan } from \"@/components/atoms\";\nimport {\n  OakPrimaryButton,\n  OakSecondaryButton,\n  OakSecondaryLink,\n} from \"@/components/molecules\";\nimport { OakAllSpacingToken } from \"@/styles\";\nimport { ResponsiveValues } from \"@/styles/utils/responsiveStyle\";\n\nexport type OakCookieBannerProps = {\n  /**\n   * Triggered when the user clicks the \"Hide this message\" button.\n   */\n  onHide(): void;\n  /**\n   * Triggered when the user clicks the \"Accept all cookies\" button.\n   */\n  onAccept(): void;\n  /**\n   * Triggered when the user clicks the \"Reject non-essential cookies\" button.\n   */\n  onReject(): void;\n  /**\n   * Triggered when the user clicks the \"Cookie settings\" button.\n   */\n  onOpenSettings(): void;\n  /**\n   * The banner is intended to span the full width of the viewport.\n   * this prop will set the maximum width of the inner content so that\n   * it can line up with the rest of the content on the page.\n   **/\n  innerMaxWidth?: ResponsiveValues<OakAllSpacingToken>;\n  /**\n   * The current state of the cookie banner.\n   *\n   * - `initial` - The user has not made any choices.\n   * - `accepted` - The user has accepted all cookies.\n   * - `rejected` - The user has rejected non-essential cookies.\n   */\n  state: \"accepted\" | \"rejected\" | \"initial\";\n  /**\n   * Whether the banner should be fixed to the bottom of the viewport.\n   *\n   * @default false\n   */\n  isFixed?: boolean;\n  /**\n   * Optional z-index override of the banner.\n   *\n   * Defaults to token: `banner`\n   *\n   * ðŸš¨ This prop is intended for use by consumers that do not use\n   * the internal system of z-index tokens.\n   */\n  zIndex?: number;\n};\n\n/**\n * A banner presenting the user with options to accept or reject cookies.\n */\nexport const OakCookieBanner = ({\n  state,\n  innerMaxWidth,\n  onOpenSettings,\n  onHide,\n  onAccept,\n  onReject,\n  isFixed = false,\n  zIndex,\n}: OakCookieBannerProps) => {\n  const finalZIndex = (() => {\n    if (typeof zIndex === \"number\") {\n      return zIndex;\n    }\n    if (isFixed) {\n      return \"banner\";\n    }\n  })();\n\n  return (\n    <OakBox\n      $background=\"bg-neutral\"\n      $bt=\"border-solid-s\"\n      $borderColor=\"border-neutral\"\n      $position={isFixed ? \"fixed\" : undefined}\n      $bottom={isFixed ? \"all-spacing-0\" : undefined}\n      $right={isFixed ? \"all-spacing-0\" : undefined}\n      $left={isFixed ? \"all-spacing-0\" : undefined}\n      $zIndex={finalZIndex}\n      $color=\"text-primary\"\n      data-testid=\"cookie-banner\"\n    >\n      <OakBox $maxWidth={innerMaxWidth} $mh=\"auto\">\n        <OakFlex\n          $alignItems={[\"flex-start\", \"flex-start\", \"center\"]}\n          $flexDirection={[\"column\", \"column\", \"row\"]}\n          $mh={[\"space-between-s\", \"space-between-m\", \"space-between-xl\"]}\n          $pv=\"inner-padding-xl\"\n          $gap={[\"space-between-m\", \"space-between-m\", \"space-between-m2\"]}\n        >\n          {(() => {\n            switch (state) {\n              case \"accepted\":\n              case \"rejected\":\n                return (\n                  <>\n                    <OakBox $font={[\"body-3\", \"body-2\", \"heading-light-7\"]}>\n                      You've{\" \"}\n                      <OakSpan\n                        as=\"strong\"\n                        $font={[\"body-3-bold\", \"body-2-bold\", \"heading-7\"]}\n                      >\n                        {state}\n                      </OakSpan>{\" \"}\n                      additional cookies. You can{\" \"}\n                      <OakSecondaryLink\n                        element=\"button\"\n                        onClick={onOpenSettings}\n                      >\n                        change your cookie settings\n                      </OakSecondaryLink>{\" \"}\n                      at any time.\n                    </OakBox>\n                    <OakFlex $justifyContent=\"flex-end\" $flexGrow={1}>\n                      <OakSecondaryButton onClick={onHide}>\n                        Hide this message\n                      </OakSecondaryButton>\n                    </OakFlex>\n                  </>\n                );\n              default:\n                return (\n                  <>\n                    <OakBox $font={[\"body-3\", \"body-2\"]}>\n                      <OakSpan\n                        as=\"strong\"\n                        $font={[\"body-3-bold\", \"body-2-bold\"]}\n                      >\n                        This site uses cookies to store information on your\n                        computer.\n                      </OakSpan>{\" \"}\n                      Some of these cookies are essential, while others help us\n                      to improve your experience by providing insights into how\n                      the site is being used.\n                    </OakBox>\n                    <OakFlex\n                      $gap={[\"space-between-xs\", \"space-between-m2\"]}\n                      $justifyContent=\"flex-end\"\n                      $flexDirection={[\"column\", \"row\"]}\n                      $flexWrap={[\"wrap\", \"wrap\", \"nowrap\"]}\n                      $flexGrow={1}\n                    >\n                      <OakFlex\n                        $font=\"heading-7\"\n                        $whiteSpace=\"nowrap\"\n                        $alignItems=\"center\"\n                      >\n                        <OakSecondaryLink\n                          element=\"button\"\n                          type=\"button\"\n                          onClick={onReject}\n                          data-testid=\"cookie-banner-reject\"\n                        >\n                          Reject non-essential cookies\n                        </OakSecondaryLink>\n                      </OakFlex>\n                      <OakSecondaryButton onClick={onOpenSettings}>\n                        Cookie settings\n                      </OakSecondaryButton>\n                      <OakPrimaryButton\n                        onClick={onAccept}\n                        data-testid=\"cookie-banner-accept\"\n                      >\n                        Accept all cookies\n                      </OakPrimaryButton>\n                    </OakFlex>\n                  </>\n                );\n            }\n          })()}\n        </OakFlex>\n      </OakBox>\n    </OakBox>\n  );\n};\n"],"names":["OakCookieBanner","state","innerMaxWidth","onOpenSettings","onHide","onAccept","onReject","isFixed","zIndex","finalZIndex","React","createElement","OakBox","$background","$borderColor","$position","undefined","$bottom","$right","$left","$zIndex","$color","$maxWidth","$mh","OakFlex","$alignItems","$flexDirection","$pv","$gap","Fragment","OakSpan","as","$font","OakSecondaryLink","element","onClick","$justifyContent","$flexGrow","OakSecondaryButton","$flexWrap","$whiteSpace","type","OakPrimaryButton"],"mappings":"uxGA8Da,MAAAA,EAAkB,EAC7BC,QACAC,gBACAC,iBACAC,SACAC,WACAC,WACAC,WAAU,EACVC,aAEA,MAAMC,EACkB,iBAAXD,EACFA,EAELD,EACK,cADT,EAKF,OACEG,EAACC,cAAAC,EACa,CAAAC,YAAA,iBACR,iBAAgBC,aACP,iBAAgBC,UAClBR,EAAU,aAAUS,EACtBC,QAAAV,EAAU,qBAAkBS,EAASE,OACtCX,EAAU,qBAAkBS,EAC7BG,MAAAZ,EAAU,qBAAkBS,EAASI,QACnCX,EAAWY,OACb,eAAc,cACT,iBAEZX,EAAAC,cAACC,EAAM,CAAAU,UAAYpB,EAAaqB,IAAM,QACpCb,EAAAC,cAACa,EACc,CAAAC,YAAA,CAAC,aAAc,aAAc,UAASC,eACnC,CAAC,SAAU,SAAU,OAChCH,IAAA,CAAC,kBAAmB,kBAAmB,oBAAmBI,IAC3D,mBACEC,KAAA,CAAC,kBAAmB,kBAAmB,qBAE5C,MACC,OAAQ3B,GACN,IAAK,WACL,IAAK,WACH,OACES,EAAAC,cAAAD,EAAAmB,SAAA,KACEnB,EAACC,cAAAC,SAAc,CAAC,SAAU,SAAU,6BAC3B,IACPF,EAAAC,cAACmB,EAAO,CACNC,GAAG,SACIC,MAAA,CAAC,cAAe,cAAe,cAErC/B,GACQ,kCACiB,IAC5BS,EAACC,cAAAsB,GACCC,QAAQ,SACRC,QAAShC,GAGQ,+BAAC,IAEb,gBACTO,EAAAC,cAACa,EAAO,CAAAY,gBAAiB,WAAUC,UAAY,GAC7C3B,EAACC,cAAA2B,GAAmBH,QAAS/B,GAER,uBAI7B,QACE,OACEM,EAAAC,cAAAD,EAAAmB,SAAA,KACEnB,EAAAC,cAACC,EAAc,CAAAoB,MAAA,CAAC,SAAU,WACxBtB,EAACC,cAAAmB,EACC,CAAAC,GAAG,SACIC,MAAA,CAAC,cAAe,gBAIf,iEAAC,IAIJ,+IACTtB,EAACC,cAAAa,EACO,CAAAI,KAAA,CAAC,mBAAoB,oBAAmBQ,gBAC9B,WAAUV,eACV,CAAC,SAAU,OAChBa,UAAA,CAAC,OAAQ,OAAQ,UAASF,UAC1B,GAEX3B,EAAAC,cAACa,EACO,CAAAQ,MAAA,YACMQ,YAAA,qBACA,UAEZ9B,EAAAC,cAACsB,EACC,CAAAC,QAAQ,SACRO,KAAK,SACLN,QAAS7B,EACG,cAAA,yDAKhBI,EAAAC,cAAC2B,EAAkB,CAACH,QAAShC,GAER,mBACrBO,EAACC,cAAA+B,EACC,CAAAP,QAAS9B,EACG,cAAA,wBAGK,wBAK9B,EA/EA,KAmFP"}