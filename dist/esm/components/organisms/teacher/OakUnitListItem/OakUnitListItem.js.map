{"version":3,"file":"OakUnitListItem.js","sources":["../../../../../../src/components/organisms/teacher/OakUnitListItem/OakUnitListItem.tsx"],"sourcesContent":["import React, { MutableRefObject } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport {\n  OakFlex,\n  OakP,\n  OakHeading,\n  OakSpan,\n  OakIcon,\n  OakLI,\n} from \"@/components/atoms\";\nimport { parseColor } from \"@/styles/helpers/parseColor\";\nimport { parseDropShadow } from \"@/styles/helpers/parseDropShadow\";\n\nconst LessonDetailsWrapper = styled(OakFlex)`\n  min-width: 260px;\n\n  @media (max-width: 650px) {\n    min-width: 100%;\n  }\n\n  @media (max-width: 370px) {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n`;\n\nconst StyledUnitListItem = styled(OakFlex)<{ $disabled?: boolean }>`\n  outline: none;\n  text-align: initial;\n  animation-timing-function: ease-out;\n  transition-duration: 300ms;\n\n  &:focus-visible {\n    box-shadow: ${parseDropShadow(\"drop-shadow-centered-lemon\")},\n      ${parseDropShadow(\"drop-shadow-centered-grey\")};\n  }\n  ${(props) =>\n    !props.$disabled &&\n    css`\n      cursor: pointer;\n\n      /* Don't apply hover styles on touch devices */\n      @media (hover: hover) {\n    &:hover {\n      ${StyledOakIndexBox} {\n        background: ${parseColor(\"lavender110\")};\n      }\n      background: ${parseColor(\"bg-decorative3-subdued\")};\n    }\n  }\n      }\n    `}\n\n  ${(props) =>\n    props.$disabled &&\n    css`\n      cursor: not-allowed;\n      background: ${parseColor(\"bg-neutral\")};\n    `}\n`;\n\nconst StyledOakIndexBox = styled(OakFlex)`\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n  animation-timing-function: ease-out;\n  transition-duration: 300ms;\n  @media (hover: hover) {\n    &:hover {\n      background: ${parseColor(\"lavender110\")};\n    }\n  }\n`;\n\nexport type OakUnitListItemProps = {\n  unavailable?: boolean;\n  index: number;\n  title: string;\n  yearTitle?: string | null;\n  lessonCount: number | null;\n  expiredLessonCount?: number | null;\n  isLegacy: boolean;\n  href: string;\n  firstItemRef?: MutableRefObject<HTMLAnchorElement | null> | null | undefined;\n  onClick?: (event: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => void;\n};\n\n/**\n *\n * OakUnitsListItem component used as links for unit cards\n */\nexport const OakUnitListItem = (props: OakUnitListItemProps) => {\n  const {\n    lessonCount,\n    expiredLessonCount,\n    href,\n    unavailable,\n    onClick,\n    index,\n    isLegacy,\n    firstItemRef,\n    ...rest\n  } = props;\n\n  let unitLessonCount;\n\n  if (lessonCount) {\n    const expiredLessonsInUnitCount =\n      expiredLessonCount && lessonCount\n        ? lessonCount - expiredLessonCount\n        : null;\n    unitLessonCount =\n      expiredLessonsInUnitCount !== null\n        ? `${expiredLessonsInUnitCount}/${lessonCount} ${\n            lessonCount > 1 ? \"lessons\" : \"lesson\"\n          }`\n        : `${lessonCount} ${lessonCount > 1 ? \"lessons\" : \"lesson\"}`;\n\n    if (expiredLessonCount && expiredLessonCount > lessonCount) {\n      unitLessonCount = `0 lessons`;\n    }\n  }\n\n  return (\n    <OakLI $listStyle={\"none\"} $width={\"100%\"}>\n      <StyledUnitListItem\n        $alignItems={\"center\"}\n        $background={unavailable ? \"bg-neutral\" : \"bg-primary\"}\n        $borderRadius=\"border-radius-m\"\n        $disabled={unavailable}\n        href={unavailable ? undefined : href}\n        onClick={unavailable ? undefined : onClick}\n        ref={firstItemRef}\n        as={\"a\"}\n        {...rest}\n      >\n        <StyledOakIndexBox\n          $alignSelf={\"stretch\"}\n          $background={\n            unavailable\n              ? \"bg-neutral-stronger\"\n              : isLegacy\n                ? \"lavender50\"\n                : \"lavender\"\n          }\n          $minWidth={\"all-spacing-11\"}\n          $justifyContent={\"center\"}\n          $alignItems={\"center\"}\n        >\n          <OakHeading\n            tag=\"h3\"\n            $font={\"heading-5\"}\n            $color={unavailable ? \"text-disabled\" : \"text-primary\"}\n          >\n            {index}\n          </OakHeading>\n        </StyledOakIndexBox>\n        <OakFlex\n          $width={\"100%\"}\n          $height={\"100%\"}\n          $justifyContent={\"space-between\"}\n          $alignItems={\"left\"}\n          $flexDirection={[\"column\", \"row\"]}\n          $pa={[\"inner-padding-l\"]}\n          $gap={\"space-between-s\"}\n        >\n          <OakFlex $alignItems={[\"center\"]} $maxWidth={[\"100%\"]}>\n            <OakP\n              $font={\"heading-7\"}\n              $color={unavailable ? \"text-disabled\" : \"text-primary\"}\n            >\n              {props.title}\n            </OakP>\n          </OakFlex>\n          <LessonDetailsWrapper\n            $alignItems={[\"center\"]}\n            $minWidth={\"all-spacing-13\"}\n            $width={[\"100%\", \"auto\"]}\n            $justifyContent={\"space-between\"}\n            $whiteSpace={\"nowrap\"}\n          >\n            <OakFlex $justifyContent={[\"flex-start\", \"flex-end\"]}>\n              <OakP\n                $font={\"heading-light-7\"}\n                $color={unavailable ? \"text-disabled\" : \"text-primary\"}\n              >\n                {props.yearTitle}\n              </OakP>\n            </OakFlex>\n\n            <OakFlex $alignItems={\"center\"}>\n              <OakSpan\n                $font={\"heading-light-7\"}\n                $color={unavailable ? \"text-disabled\" : \"text-primary\"}\n              >\n                {unitLessonCount}\n              </OakSpan>\n              <OakIcon\n                $colorFilter={unavailable ? \"text-disabled\" : \"text-primary\"}\n                iconName=\"chevron-right\"\n              />\n            </OakFlex>\n          </LessonDetailsWrapper>\n        </OakFlex>\n      </StyledUnitListItem>\n    </OakLI>\n  );\n};\n"],"names":["LessonDetailsWrapper","styled","OakFlex","StyledUnitListItem","parseDropShadow","props","$disabled","css","StyledOakIndexBox","parseColor","OakUnitListItem","lessonCount","expiredLessonCount","href","unavailable","onClick","index","isLegacy","firstItemRef","rest","unitLessonCount","expiredLessonsInUnitCount","React","createElement","OakLI","$listStyle","$background","$borderRadius","undefined","ref","as","$alignSelf","$minWidth","$justifyContent","OakHeading","tag","$font","$height","$flexDirection","$pa","$maxWidth","OakP","title","$alignItems","$width","yearTitle","OakSpan","$color","OakIcon","iconName"],"mappings":"g3CAcA,MAAMA,EAAuBC,EAAOC,EAAQ;;;;;;;;;;;EAatCC,EAAqBF,EAAOC,EAAiC;;;;;;;kBAOjDE,EAAgB;QAC1BA,EAAgB;;IAEnBC,IACAA,EAAMC,WACPC,CAAG;;;;;;QAMCC;sBACcC,EAAW;;oBAEbA,EAAW;;;;;;IAM1BJ,GACDA,EAAMC,WACNC,CAAG;;oBAEaE,EAAW;;EAIzBD,EAAoBP,EAAOC,EAAQ;;;;;;;oBAOrBO,EAAW;;;EAsBlBC,EAAmBL,IAC9B,MAAMM,YACJA,EAAWC,mBACXA,EAAkBC,KAClBA,EAAIC,YACJA,EAAWC,QACXA,EAAOC,MACPA,EAAKC,SACLA,EAAQC,aACRA,KACGC,GACDd,EAEJ,IAAIe,EAEJ,GAAIT,EAAa,CACf,MAAMU,EACJT,GAAsBD,EAClBA,EAAcC,EACd,KACNQ,EACgC,OAA9BC,EACI,GAAGA,KAA6BV,KAC9BA,EAAc,EAAI,UAAY,WAEhC,GAAGA,KAAeA,EAAc,EAAI,UAAY,WAElDC,GAAsBA,EAAqBD,IAC7CS,EAAkB,YAErB,CAED,OACEE,EAACC,cAAAC,EAAkB,CAAAC,WAAA,cAAgB,QACjCH,EAACC,cAAApB,eACc,SAAQuB,YACRZ,EAAc,aAAe,aAAYa,cACxC,kBAAiBrB,UACpBQ,EACXD,KAAMC,OAAcc,EAAYf,EAChCE,QAASD,OAAcc,EAAYb,EACnCc,IAAKX,EACLY,GAAI,OACAX,GAEJG,EAAAC,cAACf,EAAiB,CAAAuB,WACJ,UAASL,YAEnBZ,EACI,sBACAG,EACE,aACA,WAAUe,UAEP,iBACMC,gBAAA,qBACJ,UAEbX,EAACC,cAAAW,GACCC,IAAI,KACGC,MAAA,mBACCtB,EAAc,gBAAkB,gBAEvCE,IAGLM,EAACC,cAAArB,UACS,OAAMmC,QACL,OACQJ,gBAAA,4BACJ,OAAMK,eACH,CAAC,SAAU,OAAMC,IAC5B,CAAC,wBACA,mBAENjB,EAACC,cAAArB,eAAqB,CAAC,UAAsBsC,UAAA,CAAC,SAC5ClB,EAAAC,cAACkB,EACQ,CAAAL,MAAA,mBACCtB,EAAc,gBAAkB,gBAEvCT,EAAMqC,QAGXpB,EAAAC,cAACvB,EACc,CAAA2C,YAAA,CAAC,oBACH,iBAAgBC,OACnB,CAAC,OAAQ,QACAX,gBAAA,4BACJ,UAEbX,EAAAC,cAACrB,EAAyB,CAAA+B,gBAAA,CAAC,aAAc,aACvCX,EAAAC,cAACkB,EACQ,CAAAL,MAAA,yBACCtB,EAAc,gBAAkB,gBAEvCT,EAAMwC,YAIXvB,EAACC,cAAArB,eAAqB,UACpBoB,EAAAC,cAACuB,EAAO,CAAAV,MACC,kBAAiBW,OAChBjC,EAAc,gBAAkB,gBAEvCM,GAEHE,EAACC,cAAAyB,gBACelC,EAAc,gBAAkB,eAC9CmC,SAAS,sBAOrB"}