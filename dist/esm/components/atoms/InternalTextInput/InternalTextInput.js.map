{"version":3,"file":"InternalTextInput.js","sources":["../../../../../src/components/atoms/InternalTextInput/InternalTextInput.tsx"],"sourcesContent":["import React, {\n  DetailedHTMLProps,\n  InputHTMLAttributes,\n  FocusEvent,\n  useRef,\n} from \"react\";\nimport styled from \"styled-components\";\n\nimport { parseColor } from \"@/styles/helpers/parseColor\";\nimport { getBreakpoint } from \"@/styles/utils/responsiveStyle\";\nimport { SpacingStyleProps, spacingStyle } from \"@/styles/utils/spacingStyle\";\nimport { SizeStyleProps, sizeStyle } from \"@/styles/utils/sizeStyle\";\n\ntype StyledInputProps = Omit<\n  DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>,\n  \"ref\"\n> &\n  SpacingStyleProps &\n  SizeStyleProps;\n\n/**\n * Using `appearance none !important;` here because many style resets will set this\n * value to textfield, causing some browsers to implement undesirable styles.\n * E.g. ios and rounded borders (which border-radius doesn't fix without\n * appearance: none)\n */\nconst StyledInput = styled.input`\n  appearance: none !important;\n  border: 0;\n  border-radius: 0;\n  border-color: transparent;\n  box-shadow: none;\n  font-family: inherit;\n  background: transparent;\n  outline: none;\n  color: inherit;\n\n  @media (max-width: ${getBreakpoint(\"small\")}px) {\n    /* iOS zooms in on inputs with font sizes <16px on mobile */\n    font-size: 16px;\n  }\n\n  ::placeholder {\n    color: ${({ theme }) =>\n      theme && theme.uiColors && parseColor(theme.uiColors[\"text-subdued\"])};\n  }\n\n  ::-webkit-search-decoration,\n  ::-webkit-search-cancel-button,\n  ::-webkit-search-results-button,\n  ::-webkit-search-results-decoration {\n    appearance: none;\n  }\n\n  :disabled {\n    cursor: not-allowed;\n  }\n\n  ${spacingStyle}\n  ${sizeStyle}\n`;\n\nexport type InternalTextInputProps = Omit<StyledInputProps, \"placeholder\"> & {\n  /**\n   * A textual hint or example to display before a value has been entered\n   */\n  placeholder?: string;\n  /**\n   * Fired only when the input is focused for the first time\n   */\n  onInitialFocus?: (e: FocusEvent<HTMLInputElement>) => void;\n};\n\n/**\n *\n * An unstyled input to be used as a basis for UI input components.\n * Supports all the props of a regular `HTMLInputElement`\n *\n * ðŸš¨ The CSS `outline` is disabled so a focus ring must be applied by the consuming component.\n *\n * The following callbacks are available for tracking focus events:\n *\n *  ### onFocus\n * `(e: FocusEvent<HTMLInputElement>) => void;`\n *  ### onBlur\n * `(e: FocusEvent<HTMLInputElement>) => void;`\n *  ### onInitialFocus\n * `(e: FocusEvent<HTMLInputElement>) => void;`<br>\n *  occurs only when the input is focused for the first time\n *\n */\nexport const InternalTextInput = (props: InternalTextInputProps) => {\n  const { onInitialFocus, onFocus, ...rest } = props;\n\n  const hadInitialFocused = useRef(false);\n\n  const handleOnFocus = (e: FocusEvent<HTMLInputElement>) => {\n    if (!hadInitialFocused.current && props.onInitialFocus) {\n      props.onInitialFocus(e);\n      hadInitialFocused.current = true;\n    }\n\n    if (props.onFocus) {\n      props.onFocus(e);\n    }\n  };\n\n  return <StyledInput {...rest} onFocus={handleOnFocus} />;\n};\n"],"names":["StyledInput","styled","input","getBreakpoint","theme","uiColors","parseColor","spacingStyle","sizeStyle","InternalTextInput","props","onInitialFocus","onFocus","rest","hadInitialFocused","useRef","React","createElement","e","current"],"mappings":"mVA0BA,MAAMA,EAAcC,EAAOC,KAAK;;;;;;;;;;;uBAWTC,EAAc;;;;;;aAMxB,EAAGC,WACVA,GAASA,EAAMC,UAAYC,EAAWF,EAAMC,SAAS;;;;;;;;;;;;;;IAcvDE;IACAC;EAgCSC,EAAqBC,IAChC,MAAMC,eAAEA,EAAcC,QAAEA,KAAYC,GAASH,EAEvCI,EAAoBC,GAAO,GAajC,OAAOC,EAAAC,cAACjB,EAAgB,IAAAa,EAAMD,QAXPM,KAChBJ,EAAkBK,SAAWT,EAAMC,iBACtCD,EAAMC,eAAeO,GACrBJ,EAAkBK,SAAU,GAG1BT,EAAME,SACRF,EAAME,QAAQM,EACf,GAGqD"}