{"version":3,"file":"OakIcon.js","sources":["../../../../../src/components/atoms/OakIcon/OakIcon.tsx"],"sourcesContent":["import React from \"react\";\n\nimport { IconName, icons } from \"@/image-map\";\nimport { OakImage, OakImageProps } from \"@/components/atoms/OakImage\";\n\nexport const oakIconNames = Object.keys(icons) as IconName[];\n\nexport type OakIconName = IconName;\n\nexport type OakIconProps = Omit<OakImageProps, \"alt\" | \"src\"> & {\n  /**\n   * The name of the icon to display\n   *\n   * Accepts an icon name token\n   */\n  iconName: OakIconName;\n  alt?: string;\n};\n\n/**\n * returns true if the given string is a valid `OakIconName`\n */\nexport function isValidIconName(iconName: string): iconName is OakIconName {\n  return oakIconNames.includes(iconName as OakIconName);\n}\n\n/**\n * returns a Icon URL from Cloudinary if is a valid icon, otherwise returns undefined\n */\nexport function generateOakIconURL(iconName: string) {\n  const urlPath = `https://${process.env.NEXT_PUBLIC_OAK_ASSETS_HOST}/${process.env.NEXT_PUBLIC_OAK_ASSETS_PATH}`;\n  if (isValidIconName(iconName)) {\n    return `${urlPath}/${icons[iconName]}`;\n  } else if (iconName.includes(\"subject\")) {\n    return `${urlPath}/${icons[\"books\"]}`;\n  } else {\n    return `${urlPath}/${icons[\"question-mark\"]}`;\n  }\n}\n\n/**\n * A wrapper around OakImage which uses the image-map.json file to map icon names to image paths.\n */\nexport const OakIcon = (props: OakIconProps) => {\n  const {\n    iconName,\n    alt,\n    $width = \"all-spacing-7\",\n    $height = \"all-spacing-7\",\n    $minHeight = $height,\n    $minWidth = $width,\n    imageProps,\n    ...rest\n  } = props;\n\n  return (\n    <OakImage\n      src={generateOakIconURL(iconName)}\n      alt={alt ?? iconName}\n      $width={$width}\n      $height={$height}\n      $minHeight={$minHeight}\n      $minWidth={$minWidth}\n      placeholder=\"empty\"\n      // Icons should not be optimised since the SVG is already as small as it can be and should be served directly\n      unoptimized\n      {...rest}\n    />\n  );\n};\n"],"names":["oakIconNames","Object","keys","icons","isValidIconName","iconName","includes","generateOakIconURL","urlPath","process","env","NEXT_PUBLIC_OAK_ASSETS_HOST","NEXT_PUBLIC_OAK_ASSETS_PATH","OakIcon","props","alt","$width","$height","$minHeight","$minWidth","imageProps","rest","React","createElement","OakImage","src","placeholder","unoptimized"],"mappings":"sHAKa,MAAAA,EAAeC,OAAOC,KAAKC,GAiBlC,SAAUC,EAAgBC,GAC9B,OAAOL,EAAaM,SAASD,EAC/B,CAKM,SAAUE,EAAmBF,GACjC,MAAMG,EAAU,WAAWC,QAAQC,IAAIC,+BAA+BF,QAAQC,IAAIE,8BAClF,OAAIR,EAAgBC,GACX,GAAGG,KAAWL,EAAME,KAClBA,EAASC,SAAS,WACpB,GAAGE,KAAWL,EAAa,QAE3B,GAAGK,KAAWL,EAAM,kBAE/B,CAKa,MAAAU,EAAWC,IACtB,MAAMT,SACJA,EAAQU,IACRA,EAAGC,OACHA,EAAS,gBAAeC,QACxBA,EAAU,gBAAeC,WACzBA,EAAaD,EAAOE,UACpBA,EAAYH,EAAMI,WAClBA,KACGC,GACDP,EAEJ,OACEQ,EAACC,cAAAC,EACC,CAAAC,IAAKlB,EAAmBF,GACxBU,IAAKA,GAAOV,EAAQW,OACZA,EAAMC,QACLA,EAAOC,WACJA,EAAUC,UACXA,EACXO,YAAY,QAEZC,aACI,KAAAN,GAEN"}