import t,{useState as e,useLayoutEffect as a}from"react";import{createPortal as o}from"react-dom";import{InternalTooltip as r}from"../../atoms/InternalTooltip/InternalTooltip.js";import"../../atoms/OakAnchorTarget/OakAnchorTarget.js";import"../../atoms/OakAspectRatio/OakAspectRatio.js";import{OakBox as s}from"../../atoms/OakBox/OakBox.js";import"../../atoms/OakCloudinaryImage/OakCloudinaryImage.js";import"../../atoms/OakFlex/OakFlex.js";import"../../atoms/OakForm/OakForm.js";import"../../atoms/OakGlobalStyle/OakGlobalStyle.js";import"../../atoms/OakGrid/OakGrid.js";import"../../atoms/OakGridArea/OakGridArea.js";import"../../atoms/OakHeading/OakHeading.js";import"../../atoms/OakImage/OakImage.js";import"../../atoms/OakSpan/OakSpan.js";import"../../atoms/OakLI/OakLI.js";import"../../atoms/OakLabel/OakLabel.js";import"../../atoms/OakMaxWidth/OakMaxWidth.js";import"../../atoms/OakOL/OakOL.js";import"../../atoms/OakFieldset/OakFieldset.js";import"../../atoms/OakP/OakP.js";import"../../atoms/OakScreenReader/OakScreenReader.js";import"styled-components";import"../../atoms/OakTypography/OakTypography.js";import"../../atoms/OakUL/OakUL.js";import"../../atoms/OakSvg/OakSvg.js";import{parseSpacing as n}from"../../../styles/helpers/parseSpacing.js";const i=({tooltipPosition:n,children:i,tooltip:p,isOpen:l,domContainer:c,...d})=>{const[O,k]=e(null),[b,g]=e(!0),[h,u]=e(c),f=l&&b,[j,$]=e(),w={$borderRadius:"border-radius-m",[(()=>{switch(n){case"bottom-right":return"$btrr";case"top-right":return"$bbrr";case"top-left":return"$bblr";default:return"$btlr"}})()]:"border-radius-square"};return a((()=>{if(!O)return;let t=!1;const e=()=>{t||(requestAnimationFrame((()=>{t=!1;const e=O.getBoundingClientRect();$({top:e.top,left:e.left,width:e.width,height:e.height})})),t=!0)},a=new IntersectionObserver((t=>{g(t.every((t=>t.isIntersecting)))}));a.observe(O);const o=new ResizeObserver(e);return o.observe(O),window.addEventListener("scroll",e,!0),window.addEventListener("resize",e),()=>{o.disconnect(),a.disconnect(),window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",e)}}),[O]),a((()=>{h||u(document.body)}),[h]),t.createElement(t.Fragment,null,h&&o(f&&t.createElement(s,{$position:"fixed",style:j,$pointerEvents:"none",$zIndex:"modal-dialog"},t.createElement(s,{$width:"fit-content",$height:"fit-content",$position:"absolute",...m(n)},t.createElement(r,{$background:"bg-decorative5-main",$color:"text-primary",$pv:"inner-padding-m",$ph:"inner-padding-xl",$font:"heading-light-7",tooltipPosition:n,"aria-expanded":f,...w,...d},p))),h),t.createElement("div",{ref:t=>{k(t?.firstElementChild??null)},style:{display:"contents"}},i))};function m(t){const e={};switch(t){case"top-left":case"top-right":e.$top="space-between-none",e.$transform=`translateY(calc(-100% - ${n("space-between-s")}))`;break;default:e.$bottom="space-between-none",e.$transform=`translateY(calc(100% + ${n("space-between-s")}))`}switch(t){case"top-left":case"bottom-left":e.$left="space-between-none";break;default:e.$right="space-between-none"}return e}export{i as OakTooltip};
//# sourceMappingURL=OakTooltip.js.map
