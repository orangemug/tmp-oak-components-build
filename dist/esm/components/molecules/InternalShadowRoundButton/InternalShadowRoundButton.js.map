{"version":3,"file":"InternalShadowRoundButton.js","sources":["../../../../../src/components/molecules/InternalShadowRoundButton/InternalShadowRoundButton.tsx"],"sourcesContent":["import React, { ElementType } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport { OakRoundIconProps } from \"@/components/molecules/OakRoundIcon\";\nimport { parseColorFilter } from \"@/styles/helpers/parseColorFilter\";\nimport { PolymorphicPropsWithoutRef } from \"@/components/polymorphic\";\nimport { OakBox, OakFlex, OakSpan } from \"@/components/atoms\";\nimport {\n  InternalButton,\n  InternalButtonProps,\n} from \"@/components/atoms/InternalButton\";\nimport { OakIcon, OakIconName } from \"@/components/atoms/OakIcon\";\nimport { OakLoadingSpinner } from \"@/components/molecules/OakLoadingSpinner\";\nimport { parseDropShadow } from \"@/styles/helpers/parseDropShadow\";\nimport {\n  PositionStyleProps,\n  positionStyle,\n} from \"@/styles/utils/positionStyle\";\nimport { parseColor } from \"@/styles/helpers/parseColor\";\nimport { OakCombinedColorToken } from \"@/styles\";\nimport { SizeStyleProps, sizeStyle } from \"@/styles/utils/sizeStyle\";\n\nexport type InternalShadowRoundButtonProps = Omit<\n  InternalButtonProps,\n  | \"$pa\"\n  | \"$ph\"\n  | \"$pv\"\n  | \"$ba\"\n  | \"$borderRadius\"\n  | \"$borderColor\"\n  | \"$background\"\n  | \"$color\"\n> & {\n  iconName?: OakIconName;\n  isTrailingIcon?: boolean;\n  defaultTextColor: OakCombinedColorToken;\n  hoverTextColor: OakCombinedColorToken;\n  disabledTextColor: OakCombinedColorToken;\n  defaultIconBackground: OakCombinedColorToken;\n  hoverIconBackground: OakCombinedColorToken;\n  hoverIconColor?: OakCombinedColorToken;\n  disabledIconBackground: OakCombinedColorToken;\n  defaultIconColor?: OakRoundIconProps[\"$colorFilter\"];\n  disabledIconColor?: OakRoundIconProps[\"$colorFilter\"];\n  width?: SizeStyleProps[\"$width\"];\n  maxWidth?: SizeStyleProps[\"$maxWidth\"];\n  iconBackgroundSize: SizeStyleProps[\"$width\"];\n  iconSize: SizeStyleProps[\"$width\"];\n} & PositionStyleProps;\n\nconst StyledInternalButton = styled(InternalButton)<\n  InternalShadowRoundButtonProps & SizeStyleProps\n>`\n  display: inline-block;\n  ${positionStyle}\n  ${sizeStyle}\n  ${(props) => css`\n    &:hover {\n      text-decoration: underline;\n      color: ${parseColor(props.$hoverTextColor)};\n\n      &:not(:active) [data-icon-for=\"button\"] img {\n        filter: ${props.$hoverIconColor\n          ? parseColorFilter(props.$hoverIconColor)\n          : undefined};\n      }\n    }\n    &:active {\n      color: ${parseColor(props.$defaultTextColor)};\n    }\n    &:disabled {\n      color: ${parseColor(props.$disabledTextColor)};\n    }\n  `}\n`;\n\nconst StyledButtonWrapper = styled(OakFlex)<{\n  $disabledIconBackground: OakCombinedColorToken;\n  $hoverIconBackground: OakCombinedColorToken;\n  $defaultIconBackground: OakCombinedColorToken;\n}>`\n  > :first-child:focus-visible .shadow {\n    box-shadow: ${parseDropShadow(\"drop-shadow-centered-lemon\")},\n      ${parseDropShadow(\"drop-shadow-centered-grey\")};\n  }\n  > :first-child:hover .shadow {\n    box-shadow: ${parseDropShadow(\"drop-shadow-lemon\")};\n  }\n  > :first-child:active .shadow {\n    box-shadow: ${parseDropShadow(\"drop-shadow-lemon\")},\n      ${parseDropShadow(\"drop-shadow-grey\")};\n  }\n  ${(props) => css`\n    > :first-child:disabled .icon-container {\n      background: ${parseColor(props.$disabledIconBackground)};\n    }\n    > :first-child:hover .icon-container {\n      background: ${parseColor(props.$hoverIconBackground)};\n    }\n    > :first-child:active .icon-container {\n      background: ${parseColor(props.$defaultIconBackground)};\n    }\n  `}\n`;\n\n/**\n *\n * A styled button with round icons, not intended to be used directly. \n * Instead used by OakTertiaryButton and OakHintButton.\n * \n * The following callbacks are available for tracking focus events:\n *\n * ### onClick\n * `onClick?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;`\n\n * ### onHovered\n *  `onHovered?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>, duration: number) => void;`<br>\n *  called after a mouseEnter and mouseLeave event has happened\n */\nexport const InternalShadowRoundButton = <C extends ElementType = \"button\">(\n  props: InternalShadowRoundButtonProps & PolymorphicPropsWithoutRef<C>,\n) => {\n  const {\n    element = \"button\",\n    children,\n    iconName,\n    isTrailingIcon,\n    isLoading,\n    disabled,\n    width = \"max-content\",\n    maxWidth,\n    iconBackgroundSize,\n    iconSize,\n    disabledIconBackground,\n    hoverIconColor,\n    disabledTextColor,\n    defaultIconColor,\n    hoverIconBackground,\n    defaultIconBackground,\n    disabledIconColor,\n    defaultTextColor,\n    hoverTextColor,\n    className,\n    ...rest\n  } = props;\n\n  const icon = iconName && (\n    <OakIcon\n      iconName={iconName}\n      $width={iconSize}\n      $height={iconSize}\n      $colorFilter={\n        props.disabled\n          ? disabledIconColor\n          : defaultIconColor\n            ? defaultIconColor\n            : null\n      }\n      data-icon-for=\"button\"\n    />\n  );\n  const loader = (\n    <OakBox $width={iconSize} $height={iconSize}>\n      <OakLoadingSpinner $width={iconSize} loaderColor=\"white\" />\n    </OakBox>\n  );\n  const iconLogic = (isLoading || icon) && (\n    <OakFlex\n      className={\"icon-container\"}\n      $background={props.defaultIconBackground}\n      $color={props.defaultTextColor}\n      $borderRadius={\"border-radius-circle\"}\n      $position={\"relative\"}\n      $width={iconBackgroundSize}\n      $height={iconBackgroundSize}\n      $alignItems={\"center\"}\n      $justifyContent={\"center\"}\n      $minWidth={iconBackgroundSize}\n    >\n      <OakBox\n        className=\"shadow\"\n        $position={\"absolute\"}\n        $borderRadius={\"border-radius-circle\"}\n        $width={\"100%\"}\n        $height={\"100%\"}\n        $top=\"all-spacing-0\"\n      />\n\n      {isLoading && !disabled ? loader : icon}\n    </OakFlex>\n  );\n\n  return (\n    <StyledButtonWrapper\n      className={className}\n      $position={\"relative\"}\n      $width={width}\n      $maxWidth={maxWidth}\n      $disabledIconBackground={disabledIconBackground}\n      $hoverIconBackground={hoverIconBackground}\n      $defaultIconBackground={defaultIconBackground}\n    >\n      <StyledInternalButton\n        element={element ?? \"button\"}\n        {...rest}\n        $hoverTextColor={hoverTextColor}\n        $hoverIconColor={hoverIconColor}\n        $defaultTextColor={defaultTextColor}\n        $disabledTextColor={disabledTextColor}\n        $color={defaultTextColor}\n        $position={\"relative\"}\n        disabled={disabled || isLoading}\n      >\n        <OakFlex\n          $flexDirection={\"row\"}\n          $alignItems={\"center\"}\n          $gap={children ? \"space-between-xs\" : \"space-between-none\"}\n          $justifyContent=\"center\"\n        >\n          {!isTrailingIcon && iconLogic}\n          <OakSpan $font={\"heading-7\"}>{children}</OakSpan>\n          {isTrailingIcon && iconLogic}\n        </OakFlex>\n      </StyledInternalButton>\n    </StyledButtonWrapper>\n  );\n};\n"],"names":["StyledInternalButton","styled","InternalButton","positionStyle","sizeStyle","props","css","parseColor","$hoverTextColor","$hoverIconColor","parseColorFilter","undefined","$defaultTextColor","$disabledTextColor","StyledButtonWrapper","OakFlex","parseDropShadow","$disabledIconBackground","$hoverIconBackground","$defaultIconBackground","InternalShadowRoundButton","element","children","iconName","isTrailingIcon","isLoading","disabled","width","maxWidth","iconBackgroundSize","iconSize","disabledIconBackground","hoverIconColor","disabledTextColor","defaultIconColor","hoverIconBackground","defaultIconBackground","disabledIconColor","defaultTextColor","hoverTextColor","className","rest","icon","React","createElement","OakIcon","$height","$colorFilter","loader","OakBox","$width","OakLoadingSpinner","loaderColor","iconLogic","$color","$borderRadius","$alignItems","$justifyContent","$position","$top","$flexDirection","OakSpan","$font"],"mappings":"mnDAkDA,MAAMA,EAAuBC,EAAOC,EAEnC;;IAEGC;IACAC;IACCC,GAAUC,CAAG;;;eAGHC,EAAWF,EAAMG;;;kBAGdH,EAAMI,gBACZC,EAAiBL,EAAMI,sBACvBE;;;;eAIGJ,EAAWF,EAAMO;;;eAGjBL,EAAWF,EAAMQ;;;EAK1BC,EAAsBb,EAAOc,EAIjC;;kBAEgBC,EAAgB;QAC1BA,EAAgB;;;kBAGNA,EAAgB;;;kBAGhBA,EAAgB;QAC1BA,EAAgB;;IAEnBX,GAAUC,CAAG;;oBAEEC,EAAWF,EAAMY;;;oBAGjBV,EAAWF,EAAMa;;;oBAGjBX,EAAWF,EAAMc;;;EAmBxBC,EACXf,IAEA,MAAMgB,QACJA,EAAU,SAAQC,SAClBA,EAAQC,SACRA,EAAQC,eACRA,EAAcC,UACdA,EAASC,SACTA,EAAQC,MACRA,EAAQ,cAAaC,SACrBA,EAAQC,mBACRA,EAAkBC,SAClBA,EAAQC,uBACRA,EAAsBC,eACtBA,EAAcC,kBACdA,EAAiBC,iBACjBA,EAAgBC,oBAChBA,EAAmBC,sBACnBA,EAAqBC,kBACrBA,EAAiBC,iBACjBA,EAAgBC,eAChBA,EAAcC,UACdA,KACGC,GACDpC,EAEEqC,EAAOnB,GACXoB,EAAAC,cAACC,EACC,CAAAtB,SAAUA,SACFO,EAAQgB,QACPhB,EAEPiB,aAAA1C,EAAMqB,SACFW,EACAH,GAEE,KAAI,gBAEE,WAGZc,EACJL,EAAAC,cAACK,EAAe,CAAAC,OAAApB,UAAmBA,GACjCa,EAACC,cAAAO,EAA0B,CAAAD,OAAApB,EAAUsB,YAAY,WAG/CC,GAAa5B,GAAaiB,IAC9BC,EAAAC,cAAC7B,EACC,CAAAyB,UAAW,6BACEnC,EAAM+B,sBAAqBkB,OAChCjD,EAAMiC,iBACCiB,cAAA,iCACJ,WAAUL,OACbrB,EAAkBiB,QACjBjB,EACI2B,YAAA,SACIC,gBAAA,mBACN5B,GAEXc,EAAAC,cAACK,EAAM,CACLT,UAAU,SACCkB,UAAA,WACIH,cAAA,8BACP,OAAMT,QACL,OAAMa,KACV,kBAGNlC,IAAcC,EAAWsB,EAASN,GAIvC,OACEC,EAACC,cAAA9B,GACC0B,UAAWA,EACAkB,UAAA,WACHR,OAAAvB,YACGC,EAAQX,wBACMc,EACHb,qBAAAiB,yBACEC,GAExBO,EAACC,cAAA5C,EACC,CAAAqB,QAASA,GAAW,YAChBoB,EACajC,gBAAA+B,EACA9B,gBAAAuB,oBACEM,EAAgBzB,mBACfoB,EAAiBqB,OAC7BhB,EAAgBoB,UACb,WACXhC,SAAUA,GAAYD,GAEtBkB,EAAAC,cAAC7B,EACiB,CAAA6C,eAAA,MACHJ,YAAA,cACPlC,EAAW,mBAAqB,qCACtB,WAEdE,GAAkB6B,EACpBV,EAAAC,cAACiB,EAAO,CAAAC,MAAQ,aAAcxC,GAC7BE,GAAkB6B,IAIzB"}