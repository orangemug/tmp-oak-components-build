{"version":3,"file":"InternalModalTransition.js","sources":["../../../../../src/components/molecules/InternalModalTransition/InternalModalTransition.tsx"],"sourcesContent":["import React, { FC } from \"react\";\nimport { FocusOn } from \"react-focus-on\";\nimport { Transition, TransitionStatus } from \"react-transition-group\";\nimport styled from \"styled-components\";\n\nimport InternalSlideInFlex from \"@/components/molecules/InternalSlideInFlex/InternalSlideInFlex\";\nimport { OakBox } from \"@/components/atoms/OakBox\";\nimport { parseOpacity } from \"@/styles/helpers/parseOpacity\";\n\ntype TransitionProps = {\n  children: React.ReactNode;\n  isOpen: boolean;\n  onClose: () => void;\n  transitionRef: React.RefObject<HTMLDivElement>;\n  finalZIndex: number | \"modal-dialog\";\n  isLeftHandSide?: boolean;\n};\n\nconst FadeOutBox = styled(OakBox)<{ $state: TransitionStatus }>`\n  opacity: ${({ $state }) => {\n    switch ($state) {\n      case \"entered\":\n      case \"entering\":\n        return parseOpacity(\"semi-transparent\");\n      default:\n        return parseOpacity(\"transparent\");\n    }\n  }};\n  background-color: black;\n  position: fixed;\n  inset: 0;\n  transition: ease;\n`;\n\nconst InternalModalTransition: FC<TransitionProps> = ({\n  children,\n  isOpen,\n  transitionRef,\n  onClose,\n  finalZIndex,\n  isLeftHandSide,\n  ...rest\n}) => {\n  return (\n    <Transition\n      in={isOpen}\n      nodeRef={transitionRef}\n      addEndListener={(done) => {\n        transitionRef.current?.addEventListener(\"transitionend\", done);\n      }}\n      timeout={500}\n      mountOnEnter\n      unmountOnExit\n    >\n      {(state) => (\n        <FocusOn onEscapeKey={onClose} returnFocus autoFocus>\n          <FadeOutBox\n            $zIndex={finalZIndex}\n            $state={state}\n            onClick={!isLeftHandSide ? onClose : undefined}\n          />\n          <InternalSlideInFlex\n            isLeftHandSide={isLeftHandSide}\n            ref={transitionRef}\n            $zIndex={finalZIndex}\n            $state={state}\n            {...rest}\n          >\n            {children}\n          </InternalSlideInFlex>\n        </FocusOn>\n      )}\n    </Transition>\n  );\n};\n\nexport default InternalModalTransition;\n"],"names":["FadeOutBox","styled","OakBox","$state","parseOpacity","InternalModalTransition","children","isOpen","transitionRef","onClose","finalZIndex","isLeftHandSide","rest","React","createElement","Transition","in","nodeRef","addEndListener","done","current","addEventListener","timeout","mountOnEnter","unmountOnExit","state","FocusOn","onEscapeKey","returnFocus","autoFocus","$zIndex","onClick","undefined","InternalSlideInFlex","ref"],"mappings":"6UAkBA,MAAMA,EAAaC,EAAOC,EAAqC;aAClD,EAAGC,aACZ,OAAQA,GACN,IAAK,UACL,IAAK,WACH,OAAOC,EAAa,oBACtB,QACE,OAAOA,EAAa,eACvB;;;;;EAQCC,EAA+C,EACnDC,WACAC,SACAC,gBACAC,UACAC,cACAC,oBACGC,KAGDC,EAACC,cAAAC,EACC,CAAAC,GAAIT,EACJU,QAAST,EACTU,eAAiBC,IACfX,EAAcY,SAASC,iBAAiB,gBAAiBF,EAAK,EAEhEG,QAAS,IACTC,cACA,EAAAC,eAEC,IAACC,GACAZ,EAACC,cAAAY,EAAQ,CAAAC,YAAalB,EAASmB,aAAW,EAACC,WAAS,GAClDhB,EAAAC,cAACd,EACU,CAAA8B,QAAApB,SACDe,EACRM,QAAUpB,OAA2BqB,EAAVvB,IAE7BI,EAACC,cAAAmB,GACCtB,eAAgBA,EAChBuB,IAAK1B,EACIsB,QAAApB,SACDe,KACJb,GAEHN"}