{"version":3,"file":"OakRadioTile.js","sources":["../../../../../src/components/molecules/OakRadioTile/OakRadioTile.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport { OakFlex } from \"@/components/atoms/OakFlex\";\nimport { parseSpacing } from \"@/styles/helpers/parseSpacing\";\nimport {\n  OakBox,\n  OakBoxProps,\n  OakLabel,\n  OakLabelProps,\n} from \"@/components/atoms\";\nimport { parseColor } from \"@/styles/helpers/parseColor\";\n\nexport type TileItem = { id: string; label: string };\nexport const isTileItem = (u: unknown): u is TileItem => {\n  return (\n    typeof u === \"object\" &&\n    u !== null &&\n    typeof (u as TileItem).id === \"string\" &&\n    typeof (u as TileItem).label === \"string\"\n  );\n};\n\nexport type OakRadioTileProps = {\n  tileItem: TileItem;\n  isChecked: boolean;\n  id: string;\n  onChange: (tileItem: TileItem) => void;\n};\n\nconst RadioTileLabel = styled(OakLabel)<OakLabelProps>`\n  cursor: pointer;\n  display: flex;\n  gap: ${parseSpacing(\"space-between-s\")};\n`;\n\nconst HiddenRadioButtonInput = styled.input.attrs({\n  type: \"radio\",\n})`\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n`;\n\nconst RadioTileFocus = styled(OakBox)<OakBoxProps>`\n  box-shadow: ${`inset 0 0 0 0.15rem ${parseColor(\"lemon\")}`};\n  width: calc(100% + 12px);\n  height: calc(100% + 12px);\n  top: -6px;\n  left: -6px;\n`;\n\nconst OakRadioTileCss = css<OakRadioTileProps>``;\n\nconst UnstyledComponent = (props: OakRadioTileProps) => {\n  const { tileItem, isChecked, id, onChange } = props;\n  const [isFocussed, setIsFocussed] = useState(false);\n  return (\n    <OakBox\n      $borderColor=\"border-neutral\"\n      $ba=\"border-solid-m\"\n      $borderRadius=\"border-radius-s\"\n      $pa=\"inner-padding-s\"\n      $position=\"relative\"\n      $background={isFocussed || isChecked ? \"black\" : \"transparent\"}\n      $color={isFocussed || isChecked ? \"white\" : \"black\"}\n    >\n      {isFocussed && (\n        <RadioTileFocus\n          $background=\"transparent\"\n          $position=\"absolute\"\n          $ba=\"border-solid-l\"\n          $borderColor=\"grey60\"\n          $borderRadius=\"border-radius-s\"\n          data-testid=\"radio-tile-focus\"\n        />\n      )}\n\n      <RadioTileLabel htmlFor={id}>\n        <HiddenRadioButtonInput\n          value={tileItem.id}\n          id={id}\n          checked={isChecked}\n          onChange={() => onChange(tileItem)}\n          tabIndex={0}\n          onFocus={() => setIsFocussed(true)}\n          onBlur={() => setIsFocussed(false)}\n          onClick={(e) => {\n            // remove focus on mouse click events\n            if (e.clientX || e.clientY) {\n              setIsFocussed(false);\n            }\n          }}\n        />\n        <OakFlex\n          $height={\"all-spacing-6\"}\n          $width=\"all-spacing-6\"\n          $borderColor=\"border-neutral\"\n          $flexGrow={0}\n          $flexShrink={0}\n          $alignItems={\"center\"}\n          $justifyContent={\"center\"}\n          $background={\"bg-primary\"}\n          $ba=\"border-solid-m\"\n          $borderRadius=\"border-radius-circle\"\n        >\n          {isChecked && (\n            <OakBox\n              $height=\"all-spacing-4\"\n              $width=\"all-spacing-4\"\n              $background=\"black\"\n              $position=\"absolute\"\n              $borderRadius=\"border-radius-circle\"\n              data-testid=\"radio-tile-checked\"\n            />\n          )}\n        </OakFlex>\n        {tileItem.label}\n      </RadioTileLabel>\n    </OakBox>\n  );\n};\n\nexport const OakRadioTile = styled(UnstyledComponent)`\n  ${OakRadioTileCss}\n`;\n"],"names":["isTileItem","u","id","label","RadioTileLabel","styled","OakLabel","parseSpacing","HiddenRadioButtonInput","input","attrs","type","RadioTileFocus","OakBox","parseColor","OakRadioTileCss","css","OakRadioTile","props","tileItem","isChecked","onChange","isFocussed","setIsFocussed","useState","React","createElement","$borderColor","$borderRadius","$pa","$position","$background","$ba","htmlFor","value","checked","tabIndex","onFocus","onBlur","onClick","e","clientX","clientY","OakFlex","$height","$flexGrow","$flexShrink","$justifyContent","$width"],"mappings":"mtCAca,MAAAA,EAAcC,GAEV,iBAANA,GACD,OAANA,GAC8B,iBAAtBA,EAAeC,IACU,iBAAzBD,EAAeE,MAWrBC,EAAiBC,EAAOC,EAAwB;;;SAG7CC,EAAa;EAGhBC,EAAyBH,EAAOI,MAAMC,MAAM,CAChDC,KAAM,SACN;;;;EAMIC,EAAiBP,EAAOQ,EAAoB;gBAClC,uBAAuBC,EAAW;;;;;EAO5CC,EAAkBC,CAAsB,GAuEjCC,EAAeZ,GArEDa,IACzB,MAAMC,SAAEA,EAAQC,UAAEA,EAASlB,GAAEA,EAAEmB,SAAEA,GAAaH,GACvCI,EAAYC,GAAiBC,GAAS,GAC7C,OACEC,EAACC,cAAAb,EACc,CAAAc,aAAA,qBACT,iBAAgBC,cACN,kBAAiBC,IAC3B,kBACMC,UAAA,WACGC,YAAAT,GAAcF,EAAY,QAAU,qBACzCE,GAAcF,EAAY,QAAU,SAE3CE,GACCG,EAAAC,cAACd,EAAc,CAAAmB,YACD,cACFD,UAAA,WACNE,IAAA,8BACS,SAAQJ,cACP,kBACF,cAAA,qBAIhBH,EAAAC,cAACtB,EAAc,CAAC6B,QAAS/B,GACvBuB,EAACC,cAAAlB,EACC,CAAA0B,MAAOf,EAASjB,GAChBA,GAAIA,EACJiC,QAASf,EACTC,SAAU,IAAMA,EAASF,GACzBiB,SAAU,EACVC,QAAS,IAAMd,GAAc,GAC7Be,OAAQ,IAAMf,GAAc,GAC5BgB,QAAUC,KAEJA,EAAEC,SAAWD,EAAEE,UACjBnB,GAAc,EACf,IAGLE,EAAAC,cAACiB,EACU,CAAAC,QAAA,uBACF,gBAAejB,aACT,iBACFkB,UAAA,EACEC,YAAA,cACA,SAAQC,gBACJ,SACJhB,YAAA,iBACT,iBAAgBH,cACN,wBAEbR,GACCK,gBAACZ,EAAM,CAAA+B,QACG,gBACDI,OAAA,4BACK,QAAOlB,UACT,WACIF,cAAA,qCACF,wBAIjBT,EAAShB,OAGd,GAGiD;IACjDY;"}