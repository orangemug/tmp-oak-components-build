import a,{useState as t}from"react";import{OakSmallSecondaryButton as o}from"../OakSmallSecondaryButton/OakSmallSecondaryButton.js";import"../../atoms/OakAnchorTarget/OakAnchorTarget.js";import"../../atoms/OakAspectRatio/OakAspectRatio.js";import{OakBox as e}from"../../atoms/OakBox/OakBox.js";import"../../atoms/OakCloudinaryImage/OakCloudinaryImage.js";import"../../atoms/OakFlex/OakFlex.js";import"../../atoms/OakForm/OakForm.js";import"../../atoms/OakGlobalStyle/OakGlobalStyle.js";import"../../atoms/OakGrid/OakGrid.js";import"../../atoms/OakGridArea/OakGridArea.js";import"../../atoms/OakHeading/OakHeading.js";import"../../atoms/OakImage/OakImage.js";import"../../atoms/OakSpan/OakSpan.js";import"../../atoms/OakLI/OakLI.js";import"../../atoms/OakLabel/OakLabel.js";import"../../atoms/OakMaxWidth/OakMaxWidth.js";import"../../atoms/OakOL/OakOL.js";import"../../atoms/OakFieldset/OakFieldset.js";import"../../atoms/OakP/OakP.js";import"../../atoms/OakScreenReader/OakScreenReader.js";import"styled-components";import"../../atoms/OakTypography/OakTypography.js";import"../../atoms/OakUL/OakUL.js";import"../../atoms/OakSvg/OakSvg.js";const r=({href:r})=>{const i="Copy link",s="Link copied",[m,k]=t(i),[n,l]=t(!0),[p,O]=t(""),c=()=>{if(navigator.clipboard){const a=r||window.location.href;navigator.clipboard.writeText(a),k(s),O(s),l(!1);setTimeout((()=>{O(""),l(!0),k(i)}),4e3)}else alert("Please update your browser to support this feature")};return a.createElement(a.Fragment,null,a.createElement(e,{$display:["none","block"]},a.createElement(o,{iconName:n?"copy":"tick",iconAriaHidden:!0,isTrailingIcon:!0,onClick:c,"data-testid":"copy-link-desktop-button"},m)),a.createElement(e,{$display:["block","none"]},a.createElement(o,{onClick:c},m)),p&&a.createElement("div",{"aria-relevant":"all","aria-live":"polite",style:{position:"absolute",left:"-9999px"},"data-testid":"announce"},p))};export{r as OakCopyLinkButton};
//# sourceMappingURL=OakCopyLinkButton.js.map
