import e from"react";import o from"styled-components";import"../../atoms/OakAnchorTarget/OakAnchorTarget.js";import"../../atoms/OakAspectRatio/OakAspectRatio.js";import{OakBox as a}from"../../atoms/OakBox/OakBox.js";import"../../atoms/OakCloudinaryImage/OakCloudinaryImage.js";import{OakFlex as r}from"../../atoms/OakFlex/OakFlex.js";import"../../atoms/OakForm/OakForm.js";import"../../atoms/OakGlobalStyle/OakGlobalStyle.js";import"../../atoms/OakGrid/OakGrid.js";import"../../atoms/OakGridArea/OakGridArea.js";import"../../atoms/OakHeading/OakHeading.js";import"../../atoms/OakImage/OakImage.js";import{OakSpan as t}from"../../atoms/OakSpan/OakSpan.js";import"../../atoms/OakLI/OakLI.js";import"../../atoms/OakLabel/OakLabel.js";import"../../atoms/OakMaxWidth/OakMaxWidth.js";import"../../atoms/OakOL/OakOL.js";import"../../atoms/OakFieldset/OakFieldset.js";import"../../atoms/OakP/OakP.js";import"../../atoms/OakScreenReader/OakScreenReader.js";import"../../atoms/OakTypography/OakTypography.js";import"../../atoms/OakUL/OakUL.js";import"../../atoms/OakSvg/OakSvg.js";const s=o(a)`
  font-family: "Roboto Mono", --font-roboto-mono, monospace;
`,i=({string:o,...a})=>{const i=o=>{const r=o.split(/(`.*?`)/);return 1!==r.length||o.startsWith("`")?e.createElement(t,null,r.map(((o,r)=>o.startsWith("`")&&o.endsWith("`")?e.createElement(s,{key:r,$background:"grey70",$color:"white",$pv:["inner-padding-none","inner-padding-ssx"],$ph:["inner-padding-xs","inner-padding-xs"],$borderRadius:"border-radius-m2",$display:"inline-block",$font:["code-2","code-1"],...a},o.slice(1,-1)):o))):o},n=(o,i)=>{const n=o.match(/```([\s\S]*?)```/);if(!n)return o;const m=n[1];if(!m)return o;const l=(o=>{const a=[{regex:/"(.*?)"|'(.*?)'/g,color:"code-green"},{regex:/\b(and|as|assert|async|await|break|class|continue|def|del|elif|else|except|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|raise|return|try|while|with|yield)\b/g,color:"code-pink"},{regex:/\b(False|None|True)\b/g,color:"code-blue"},{regex:/\b\d+\b/g,color:"code-blue"}],r=[o];let s=!0;for(;s;){let o=!1;if(r.forEach(((s,i)=>{for(const{regex:n,color:m}of a)if("string"==typeof s){const a=n.exec(s);if(a){o=!0;const[n]=a;r.splice(i,1),r.splice(i,0,s.slice(0,a.index)),r.splice(i+1,0,e.createElement(t,{key:`${s}-${i}`,$color:m},n)),r.splice(i+2,0,s.slice(a.index+n.length));break}}})),!o)return s=!1,r}})(m);return e.createElement(s,{key:`${o}-${i}`,$background:"grey70",$color:"code-grey",$pv:"inner-padding-xs",$ph:"inner-padding-s",$borderRadius:"border-radius-m2",$whiteSpace:"pre-wrap",$mt:"space-between-xl",$font:"code-2",...a},e.createElement(r,{$flexDirection:"row"},e.createElement(r,{$flexDirection:"column",$br:"border-solid-s",$borderColor:"border-neutral",$pr:"inner-padding-s"},m.split("\n").map(((o,a)=>e.createElement(t,{key:`${o}-${a}`},a+1)))),e.createElement(t,{$pl:"inner-padding-s"},l)))};return (o=>{const a=o.split(/(```[\s\S]*?```)/);return 1!==a.length||o.startsWith("```")?e.createElement(r,{$flexDirection:"column"},a.map(((o,a)=>o.startsWith("```")&&o.endsWith("```")?n(o,a):e.createElement(t,{key:`${o}-${a}`},i(o))))):i(o)})(o);};export{i as OakCodeRenderer};
//# sourceMappingURL=OakCodeRenderer.js.map
