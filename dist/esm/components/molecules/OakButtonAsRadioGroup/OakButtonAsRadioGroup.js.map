{"version":3,"file":"OakButtonAsRadioGroup.js","sources":["../../../../../src/components/molecules/OakButtonAsRadioGroup/OakButtonAsRadioGroup.tsx"],"sourcesContent":["import React, { createContext, useState } from \"react\";\n\nimport { TypographyStyleProps } from \"@/styles/utils/typographyStyle\";\nimport { ColorStyleProps } from \"@/styles/utils/colorStyle\";\nimport { OakFlex, OakLabel } from \"@/components/atoms\";\nimport { FlexStyleProps } from \"@/styles/utils/flexStyle\";\n\ntype RadioContextType = {\n  currentValue: string;\n  name: string;\n  disabled?: boolean;\n  onValueUpdated?: (value: string) => void;\n};\n\nexport const RadioContext = createContext<RadioContextType>({\n  currentValue: \"default\",\n  name: \"default\",\n});\n\nexport type OakButtonAsRadioGroupProps = {\n  label?: string;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  name: string;\n  disabled?: boolean;\n  children: React.ReactNode;\n  onChange?: (value: string) => void;\n  /**\n   * Sets the value of the radio group\n   * for use as a controlled component\n   */\n  value?: string;\n  /**\n   * Sets the initial value of the radio group\n   * for use as an uncontrolled component\n   */\n  defaultValue?: string;\n} & Pick<TypographyStyleProps, \"$font\"> &\n  ColorStyleProps &\n  Pick<\n    FlexStyleProps,\n    \"$flexDirection\" | \"$alignItems\" | \"$gap\" | \"$flexWrap\" | \"$justifyContent\"\n  >;\n\n/**\n *\n * A react context supporting a list of mutually exclusive options rendered as buttons.\n *\n * ## Usage\n *\n * the nested items should be OakSecondaryButtonAsRadio or implement the same logic.\n * use the callback onChange to get the value of the clicked button.\n *\n */\n\nexport const OakButtonAsRadioGroup = (props: OakButtonAsRadioGroupProps) => {\n  const {\n    name,\n    children,\n    label,\n    ariaLabel,\n    ariaLabelledby,\n    onChange,\n    $font = \"body-1-bold\",\n    $gap = \"space-between-s\",\n    disabled,\n    value,\n    defaultValue = \"\",\n    ...rest\n  } = props;\n\n  const [currentValue, setValue] = useState(defaultValue);\n\n  if (!label && !ariaLabel && !ariaLabelledby) {\n    throw new Error(\n      \"OakButtonAsRadioGroup: At least one of label, ariaLabel or ariaLabelledby is required\",\n    );\n  }\n\n  const handleValueUpdated = (newValue: string) => {\n    if (value === undefined) {\n      setValue(newValue);\n    }\n    if (onChange) {\n      onChange(newValue);\n    }\n  };\n\n  return (\n    <OakFlex\n      role=\"radiogroup\"\n      $gap={$gap}\n      {...rest}\n      aria-label={ariaLabel}\n      aria-labelledby={ariaLabelledby}\n    >\n      {label && <OakLabel $font={$font}>{label}</OakLabel>}\n      <RadioContext.Provider\n        value={{\n          currentValue: value ?? currentValue,\n          name,\n          disabled: disabled,\n          onValueUpdated: handleValueUpdated,\n        }}\n      >\n        {children}\n      </RadioContext.Provider>\n    </OakFlex>\n  );\n};\n"],"names":["RadioContext","createContext","currentValue","name","OakButtonAsRadioGroup","props","children","label","ariaLabel","ariaLabelledby","onChange","$font","$gap","disabled","value","defaultValue","rest","setValue","useState","Error","React","createElement","OakFlex","role","OakLabel","Provider","onValueUpdated","newValue","undefined"],"mappings":"0jCAcO,MAAMA,EAAeC,EAAgC,CAC1DC,aAAc,UACdC,KAAM,YAuCKC,EAAyBC,IACpC,MAAMF,KACJA,EAAIG,SACJA,EAAQC,MACRA,EAAKC,UACLA,EAASC,eACTA,EAAcC,SACdA,EAAQC,MACRA,EAAQ,cAAaC,KACrBA,EAAO,kBAAiBC,SACxBA,EAAQC,MACRA,EAAKC,aACLA,EAAe,MACZC,GACDX,GAEGH,EAAce,GAAYC,EAASH,GAE1C,IAAKR,IAAUC,IAAcC,EAC3B,MAAM,IAAIU,MACR,yFAaJ,OACEC,EAAAC,cAACC,EAAO,CACNC,KAAK,aACCX,KAAAA,KACFI,EACQ,aAAAR,oBACKC,GAEhBF,GAASa,EAACC,cAAAG,SAAgBb,GAAQJ,GACnCa,EAAAC,cAACrB,EAAayB,SAAQ,CACpBX,MAAO,CACLZ,aAAcY,GAASZ,EACvBC,OACAU,SAAUA,EACVa,eAvBoBC,SACZC,IAAVd,GACFG,EAASU,GAEPjB,GACFA,EAASiB,EACV,IAoBIrB,GAGL"}