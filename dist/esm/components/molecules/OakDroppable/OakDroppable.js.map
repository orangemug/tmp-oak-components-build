{"version":3,"file":"OakDroppable.js","sources":["../../../../../src/components/molecules/OakDroppable/OakDroppable.tsx"],"sourcesContent":["import React, {\n  ComponentPropsWithRef,\n  ComponentPropsWithoutRef,\n  FC,\n  ReactNode,\n  forwardRef,\n} from \"react\";\nimport styled from \"styled-components\";\n\nimport { OakBox, OakFlex } from \"@/components/atoms\";\nimport { parseBorder } from \"@/styles/helpers/parseBorder\";\nimport { parseColor } from \"@/styles/helpers/parseColor\";\n\nexport type OakDroppableProps = {\n  /**\n   * Indicates whether a draggable is currently being dragged over the droppable\n   */\n  isOver?: boolean;\n  /**\n   * Present the element in a state making it clear that it can be dropped into\n   */\n  isDisabled?: boolean;\n  /**\n   * Give the droppable a highlight to draw attention to it\n   */\n  isHighlighted?: boolean;\n  /**\n   * A slot for a label to be displayed to the RHS of the droppable\n   *\n   * useful for giving the user a hint about what to drop\n   */\n  labelSlot?: ReactNode;\n  /**\n   * A slot for the draggable that is currently occupying the droppable\n   */\n  children?: ReactNode;\n};\n\nconst StyledFlex = styled(OakFlex)`\n  outline: ${parseBorder(\"border-solid-l\")} ${parseColor(\"border-primary\")};\n  outline-style: dashed;\n\n  &[data-disabled=\"true\"] {\n    outline-color: ${parseColor(\"border-neutral\")};\n  }\n`;\n\n/**\n * A drop zone for a draggable\n *\n * Has no intrinsic drop functionality.\n * It is intended to be used with `useDraggable` from `@dnd-kit/core`\n */\nexport const OakDroppable: FC<\n  OakDroppableProps & ComponentPropsWithRef<typeof OakFlex>\n> = forwardRef<\n  HTMLDivElement,\n  OakDroppableProps & ComponentPropsWithoutRef<typeof OakFlex>\n>(\n  (\n    { children, labelSlot, isOver, isHighlighted, isDisabled, ...props },\n    ref,\n  ) => {\n    const slotBackground = (() => {\n      switch (true) {\n        case isOver:\n          return \"bg-primary\";\n        case isDisabled:\n          return \"bg-decorative2-subdued\";\n        default:\n          return \"bg-neutral\";\n      }\n    })();\n    const background = (() => {\n      switch (true) {\n        case isOver:\n          return \"bg-decorative2-main\";\n        case isHighlighted:\n          return \"bg-decorative5-main\";\n        default:\n          return \"bg-decorative2-subdued\";\n      }\n    })();\n\n    return (\n      <OakFlex\n        ref={ref}\n        $background={background}\n        $pa=\"inner-padding-m\"\n        $borderRadius=\"border-radius-l\"\n        $gap=\"space-between-s\"\n        $flexDirection={[\"column\", \"row\", \"row\"]}\n        {...props}\n      >\n        <StyledFlex\n          $background={slotBackground}\n          $pa=\"inner-padding-ssx\"\n          $borderRadius=\"border-radius-m2\"\n          $minHeight=\"all-spacing-11\"\n          $flexBasis=\"100%\"\n          data-disabled={isDisabled}\n        >\n          <OakBox $width=\"100%\">{children}</OakBox>\n        </StyledFlex>\n        {labelSlot && (\n          <OakFlex\n            $background={isOver ? \"bg-primary\" : \"bg-decorative2-very-subdued\"}\n            $borderRadius=\"border-radius-m2\"\n            $alignItems=\"center\"\n            $font=\"body-1\"\n            $ph=\"inner-padding-l\"\n            $minHeight=\"all-spacing-10\"\n            $pv=\"inner-padding-ssx\"\n            $flexBasis=\"100%\"\n            $width=\"100%\"\n            $alignSelf=\"center\"\n            data-testid=\"label\"\n          >\n            {labelSlot}\n          </OakFlex>\n        )}\n      </OakFlex>\n    );\n  },\n);\n"],"names":["StyledFlex","styled","OakFlex","parseBorder","parseColor","OakDroppable","forwardRef","children","labelSlot","isOver","isHighlighted","isDisabled","props","ref","slotBackground","background","React","createElement","$background","$pa","$borderRadius","$gap","$flexDirection","$minHeight","$flexBasis","OakBox","$width","$alignItems","$font","$ph","$pv","$alignSelf"],"mappings":"srCAsCA,MAAMA,EAAaC,EAAOC,EAAQ;aACrBC,EAAY,qBAAqBC,EAAW;;;;qBAIpCA,EAAW;;EAUnBC,EAETC,GAIF,EACIC,WAAUC,YAAWC,SAAQC,gBAAeC,gBAAeC,GAC7DC,KAEA,MAAMC,EAAiB,MACrB,QAAQ,GACN,KAAKL,EACH,MAAO,aACT,KAAKE,EACH,MAAO,yBACT,QACE,MAAO,aAEZ,EATsB,GAUjBI,EAAa,MACjB,QAAQ,GACN,KAAKN,EACH,MAAO,sBACT,KAAKC,EACH,MAAO,sBACT,QACE,MAAO,yBAEZ,EATkB,GAWnB,OACEM,EAACC,cAAAf,EACC,CAAAW,IAAKA,EAAGK,YACKH,EAAUI,IACnB,kBAAiBC,cACP,kBACTC,KAAA,kBACWC,eAAA,CAAC,SAAU,MAAO,UAC9BV,GAEJI,EAAAC,cAACjB,EAAU,CAAAkB,YACIJ,EAAcK,IACvB,oBAAmBC,cACT,mBAAkBG,WACrB,iBAAgBC,WAChB,OAAM,gBACFb,GAEfK,EAAAC,cAACQ,EAAc,CAAAC,OAAA,QAAQnB,IAExBC,GACCQ,EAAAC,cAACf,EACc,CAAAgB,YAAAT,EAAS,aAAe,4CACvB,mBAAkBkB,YACpB,SACNC,MAAA,SACFC,IAAA,6BACO,iBAAgBC,IACvB,oBACON,WAAA,cACJ,OAAMO,WACF,SAAQ,cACP,SAEXvB,GAIP"}