{"version":3,"file":"responsiveStyle.js","sources":["../../../../src/styles/utils/responsiveStyle.ts"],"sourcesContent":["import {\n  css,\n  DefaultTheme,\n  Interpolation,\n  ThemedStyledProps,\n} from \"styled-components\";\n\nimport { truthy } from \"@/styles/helpers/truthy\";\nimport { PropsWithTheme } from \"@/styles/theme/theme\";\n\nconst breakpointsByName = {\n  small: 750,\n  large: 1280,\n};\n\nexport const breakpoints = Object.values(breakpointsByName).sort((a, b) =>\n  a > b ? 1 : -1,\n);\n\nexport type BreakpointName = keyof typeof breakpointsByName;\n\nexport const getBreakpoint = (\n  breakpointName: keyof typeof breakpointsByName,\n) => {\n  return breakpointsByName[breakpointName];\n};\n\nexport type Device = \"mobile\" | \"tablet\" | \"desktop\";\n\nconst mediaQueries: Record<Device, string> = {\n  mobile: `(max-width: ${getBreakpoint(\"small\") - 1}px)`,\n  tablet: `(min-width: ${getBreakpoint(\"small\")}px and max-width: ${\n    getBreakpoint(\"large\") - 1\n  }px)`,\n  desktop: `(min-width: ${getBreakpoint(\"large\")}px)`,\n};\n\nexport const getMediaQuery = (device: Device) => {\n  return mediaQueries[device];\n};\n\nexport type ResponsiveValues<Value> = (Value | null) | (Value | null)[];\n\ntype Generic = string | number | undefined | null;\n\nexport const responsiveStyle =\n  <Props, T extends Generic>(\n    attr: string,\n    getValues: (props: Props) => ResponsiveValues<T | undefined | null>,\n    parse:\n      | ((unparsed: T | undefined | null) => Generic)\n      | ((\n          unparsed: T | undefined | null,\n        ) => (props: PropsWithTheme) => Generic) = (x) => x,\n  ) =>\n  (props: Props): Interpolation<ThemedStyledProps<Props, DefaultTheme>> => {\n    const attrCss = (value: T | undefined | null) =>\n      typeof value === \"undefined\"\n        ? undefined\n        : css`\n            ${attr}: ${parse(value)};\n          `;\n    const values = getValues(props);\n    if (typeof values === \"undefined\") {\n      return undefined;\n    }\n    if (!Array.isArray(values)) {\n      return css`\n        ${attrCss(values)}\n      `;\n    }\n    if (values.length === 0) {\n      return [];\n    }\n\n    return [\n      css`\n        ${attrCss(values[0])}\n      `,\n      ...breakpoints\n        .slice(0, values.length)\n        .map((breakpoint, i) => {\n          const value = values[i + 1]; // Values are shifted relative to breakpoints\n\n          if (value === undefined) {\n            return undefined;\n          }\n\n          return css`\n            @media (min-width: ${breakpoint}px) {\n              ${css`\n                ${attrCss(value)}\n              `}\n            }\n          `;\n        })\n        .filter(truthy),\n    ];\n  };\n"],"names":["breakpointsByName","small","large","breakpoints","Object","values","sort","a","b","getBreakpoint","breakpointName","mediaQueries","mobile","tablet","desktop","getMediaQuery","device","responsiveStyle","attr","getValues","parse","x","props","attrCss","value","undefined","css","Array","isArray","length","slice","map","breakpoint","i","filter","truthy"],"mappings":"sFAUA,MAAMA,EAAoB,CACxBC,MAAO,IACPC,MAAO,MAGIC,EAAcC,OAAOC,OAAOL,GAAmBM,MAAK,CAACC,EAAGC,IACnED,EAAIC,EAAI,GAAK,IAKFC,EACXC,GAEOV,EAAkBU,GAKrBC,EAAuC,CAC3CC,OAAQ,eAAeH,EAAc,SAAW,OAChDI,OAAQ,eAAeJ,EAAc,6BACnCA,EAAc,SAAW,OAE3BK,QAAS,eAAeL,EAAc,eAG3BM,EAAiBC,GACrBL,EAAaK,GAOTC,EACX,CACEC,EACAC,EACAC,EAI+C,CAACC,GAAMA,KAEvDC,IACC,MAAMC,EAAWC,QACE,IAAVA,OACHC,EACAC,CAAG;cACCR,MAASE,EAAMI;YAEnBnB,EAASc,EAAUG,GACzB,QAAsB,IAAXjB,EAGX,OAAKsB,MAAMC,QAAQvB,GAKG,IAAlBA,EAAOwB,OACF,GAGF,CACLH,CAAG;UACCH,EAAQlB,EAAO;WAEhBF,EACA2B,MAAM,EAAGzB,EAAOwB,QAChBE,KAAI,CAACC,EAAYC,KAChB,MAAMT,EAAQnB,EAAO4B,EAAI,GAEzB,QAAcR,IAAVD,EAIJ,OAAOE,CAAG;iCACaM;gBACjBN,CAAG;kBACDH,EAAQC;;;WAGf,IAEFU,OAAOC,IA7BHT,CAAG;UACNH,EAAQlB;OA6Bb"}