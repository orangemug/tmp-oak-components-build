{"version":3,"file":"useIsScrolled.js","sources":["../../../src/hooks/useIsScrolled.tsx"],"sourcesContent":["import React, {\n  PropsWithChildren,\n  useCallback,\n  useLayoutEffect,\n  useState,\n} from \"react\";\n\nconst useIsScrolled = () => {\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [canaryElement, setCanaryElement] = useState<HTMLDivElement | null>(\n    null,\n  );\n  const ObserveScroll = useCallback(({ children }: PropsWithChildren) => {\n    return (\n      <>\n        <div ref={setCanaryElement} />\n        {children}\n      </>\n    );\n  }, []);\n\n  useLayoutEffect(() => {\n    if (!canaryElement) {\n      return;\n    }\n    const observer = new IntersectionObserver(\n      (mutations) => {\n        setIsScrolled(!mutations.some((mutation) => mutation.isIntersecting));\n      },\n      {\n        root: canaryElement.parentElement,\n      },\n    );\n    observer.observe(canaryElement);\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [canaryElement]);\n\n  return { isScrolled, ObserveScroll };\n};\n\nexport default useIsScrolled;\n"],"names":["useIsScrolled","isScrolled","setIsScrolled","useState","canaryElement","setCanaryElement","ObserveScroll","useCallback","children","React","createElement","Fragment","ref","useLayoutEffect","observer","IntersectionObserver","mutations","some","mutation","isIntersecting","root","parentElement","observe","disconnect"],"mappings":"0EAOM,MAAAA,EAAgB,KACpB,MAAOC,EAAYC,GAAiBC,GAAS,IACtCC,EAAeC,GAAoBF,EACxC,MAEIG,EAAgBC,GAAY,EAAGC,cAEjCC,EAAAC,cAAAD,EAAAE,SAAA,KACEF,EAAKC,cAAA,MAAA,CAAAE,IAAKP,IACTG,IAGJ,IAqBH,OAnBAK,GAAgB,KACd,IAAKT,EACH,OAEF,MAAMU,EAAW,IAAIC,sBAClBC,IACCd,GAAec,EAAUC,MAAMC,GAAaA,EAASC,iBAAgB,GAEvE,CACEC,KAAMhB,EAAciB,gBAKxB,OAFAP,EAASQ,QAAQlB,GAEV,KACLU,EAASS,YAAY,CACtB,GACA,CAACnB,IAEG,CAAEH,aAAYK,gBAAe"}