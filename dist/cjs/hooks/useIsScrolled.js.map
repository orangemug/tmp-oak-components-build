{"version":3,"file":"useIsScrolled.js","sources":["../../../src/hooks/useIsScrolled.tsx"],"sourcesContent":["import React, {\n  PropsWithChildren,\n  useCallback,\n  useLayoutEffect,\n  useState,\n} from \"react\";\n\nconst useIsScrolled = () => {\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [canaryElement, setCanaryElement] = useState<HTMLDivElement | null>(\n    null,\n  );\n  const ObserveScroll = useCallback(({ children }: PropsWithChildren) => {\n    return (\n      <>\n        <div ref={setCanaryElement} />\n        {children}\n      </>\n    );\n  }, []);\n\n  useLayoutEffect(() => {\n    if (!canaryElement) {\n      return;\n    }\n    const observer = new IntersectionObserver(\n      (mutations) => {\n        setIsScrolled(!mutations.some((mutation) => mutation.isIntersecting));\n      },\n      {\n        root: canaryElement.parentElement,\n      },\n    );\n    observer.observe(canaryElement);\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [canaryElement]);\n\n  return { isScrolled, ObserveScroll };\n};\n\nexport default useIsScrolled;\n"],"names":["isScrolled","setIsScrolled","useState","canaryElement","setCanaryElement","ObserveScroll","useCallback","children","React","createElement","default","Fragment","ref","useLayoutEffect","observer","IntersectionObserver","mutations","some","mutation","isIntersecting","root","parentElement","observe","disconnect"],"mappings":"sIAOsB,KACpB,MAAOA,EAAYC,GAAiBC,EAAQA,UAAC,IACtCC,EAAeC,GAAoBF,EAAQA,SAChD,MAEIG,EAAgBC,EAAAA,aAAY,EAAGC,cAEjCC,UAAAC,cAAAD,EAAAE,QAAAC,SAAA,KACEH,EAAAA,QAAKC,cAAA,MAAA,CAAAG,IAAKR,IACTG,IAGJ,IAqBH,OAnBAM,EAAAA,iBAAgB,KACd,IAAKV,EACH,OAEF,MAAMW,EAAW,IAAIC,sBAClBC,IACCf,GAAee,EAAUC,MAAMC,GAAaA,EAASC,iBAAgB,GAEvE,CACEC,KAAMjB,EAAckB,gBAKxB,OAFAP,EAASQ,QAAQnB,GAEV,KACLW,EAASS,YAAY,CACtB,GACA,CAACpB,IAEG,CAAEH,aAAYK,gBAAe"}