{"version":3,"file":"InternalButton.js","sources":["../../../../../src/components/atoms/InternalButton/InternalButton.tsx"],"sourcesContent":["import React, { ElementType, useRef } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport { colorStyle, ColorStyleProps } from \"@/styles/utils/colorStyle\";\nimport { displayStyle, DisplayStyleProps } from \"@/styles/utils/displayStyle\";\nimport { spacingStyle, SpacingStyleProps } from \"@/styles/utils/spacingStyle\";\nimport {\n  typographyStyle,\n  TypographyStyleProps,\n} from \"@/styles/utils/typographyStyle\";\nimport {\n  dropShadowStyle,\n  DropShadowStyleProps,\n} from \"@/styles/utils/dropShadowStyle\";\nimport { borderStyle, BorderStyleProps } from \"@/styles/utils/borderStyle\";\nimport { PolymorphicPropsWithoutRef } from \"@/components/polymorphic\";\n\ntype StyledButtonProps = TypographyStyleProps &\n  SpacingStyleProps &\n  ColorStyleProps &\n  DisplayStyleProps &\n  BorderStyleProps &\n  DropShadowStyleProps & {\n    isLoading?: boolean;\n  };\n\nconst internalButtonCss = css<StyledButtonProps>`\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  text-align: left;\n  font-family: unset;\n  outline: none;\n  ${typographyStyle}\n  ${colorStyle}\n  ${spacingStyle}\n  ${displayStyle}\n  ${borderStyle}\n  ${dropShadowStyle}\n  &:disabled {\n    pointer-events: none;\n    cursor: default;\n  }\n`;\n\nexport type InternalButtonProps = StyledButtonProps & {\n  onHovered?: (\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n    duration: number,\n  ) => void;\n};\n\nconst UnstyledInternalButton = <C extends ElementType = \"button\">(\n  props: InternalButtonProps & PolymorphicPropsWithoutRef<C>,\n) => {\n  const { onClick, onHovered, element: Component = \"button\", ...rest } = props;\n\n  const hoverStart = useRef(Date.now());\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  const handleMouseEnter = () => {\n    hoverStart.current = Date.now();\n  };\n\n  const handleMouseLeave = (event: React.MouseEvent<HTMLButtonElement>) => {\n    const delta = Date.now() - hoverStart.current;\n    if (onHovered) {\n      onHovered(event, delta);\n    }\n  };\n\n  return (\n    <Component\n      {...rest}\n      onClick={handleClick}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    />\n  );\n};\n\n/**\n *\n * An unstyled button to be used as a basis for all UI button components.\n * The following callbacks are available for tracking focus events:\n *\n * ### onClick\n * `onClick?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;`\n\n * ### onHovered\n *  `onHovered?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>, duration: number) => void;`<br>\n *  called after a mouseEnter and mouseLeave event has happened\n * \n * NB. We must export a styled component for it to be inheritable\n */\nexport const InternalButton = styled(UnstyledInternalButton)`\n  ${internalButtonCss}\n`;\n"],"names":["internalButtonCss","css","typographyStyle","colorStyle","spacingStyle","displayStyle","borderStyle","dropShadowStyle","InternalButton","styled","props","onClick","onHovered","element","Component","rest","hoverStart","useRef","Date","now","React","default","createElement","event","onMouseEnter","current","onMouseLeave","delta"],"mappings":"kdA0BA,MAAMA,EAAoBC,EAAGA,GAAmB;;;;;;;;;;IAU5CC;IACAC;IACAC;IACAC;IACAC;IACAC;;;;;EA8DSC,EAAiBC,EAAAA,SA/C5BC,IAEA,MAAMC,QAAEA,EAAOC,UAAEA,EAAWC,QAASC,EAAY,YAAaC,GAASL,EAEjEM,EAAaC,EAAMA,OAACC,KAAKC,OAmB/B,OACEC,EAACC,QAAAC,cAAAR,MACKC,EACJJ,QApBiBY,IACfZ,GACFA,EAAQY,EACT,EAkBCC,aAfqB,KACvBR,EAAWS,QAAUP,KAAKC,KAAK,EAe7BO,aAZsBH,IACxB,MAAMI,EAAQT,KAAKC,MAAQH,EAAWS,QAClCb,GACFA,EAAUW,EAAOI,EAClB,GAUD,GAiBwD;IACxD3B;"}