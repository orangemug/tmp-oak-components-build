{"version":3,"file":"OakPupilJourneyOptionalityButton.js","sources":["../../../../../../../src/components/organisms/pupil/browse/OakPupilJourneyOptionalityButton/OakPupilJourneyOptionalityButton.tsx"],"sourcesContent":["import React, { ComponentPropsWithoutRef, ElementType } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport { OakBox, OakFlex } from \"@/components/atoms\";\nimport { parseColor } from \"@/styles/helpers/parseColor\";\nimport {\n  OakCardWithHandDrawnBorder,\n  OakRoundIcon,\n} from \"@/components/molecules\";\nimport { parseDropShadow } from \"@/styles/helpers/parseDropShadow\";\n\ntype OakPupilJourneyOptionalityButtonProps<C extends ElementType> = {\n  /**\n   * Disable the section preventing navigation to it.\n   */\n  disabled?: boolean;\n  /**\n   * shows that a section is unavailable\n   */\n  unavailable?: boolean;\n  title: string;\n  numberOfLessons: number;\n} & ComponentPropsWithoutRef<C>;\n\nconst StyledLabel = styled(OakBox)``;\n\nconst StyledPupilOptionalityListButton = styled(OakFlex)<{\n  $disabled?: boolean;\n}>`\n  outline: none;\n  text-align: initial;\n\n  &:focus-visible {\n    box-shadow: ${parseDropShadow(\"drop-shadow-centered-lemon\")},\n      ${parseDropShadow(\"drop-shadow-centered-grey\")};\n  }\n\n  ${(props) => props.$disabled && \"cursor: not-allowed\"}\n\n  ${(props) =>\n    !props.$disabled &&\n    css`\n      cursor: pointer;\n\n      /* Don't apply hover styles on touch devices */\n      @media (hover: hover) {\n        &:hover {\n          background: ${parseColor(\"bg-decorative1-subdued\")};\n          ${StyledLabel} {\n            text-decoration: underline;\n          }\n        }\n      }\n\n      &:active {\n        box-shadow: ${parseDropShadow(\"drop-shadow-lemon\")},\n          ${parseDropShadow(\"drop-shadow-grey\")};\n      }\n    `}\n`;\n\n/**\n * Button for units with optionality it is only used as the child of the PupilJourneyOptionailityitem component\n */\n\nexport const OakPupilJourneyOptionalityButton = <C extends ElementType = \"a\">(\n  props: OakPupilJourneyOptionalityButtonProps<C>,\n) => {\n  const {\n    lessonSectionName,\n    progress,\n    disabled,\n    href,\n    unavailable,\n    onClick,\n    numberOfLessons,\n    ...rest\n  } = props;\n\n  const disabledOrUnavailable = disabled || unavailable;\n  return (\n    <StyledPupilOptionalityListButton\n      as={disabledOrUnavailable ? \"div\" : \"a\"}\n      $flexGrow={1}\n      $background={unavailable ? \"bg-neutral\" : \"bg-primary\"}\n      $disabled={disabledOrUnavailable}\n      $color=\"text-primary\"\n      href={disabledOrUnavailable ? undefined : href}\n      onClick={disabledOrUnavailable ? undefined : onClick}\n      {...rest}\n    >\n      <OakCardWithHandDrawnBorder\n        fill={unavailable ? \"border-neutral-lighter\" : \"black\"}\n        stroke={unavailable ? \"border-neutral-lighter\" : \"black\"}\n        strokeWidth={\"border-solid-s\"}\n      >\n        <OakFlex $flexDirection={\"column\"} $gap={\"all-spacing-2\"}>\n          <StyledLabel\n            $font={[\"heading-7\", \"heading-6\"]}\n            $color={disabledOrUnavailable ? \"text-subdued\" : \"text-primary\"}\n          >\n            {props.title}\n          </StyledLabel>\n\n          <OakFlex $alignItems={\"center\"} $gap={\"space-between-sssx\"}>\n            {!props.unavailable && (\n              <>\n                <StyledLabel\n                  $font={\"heading-light-7\"}\n                  $color={\n                    disabledOrUnavailable ? \"text-subdued\" : \"text-primary\"\n                  }\n                >\n                  {numberOfLessons} lessons\n                </StyledLabel>\n                <OakRoundIcon\n                  iconName=\"chevron-right\"\n                  $width={\"all-spacing-7\"}\n                  $height={\"all-spacing-7\"}\n                  $background={\"transparent\"}\n                  $colorFilter={\n                    disabledOrUnavailable ? \"icon-disabled\" : \"icon-inverted\"\n                  }\n                />\n              </>\n            )}\n            {props.unavailable && (\n              <StyledLabel\n                $font={\"heading-7\"}\n                $color={disabledOrUnavailable ? \"text-subdued\" : \"text-primary\"}\n              >\n                Unavailable\n              </StyledLabel>\n            )}\n          </OakFlex>\n        </OakFlex>\n      </OakCardWithHandDrawnBorder>\n    </StyledPupilOptionalityListButton>\n  );\n};\n"],"names":["StyledLabel","styled","default","OakBox","StyledPupilOptionalityListButton","OakFlex","parseDropShadow","props","$disabled","css","parseColor","lessonSectionName","progress","disabled","href","unavailable","onClick","numberOfLessons","rest","disabledOrUnavailable","React","createElement","as","$flexGrow","$background","$color","undefined","OakCardWithHandDrawnBorder","fill","stroke","strokeWidth","$flexDirection","$gap","title","$alignItems","Fragment","$font","OakRoundIcon","iconName","$width","$height"],"mappings":"yuHAwBA,MAAMA,EAAcC,EAAMC,QAACC,SAAO,GAE5BC,EAAmCH,EAAAA,QAAOI,EAAOA,QAErD;;;;;kBAKgBC,EAAAA,gBAAgB;QAC1BA,EAAAA,gBAAgB;;;IAGnBC,GAAUA,EAAMC,WAAa;;IAE7BD,IACAA,EAAMC,WACPC,EAAAA,GAAG;;;;;;wBAMiBC,EAAAA,WAAW;YACvBV;;;;;;;sBAOUM,EAAAA,gBAAgB;YAC1BA,EAAAA,gBAAgB;;;2CAU1BC,IAEA,MAAMI,kBACJA,EAAiBC,SACjBA,EAAQC,SACRA,EAAQC,KACRA,EAAIC,YACJA,EAAWC,QACXA,EAAOC,gBACPA,KACGC,GACDX,EAEEY,EAAwBN,GAAYE,EAC1C,OACEK,EAAClB,QAAAmB,cAAAjB,EACC,CAAAkB,GAAIH,EAAwB,MAAQ,IAAGI,UAC5B,EAACC,YACCT,EAAc,aAAe,aAAYP,UAC3CW,EACJM,OAAA,eACPX,KAAMK,OAAwBO,EAAYZ,EAC1CE,QAASG,OAAwBO,EAAYV,KACzCE,GAEJE,EAAAA,QAAAC,cAACM,EAAAA,2BAA0B,CACzBC,KAAMb,EAAc,yBAA2B,QAC/Cc,OAAQd,EAAc,yBAA2B,QACjDe,YAAa,kBAEbV,EAAAlB,QAAAmB,cAAChB,UAAO,CAAA0B,eAAiB,SAAQC,KAAQ,iBACvCZ,EAAAA,QAACC,cAAArB,SACQ,CAAC,YAAa,oBACbmB,EAAwB,eAAiB,gBAEhDZ,EAAM0B,OAGTb,EAAAlB,QAAAmB,cAAChB,UAAO,CAAA6B,YAAc,SAAQF,KAAQ,uBAClCzB,EAAMQ,aACNK,EAAAA,QAAAC,cAAAD,EAAAA,QAAAe,SAAA,KACEf,UAAAC,cAACrB,EAAW,CAAAoC,MACH,kBAAiBX,OAEtBN,EAAwB,eAAiB,gBAG1CF,EACW,YACdG,EAAClB,QAAAmB,cAAAgB,gBACCC,SAAS,gBACDC,OAAA,gBACCC,QAAA,gBACIhB,YAAA,2BAEXL,EAAwB,gBAAkB,mBAKjDZ,EAAMQ,aACLK,EAAAlB,QAAAmB,cAACrB,EACQ,CAAAoC,MAAA,YACCX,OAAAN,EAAwB,eAAiB,gBAAc,kBAS3E"}