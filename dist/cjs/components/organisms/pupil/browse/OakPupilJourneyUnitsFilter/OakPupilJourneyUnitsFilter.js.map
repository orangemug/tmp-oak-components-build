{"version":3,"file":"OakPupilJourneyUnitsFilter.js","sources":["../../../../../../../src/components/organisms/pupil/browse/OakPupilJourneyUnitsFilter/OakPupilJourneyUnitsFilter.tsx"],"sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { OakButtonAsRadioGroup } from \"@/components/molecules/OakButtonAsRadioGroup\";\nimport { OakSecondaryButtonAsRadio } from \"@/components/molecules/OakSecondaryButtonAsRadio\";\nimport { OakSecondaryButton } from \"@/components/molecules/OakSecondaryButton\";\nimport { OakOutlineAccordion } from \"@/components/molecules/OakOutlineAccordion\";\nimport { OakHeading } from \"@/components/atoms/OakHeading\";\nimport { OakFlex } from \"@/components/atoms\";\n\nconst StyledOakSecondaryButton = styled(OakSecondaryButton)`\n  & > button {\n    opacity: 0;\n    position: absolute;\n    &:focus-visible {\n      opacity: 1;\n      position: relative;\n    }\n  }\n`;\n\ntype MenuItem = {\n  displayText: string;\n  value: string;\n};\n\nexport type OakPupilJourneyUnitsFilterProps = {\n  menuItems: MenuItem[];\n  selected: string;\n  onSelected: (arg0: MenuItem) => void;\n  onSkipCallback: () => void;\n};\n\n/**\n *\n * OakPupilJourneyUnitsFilter component is a radio group of buttons that can be used to filter pupil journey units\n * add the menu items as an array of objects with text and id properties and provide a selected item id, and a callback function to handle the selection event.\n * The following callbacks are available for tracking focus events:\n *\n * ### Callbacks\n * onSelected: Callback when a menu item is selected, takes the selected item as an argument\n *\n */\n\nexport const OakPupilJourneyUnitsFilter = (\n  props: OakPupilJourneyUnitsFilterProps,\n) => {\n  const { menuItems, selected, onSelected, onSkipCallback } = props;\n\n  const OakRadioGroup = (\n    <OakButtonAsRadioGroup\n      name=\"OakPupilJourneyUnitsFilter\"\n      ariaLabel=\"OakPupilJourneyUnitsFilter\"\n      onChange={(value) => {\n        const selectedItem = menuItems.find((item) => item.value === value);\n        if (!selectedItem) {\n          throw new Error(\"Selected item not found\");\n        }\n        onSelected(selectedItem);\n      }}\n      defaultValue={selected}\n      $justifyContent={[\"start\", \"start\", \"end\"]}\n      $flexWrap={\"wrap\"}\n    >\n      {menuItems.map((item, i) => {\n        return (\n          <OakSecondaryButtonAsRadio\n            key={item.value + \"_\" + i}\n            value={item.value}\n          >\n            {item.displayText}\n          </OakSecondaryButtonAsRadio>\n        );\n      })}\n    </OakButtonAsRadioGroup>\n  );\n\n  return (\n    <>\n      <OakFlex $display={[\"block\", \"none\"]} $flexGrow={1}>\n        <OakOutlineAccordion\n          id={\"mobile-unit-filter-accordion\"}\n          header={\n            <OakHeading tag=\"h2\" $font={\"heading-5\"}>\n              Categories\n            </OakHeading>\n          }\n          $pv={\"inner-padding-xl\"}\n          $gap={\"space-between-m\"}\n        >\n          {OakRadioGroup}\n        </OakOutlineAccordion>\n      </OakFlex>\n      <OakFlex\n        $display={[\"none\", \"flex\"]}\n        $gap={\"space-between-m\"}\n        $flexDirection={\"column\"}\n        $alignItems={\"end\"}\n      >\n        {menuItems.length > 3 && (\n          <StyledOakSecondaryButton onClick={onSkipCallback}>\n            Skip to results\n          </StyledOakSecondaryButton>\n        )}\n\n        <OakFlex $display={\"block\"} $flexGrow={1}>\n          {OakRadioGroup}\n        </OakFlex>\n      </OakFlex>\n    </>\n  );\n};\n"],"names":["StyledOakSecondaryButton","styled","OakSecondaryButton","props","menuItems","selected","onSelected","onSkipCallback","OakRadioGroup","React","OakButtonAsRadioGroup","name","ariaLabel","onChange","value","selectedItem","find","item","Error","defaultValue","$justifyContent","map","i","createElement","OakSecondaryButtonAsRadio","key","displayText","default","Fragment","OakFlex","OakOutlineAccordion","id","header","OakHeading","tag","$font","$pv","$display","$gap","$flexDirection","$alignItems","length","onClick","$flexGrow"],"mappings":"8mDAUA,MAAMA,OAA2BC,QAAOC,EAAkBA,mBAAC;;;;;;;;;qCAmCzDC,IAEA,MAAMC,UAAEA,EAASC,SAAEA,EAAQC,WAAEA,EAAUC,eAAEA,GAAmBJ,EAEtDK,EACJC,EAAAA,sBAACC,EAAqBA,sBAAA,CACpBC,KAAK,6BACLC,UAAU,6BACVC,SAAWC,IACT,MAAMC,EAAeX,EAAUY,MAAMC,GAASA,EAAKH,QAAUA,IAC7D,IAAKC,EACH,MAAM,IAAIG,MAAM,2BAElBZ,EAAWS,EAAa,EAE1BI,aAAcd,EAAQe,gBACL,CAAC,QAAS,QAAS,iBACzB,QAEVhB,EAAUiB,KAAI,CAACJ,EAAMK,IAElBb,EAAAA,QAACc,cAAAC,EAAAA,0BACC,CAAAC,IAAKR,EAAKH,MAAQ,IAAMQ,EACxBR,MAAOG,EAAKH,OAEXG,EAAKS,gBAOhB,OACEjB,UAAAc,cAAAd,EAAAkB,QAAAC,SAAA,KACEnB,UAACc,cAAAM,EAAOA,kBAAW,CAAC,QAAS,kBAAoB,GAC/CpB,UAACc,cAAAO,EAAmBA,oBAClB,CAAAC,GAAI,+BACJC,OACEvB,EAACkB,QAAAJ,cAAAU,EAAAA,WAAW,CAAAC,IAAI,KAAIC,MAAQ,aAAW,cAIpCC,IAAA,wBACC,mBAEL5B,IAGLC,EAAAA,QAAAc,cAACM,EAAAA,QAAO,CAAAQ,SACI,CAAC,OAAQ,QAAOC,KACpB,kBAAiBC,eACP,SAAQC,YACX,OAEZpC,EAAUqC,OAAS,GAClBhC,EAAAA,QAACc,cAAAvB,EAAyB,CAAA0C,QAASnC,sBAKrCE,EAAAA,QAACc,cAAAM,UAAkB,CAAAQ,SAAA,QAAoBM,UAAA,GACpCnC,IAIP"}