{"version":3,"file":"OakPupilJourneyListItem.js","sources":["../../../../../../../src/components/organisms/pupil/browse/OakPupilJourneyListItem/OakPupilJourneyListItem.tsx"],"sourcesContent":["import React, { ComponentPropsWithoutRef, ElementType } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport { OakBox, OakFlex } from \"@/components/atoms\";\nimport { parseColor } from \"@/styles/helpers/parseColor\";\nimport { OakRoundIcon } from \"@/components/molecules\";\nimport { parseColorFilter } from \"@/styles/helpers/parseColorFilter\";\nimport { parseSpacing } from \"@/styles/helpers/parseSpacing\";\nimport { parseDropShadow } from \"@/styles/helpers/parseDropShadow\";\n\ntype OakPupilJourneyListItemProps<C extends ElementType> = {\n  as?: C;\n  /**\n   * Disable the section preventing navigation to it.\n   */\n  disabled?: boolean;\n  /**\n   * shows that a section is unavailable\n   */\n  unavailable?: boolean;\n  index: number;\n  title: string;\n  numberOfLessons?: number;\n} & ComponentPropsWithoutRef<C>;\n\nconst StyledLabel = styled(OakBox)``;\n\nconst StyledRoundIcon = styled(OakRoundIcon)<{\n  $disabled?: boolean;\n}>`\n  width: ${parseSpacing(\"all-spacing-8\")};\n  height: ${parseSpacing(\"all-spacing-8\")};\n  padding: 0;\n\n  background: transparent;\n\n  img {\n    filter: ${(props) =>\n      parseColorFilter(props.$disabled ? \"icon-disabled\" : \"icon-inverted\")};\n  }\n`;\n\nconst activeIconStyles = css`\n  ${StyledRoundIcon} {\n    box-shadow: ${parseDropShadow(\"drop-shadow-lemon\")},\n      ${parseDropShadow(\"drop-shadow-grey\")};\n  }\n`;\n\nconst hoverIconStyles = css`\n  ${StyledRoundIcon} {\n    background: ${parseColor(\"bg-btn-primary\")};\n\n    img {\n      filter: ${parseColorFilter(\"icon-main\")};\n    }\n  }\n`;\n\nconst StyledPupilJourneyItem = styled(OakFlex)<{ $disabled?: boolean }>`\n  outline: none;\n  text-align: initial;\n\n  &:focus-visible {\n    box-shadow: ${parseDropShadow(\"drop-shadow-centered-lemon\")},\n      ${parseDropShadow(\"drop-shadow-centered-grey\")};\n  }\n\n  ${(props) => props.$disabled && \"cursor: not-allowed\"}\n\n  ${(props) =>\n    !props.$disabled &&\n    css`\n      cursor: pointer;\n\n      /* Don't apply hover styles on touch devices */\n      @media (hover: hover) {\n        &:hover {\n          background: ${parseColor(\"bg-decorative1-subdued\")};\n          ${StyledLabel} {\n            text-decoration: underline;\n          }\n\n          ${hoverIconStyles}\n        }\n      }\n\n      &:active {\n        box-shadow: ${parseDropShadow(\"drop-shadow-lemon\")},\n          ${parseDropShadow(\"drop-shadow-grey\")};\n        ${activeIconStyles}\n        ${hoverIconStyles}\n      }\n    `}\n`;\n\nconst FlexedOakBox = styled(OakBox)`\n  flex: 1;\n`;\n\n/**\n * Enables navigation to the given section of a lesson as well as displaying current progress\n */\nexport const OakPupilJourneyListItem = <C extends ElementType = \"a\">(\n  props: OakPupilJourneyListItemProps<C>,\n) => {\n  const {\n    as,\n    lessonSectionName,\n    progress,\n    disabled,\n    href,\n    unavailable,\n    onClick,\n    ...rest\n  } = props;\n\n  const disabledOrUnavailable = disabled || unavailable;\n  return (\n    <OakBox role=\"listitem\">\n      <StyledPupilJourneyItem\n        className={disabledOrUnavailable ? undefined : \"pupil-journey-item\"}\n        as={disabledOrUnavailable ? \"div\" : as ?? \"a\"}\n        $gap={[\"space-between-s\", \"space-between-m2\"]}\n        $alignItems=\"center\"\n        $justifyContent={\"space-between\"}\n        $flexWrap={\"wrap\"}\n        $background={unavailable ? \"bg-neutral\" : \"bg-primary\"}\n        $pa={[\"inner-padding-l\", \"inner-padding-xl\"]}\n        $borderRadius=\"border-radius-m\"\n        $ba={unavailable ? \"border-solid-m\" : \"border-solid-none\"}\n        $borderColor={unavailable ? \"border-neutral-lighter\" : \"transparent\"}\n        $disabled={disabledOrUnavailable}\n        $color=\"text-primary\"\n        href={disabledOrUnavailable ? undefined : href}\n        onClick={disabledOrUnavailable ? undefined : onClick}\n        {...rest}\n      >\n        <OakFlex $alignItems={\"center\"} $gap={[\"space-between-m2\"]}>\n          {\" \"}\n          <OakFlex>\n            <OakBox\n              $font={[\"heading-5\", \"heading-4\"]}\n              $color={props.unavailable ? \"text-subdued\" : \"text-primary\"}\n              $textDecoration={\"none\"}\n            >\n              {props.index}\n            </OakBox>\n          </OakFlex>\n          <FlexedOakBox>\n            <StyledLabel\n              $font={[\"heading-6\", \"heading-5\"]}\n              $color={disabledOrUnavailable ? \"text-subdued\" : \"text-primary\"}\n            >\n              {props.title}\n            </StyledLabel>\n          </FlexedOakBox>\n        </OakFlex>\n\n        <OakFlex\n          $alignItems={\"center\"}\n          $gap={\"space-between-xs\"}\n          $flexBasis={\"auto\"}\n          $flexGrow={1}\n          $justifyContent={\"flex-end\"}\n        >\n          {props.numberOfLessons !== undefined && !props.unavailable && (\n            <StyledLabel\n              $font={\"heading-7\"}\n              $color={disabledOrUnavailable ? \"text-subdued\" : \"text-primary\"}\n            >\n              {props.numberOfLessons} lessons\n            </StyledLabel>\n          )}\n          {props.unavailable && (\n            <StyledLabel\n              $font={\"heading-7\"}\n              $color={disabledOrUnavailable ? \"text-subdued\" : \"text-primary\"}\n            >\n              Unavailable\n            </StyledLabel>\n          )}\n          {!props.unavailable && (\n            <StyledRoundIcon\n              iconName=\"chevron-right\"\n              $disabled={disabledOrUnavailable}\n            />\n          )}\n        </OakFlex>\n      </StyledPupilJourneyItem>\n    </OakBox>\n  );\n};\n"],"names":["StyledLabel","styled","default","OakBox","StyledRoundIcon","OakRoundIcon","parseSpacing","props","parseColorFilter","$disabled","activeIconStyles","css","parseDropShadow","hoverIconStyles","parseColor","StyledPupilJourneyItem","OakFlex","FlexedOakBox","as","lessonSectionName","progress","disabled","href","unavailable","onClick","rest","disabledOrUnavailable","React","createElement","role","className","undefined","$gap","$alignItems","$justifyContent","$flexWrap","$pa","$borderRadius","$ba","$borderColor","$color","$font","$textDecoration","index","title","$flexGrow","numberOfLessons","iconName"],"mappings":"uwHAyBA,MAAMA,EAAcC,EAAMC,QAACC,SAAO,GAE5BC,EAAkBH,EAAAA,QAAOI,EAAYA,aAEzC;WACSC,EAAAA,aAAa;YACZA,EAAAA,aAAa;;;;;;cAMVC,GACTC,mBAAiBD,EAAME,UAAY,gBAAkB;;EAIrDC,EAAmBC,EAAGA,GAAA;IACxBP;kBACcQ,EAAAA,gBAAgB;QAC1BA,EAAAA,gBAAgB;;EAIlBC,EAAkBF,EAAGA,GAAA;IACvBP;kBACcU,EAAAA,WAAW;;;gBAGbN,EAAAA,iBAAiB;;;EAK3BO,EAAyBd,EAAAA,QAAOe,EAAOA,QAA0B;;;;;kBAKrDJ,EAAAA,gBAAgB;QAC1BA,EAAAA,gBAAgB;;;IAGnBL,GAAUA,EAAME,WAAa;;IAE7BF,IACAA,EAAME,WACPE,EAAAA,GAAG;;;;;;wBAMiBG,EAAAA,WAAW;YACvBd;;;;YAIAa;;;;;sBAKUD,EAAAA,gBAAgB;YAC1BA,EAAAA,gBAAgB;UAClBF;UACAG;;;EAKJI,EAAehB,EAAAA,QAAOE,EAAMA,OAAC;;kCAQjCI,IAEA,MAAMW,GACJA,EAAEC,kBACFA,EAAiBC,SACjBA,EAAQC,SACRA,EAAQC,KACRA,EAAIC,YACJA,EAAWC,QACXA,KACGC,GACDlB,EAEEmB,EAAwBL,GAAYE,EAC1C,OACEI,EAACzB,QAAA0B,cAAAzB,EAAMA,OAAC,CAAA0B,KAAK,YACXF,EAAAA,QAACC,cAAAb,GACCe,UAAWJ,OAAwBK,EAAY,qBAC/Cb,GAAIQ,EAAwB,MAAQR,GAAM,IAAGc,KACvC,CAAC,kBAAmB,oBACdC,YAAA,SACKC,gBAAA,gBACNC,UAAA,mBACEZ,EAAc,aAAe,aACrCa,IAAA,CAAC,kBAAmB,oBAAmBC,cAC9B,kBACTC,IAAAf,EAAc,iBAAmB,oBACxBgB,aAAAhB,EAAc,yBAA2B,cAAad,UACzDiB,EAAqBc,OACzB,eACPlB,KAAMI,OAAwBK,EAAYT,EAC1CE,QAASE,OAAwBK,EAAYP,KACzCC,GAEJE,UAAAC,cAACZ,EAAAA,QAAqB,CAAAiB,YAAA,SAAgBD,KAAA,CAAC,qBACpC,IACDL,UAAAC,cAACZ,EAAAA,QAAO,KACNW,EAACzB,QAAA0B,cAAAzB,SACQ,CAAAsC,MAAA,CAAC,YAAa,aACbD,OAAAjC,EAAMgB,YAAc,eAAiB,eAAcmB,gBAC1C,QAEhBnC,EAAMoC,QAGXhB,UAAAC,cAACX,EAAY,KACXU,EAACzB,QAAA0B,cAAA5B,SACQ,CAAC,YAAa,aACbwC,OAAAd,EAAwB,eAAiB,gBAEhDnB,EAAMqC,SAKbjB,EAAAA,QAACC,cAAAZ,EAAAA,QACc,CAAAiB,YAAA,SACPD,KAAA,8BACM,OAAMa,UACP,EAACX,gBACK,iBAEUH,IAA1BxB,EAAMuC,kBAAkCvC,EAAMgB,aAC7CI,EAAAA,QAAAC,cAAC5B,EACQ,CAAAyC,MAAA,YACCD,OAAAd,EAAwB,eAAiB,gBAEhDnB,EAAMuC,4BAGVvC,EAAMgB,aACLI,EAAAA,QAACC,cAAA5B,SACQ,YAAWwC,OACVd,EAAwB,eAAiB,gCAKnDnB,EAAMgB,aACNI,UAAAC,cAACxB,EACC,CAAA2C,SAAS,gBAAetC,UACbiB,MAMrB"}