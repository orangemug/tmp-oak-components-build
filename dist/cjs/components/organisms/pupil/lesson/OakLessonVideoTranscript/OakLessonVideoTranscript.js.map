{"version":3,"file":"OakLessonVideoTranscript.js","sources":["../../../../../../../src/components/organisms/pupil/lesson/OakLessonVideoTranscript/OakLessonVideoTranscript.tsx"],"sourcesContent":["import React, { ReactNode, useState } from \"react\";\n\nimport { OakBox, OakFlex } from \"@/components/atoms\";\nimport {\n  OakCollapsibleContent,\n  OakTertiaryButton,\n} from \"@/components/molecules\";\n\ntype OakLessonVideoTranscriptProps = {\n  /**\n   * The transcript content\n   */\n  children: ReactNode;\n  /**\n   * The id of the collapsible content element. This is used to link the button to the content\n   */\n  id: string;\n  /**\n   * A control to toggle the video to display sign language\n   */\n  signLanguageControl?: ReactNode;\n  transcriptToggled?: (props: { isOpen: boolean }) => void;\n};\n\n/**\n * Display a togglable video transcript with a slot to display a sign language control\n */\nexport const OakLessonVideoTranscript = ({\n  children,\n  id,\n  signLanguageControl = null,\n  transcriptToggled,\n}: OakLessonVideoTranscriptProps) => {\n  const [showTranscript, setShowTranscript] = useState(false);\n\n  const handleClick = () => {\n    setShowTranscript(!showTranscript);\n    if (transcriptToggled) {\n      transcriptToggled({ isOpen: !showTranscript });\n    }\n  };\n\n  return (\n    <>\n      <OakFlex\n        $flexDirection={[\"column-reverse\", \"row\"]}\n        $justifyContent=\"space-between\"\n      >\n        <OakBox>\n          {children && (\n            <OakTertiaryButton\n              onClick={handleClick}\n              iconName={showTranscript ? \"chevron-up\" : \"chevron-down\"}\n              isTrailingIcon\n              aria-controls={id}\n              aria-expanded={showTranscript}\n              $mb=\"space-between-m\"\n            >\n              {showTranscript ? \"Hide transcript\" : \"Show transcript\"}\n            </OakTertiaryButton>\n          )}\n        </OakBox>\n        {signLanguageControl && (\n          <OakBox $mb=\"space-between-m\">{signLanguageControl}</OakBox>\n        )}\n      </OakFlex>\n      {children && (\n        <OakCollapsibleContent\n          id={id}\n          $maxHeight=\"all-spacing-23\"\n          isOpen={showTranscript}\n          $font=\"body-1\"\n          $color=\"text-primary\"\n          aria-live=\"polite\"\n        >\n          {children}\n        </OakCollapsibleContent>\n      )}\n    </>\n  );\n};\n"],"names":["children","id","signLanguageControl","transcriptToggled","showTranscript","setShowTranscript","useState","React","createElement","default","Fragment","OakFlex","OakBox","OakTertiaryButton","onClick","isOpen","iconName","isTrailingIcon","$mb","OakCollapsibleContent","$maxHeight","$font","$color"],"mappings":"kjHA2BwC,EACtCA,WACAC,KACAC,sBAAsB,KACtBC,wBAEA,MAAOC,EAAgBC,GAAqBC,EAAQA,UAAC,GASrD,OACEC,UAAAC,cAAAD,EAAAE,QAAAC,SAAA,KACEH,UAACC,cAAAG,EAAOA,wBACU,CAAC,iBAAkB,uBACnB,iBAEhBJ,EAAAA,QAAAC,cAACI,EAAAA,OACE,KAAAZ,GACCO,EAAAE,QAAAD,cAACK,EAAAA,kBACC,CAAAC,QAhBQ,KAClBT,GAAmBD,GACfD,GACFA,EAAkB,CAAEY,QAASX,GAC9B,EAaSY,SAAUZ,EAAiB,aAAe,eAC1Ca,gBACe,EAAA,gBAAAhB,kBACAG,EAAcc,IACzB,mBAEHd,EAAiB,kBAAoB,oBAI3CF,GACCK,EAAAA,QAAAC,cAACI,EAAMA,OAAA,CAAAM,IAAK,mBAAmBhB,IAGlCF,GACCO,EAAAA,QAAAC,cAACW,EAAqBA,sBAAA,CACpBlB,GAAIA,EAAEmB,WACK,iBACXL,OAAQX,EACFiB,MAAA,SACCC,OAAA,eACG,YAAA,UAETtB,GAIP"}