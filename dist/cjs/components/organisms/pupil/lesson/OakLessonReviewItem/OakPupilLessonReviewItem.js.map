{"version":3,"file":"OakPupilLessonReviewItem.js","sources":["../../../../../../../src/components/organisms/pupil/lesson/OakLessonReviewItem/OakPupilLessonReviewItem.tsx"],"sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { OakBox, OakFlex, OakIcon, OakSpan } from \"@/components/atoms\";\nimport { OakRoundIcon } from \"@/components/molecules\";\nimport { OakCombinedColorToken } from \"@/styles\";\n\ntype LessonSectionName = \"intro\" | \"starter-quiz\" | \"video\" | \"exit-quiz\";\ntype BaseOakLessonReviewItemProps = {\n  completed: boolean;\n};\ntype QuizSectionProps = {\n  lessonSectionName: \"starter-quiz\" | \"exit-quiz\";\n  /**\n   * The number of questions in the quiz\n   */\n  numQuestions: number;\n  /**\n   * The number of questions answered correctly\n   */\n  grade: number;\n};\n\ntype VideoSectionProps = {\n  lessonSectionName: \"video\";\n};\ntype IntroSectionProps = {\n  lessonSectionName: \"intro\";\n};\n\nexport type OakLessonReviewItemProps = BaseOakLessonReviewItemProps &\n  (IntroSectionProps | QuizSectionProps | VideoSectionProps);\n\nconst StyledLessonReviewItem = styled(OakFlex)<{ completed: boolean }>`\n  outline: none;\n  text-align: initial;\n`;\n\nexport const OakLessonReviewItem = (props: OakLessonReviewItemProps) => {\n  const { completed, lessonSectionName, ...rest } = props;\n  const [completedBackgroundColor, borderColor, iconBackgroundColor] =\n    pickColorsForSection(lessonSectionName);\n  const lessonSectionNameToIconMap = new Map();\n\n  lessonSectionNameToIconMap.set(\"intro\", \"intro\");\n  lessonSectionNameToIconMap.set(\"starter-quiz\", \"quiz\");\n  lessonSectionNameToIconMap.set(\"exit-quiz\", \"quiz\");\n  lessonSectionNameToIconMap.set(\"video\", \"video\");\n\n  return (\n    <StyledLessonReviewItem\n      completed={completed}\n      $gap=\"space-between-m\"\n      $alignItems=\"center\"\n      $background={completed ? completedBackgroundColor : \"white\"}\n      $ph={[\"inner-padding-m\", \"inner-padding-xl\"]}\n      $pv=\"inner-padding-l\"\n      $borderRadius=\"border-radius-l\"\n      $borderColor={completed ? completedBackgroundColor : borderColor}\n      $ba=\"border-solid-l\"\n      {...rest}\n    >\n      <OakRoundIcon\n        iconName={lessonSectionNameToIconMap.get(lessonSectionName)}\n        $width=\"all-spacing-10\"\n        $height=\"all-spacing-10\"\n        $background={iconBackgroundColor}\n      />\n      <OakFlex $flexGrow={1} $flexShrink={1} $flexDirection={\"column\"}>\n        <OakBox $font={[\"heading-6\", \"heading-5\"]} $color={\"text-primary\"}>\n          {pickLabelForSection(lessonSectionName)}\n        </OakBox>\n        <OakBox $font={[\"body-2\", \"body-1\"]}>\n          {pickSummaryForProgress(props)}\n        </OakBox>\n      </OakFlex>\n      {renderQuestionCounter(props)}\n    </StyledLessonReviewItem>\n  );\n};\n\nconst pickSummaryForProgress = (props: OakLessonReviewItemProps) => {\n  if (props.completed === false) {\n    return pickSummaryForIncomplete(props);\n  } else {\n    return (\n      <OakFlex $gap=\"space-between-sssx\" $alignItems=\"center\">\n        <OakIcon\n          iconName=\"tick\"\n          $width=\"all-spacing-6\"\n          $height=\"all-spacing-6\"\n        />\n        Completed\n      </OakFlex>\n    );\n  }\n};\n\nconst pickSummaryForIncomplete = (props: OakLessonReviewItemProps) => {\n  switch (props.lessonSectionName) {\n    case \"intro\":\n      return \"Prepare\";\n    case \"starter-quiz\":\n      return `Activate - ${props.numQuestions} questions`;\n    case \"exit-quiz\":\n      return `Check - ${props.numQuestions} questions`;\n    case \"video\":\n      return \"Learn\";\n  }\n};\n\nconst pickLabelForSection = (sectionName: LessonSectionName): string => {\n  switch (sectionName) {\n    case \"intro\":\n      return \"Introduction\";\n    case \"starter-quiz\":\n      return \"Starter quiz\";\n    case \"video\":\n      return \"Lesson video\";\n    case \"exit-quiz\":\n      return \"Exit quiz\";\n  }\n};\n\nconst pickColorsForSection = (\n  sectionName: LessonSectionName,\n): [\n  completedBackgroundColor: OakCombinedColorToken,\n  borderColor: OakCombinedColorToken,\n  iconBackgroundColor: OakCombinedColorToken,\n] => {\n  switch (sectionName) {\n    case \"intro\":\n      return [\"bg-decorative2-very-subdued\", \"border-decorative2\", \"aqua\"];\n    case \"starter-quiz\":\n      return [\"bg-decorative1-very-subdued\", \"border-decorative1\", \"mint\"];\n    case \"video\":\n      return [\"bg-decorative4-very-subdued\", \"border-decorative4\", \"pink\"];\n    case \"exit-quiz\":\n      return [\"bg-decorative5-very-subdued\", \"border-decorative5\", \"lemon\"];\n  }\n};\n\nconst renderQuestionCounter = (props: OakLessonReviewItemProps) => {\n  if (props.completed === false) {\n    return null;\n  }\n\n  switch (props.lessonSectionName) {\n    case \"exit-quiz\":\n    case \"starter-quiz\":\n      return (\n        <OakBox>\n          <OakSpan $font=\"heading-4\">{props.grade}</OakSpan>\n          <OakSpan $font=\"heading-6\">&nbsp;/&nbsp;{props.numQuestions}</OakSpan>\n        </OakBox>\n      );\n    default:\n      return null;\n  }\n};\n"],"names":["StyledLessonReviewItem","styled","OakFlex","pickSummaryForProgress","props","completed","pickSummaryForIncomplete","React","createElement","$gap","OakIcon","iconName","$width","$height","lessonSectionName","numQuestions","pickLabelForSection","sectionName","pickColorsForSection","renderQuestionCounter","OakBox","default","OakSpan","$font","grade","rest","completedBackgroundColor","borderColor","iconBackgroundColor","lessonSectionNameToIconMap","Map","set","$alignItems","$background","$ph","$pv","$borderRadius","$ba","OakRoundIcon","get","$flexGrow","$flexShrink","$color"],"mappings":"+jHAiCA,MAAMA,OAAyBC,QAAOC,EAAOA,QAAyB;;;EAgDhEC,EAA0BC,IACN,IAApBA,EAAMC,UACDC,EAAyBF,GAG9BG,EAAAA,QAACC,cAAAN,EAAOA,QAAM,CAAAO,KAAA,iCAAiC,UAC7CF,UAACC,cAAAE,EAAOA,SACNC,SAAS,OACFC,OAAA,gBACCC,QAAA,kBAGF,aAKVP,EAA4BF,IAChC,OAAQA,EAAMU,mBACZ,IAAK,QACH,MAAO,UACT,IAAK,eACH,MAAO,cAAcV,EAAMW,yBAC7B,IAAK,YACH,MAAO,WAAWX,EAAMW,yBAC1B,IAAK,QACH,MAAO,QACV,EAGGC,EAAuBC,IAC3B,OAAQA,GACN,IAAK,QACH,MAAO,eACT,IAAK,eACH,MAAO,eACT,IAAK,QACH,MAAO,eACT,IAAK,YACH,MAAO,YACV,EAGGC,EACJD,IAMA,OAAQA,GACN,IAAK,QACH,MAAO,CAAC,8BAA+B,qBAAsB,QAC/D,IAAK,eACH,MAAO,CAAC,8BAA+B,qBAAsB,QAC/D,IAAK,QACH,MAAO,CAAC,8BAA+B,qBAAsB,QAC/D,IAAK,YACH,MAAO,CAAC,8BAA+B,qBAAsB,SAChE,EAGGE,EAAyBf,IAC7B,IAAwB,IAApBA,EAAMC,UACR,OAAO,KAGT,OAAQD,EAAMU,mBACZ,IAAK,YACL,IAAK,eACH,OACEP,wBAACa,EAAAA,OAAM,KACLb,EAAAc,QAAAb,cAACc,UAAc,CAAAC,MAAA,aAAanB,EAAMoB,OAClCjB,EAAAA,QAACC,cAAAc,EAAAA,eAAc,mBAA0BlB,EAAMW,eAGrD,QACE,OAAO,KACV,8BAzHiCX,IAClC,MAAMC,UAAEA,EAASS,kBAAEA,KAAsBW,GAASrB,GAC3CsB,EAA0BC,EAAaC,GAC5CV,EAAqBJ,GACjBe,EAA6B,IAAIC,IAOvC,OALAD,EAA2BE,IAAI,QAAS,SACxCF,EAA2BE,IAAI,eAAgB,QAC/CF,EAA2BE,IAAI,YAAa,QAC5CF,EAA2BE,IAAI,QAAS,SAGtCxB,wBAACP,EAAsB,CACrBK,UAAWA,OACN,kBAAiB2B,YACV,SACCC,YAAA5B,EAAYqB,EAA2B,QAAOQ,IACtD,CAAC,kBAAmB,oBAAmBC,IACxC,kBACUC,cAAA,+BACA/B,EAAYqB,EAA2BC,EACjDU,IAAA,oBACAZ,GAEJlB,EAAAc,QAAAb,cAAC8B,EAAYA,aACX,CAAA3B,SAAUkB,EAA2BU,IAAIzB,UAClC,iBAAgBD,QACf,iBAAgBoB,YACXL,IAEfrB,UAAAC,cAACN,EAAOA,QAAY,CAAAsC,UAAA,EAAgBC,YAAA,iBAAmB,UACrDlC,EAAAA,QAAAC,cAACY,EAAAA,OAAM,CAAAG,MAAQ,CAAC,YAAa,aAAsBmB,OAAA,gBAChD1B,EAAoBF,IAEvBP,EAAAA,QAAAC,cAACY,SAAM,CAAAG,MAAQ,CAAC,SAAU,WACvBpB,EAAuBC,KAG3Be,EAAsBf,GAEzB"}