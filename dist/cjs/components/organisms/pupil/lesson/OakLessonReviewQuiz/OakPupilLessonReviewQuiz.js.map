{"version":3,"file":"OakPupilLessonReviewQuiz.js","sources":["../../../../../../../src/components/organisms/pupil/lesson/OakLessonReviewQuiz/OakPupilLessonReviewQuiz.tsx"],"sourcesContent":["import React, { ReactNode } from \"react\";\nimport styled from \"styled-components\";\n\nimport { InternalReviewAccordion } from \"@/components/organisms/pupil/lesson/InternalReviewAccordion\";\nimport { OakBox, OakFlex, OakIcon, OakSpan } from \"@/components/atoms\";\nimport { OakRoundIcon } from \"@/components/molecules\";\nimport { OakCombinedColorToken } from \"@/styles\";\n\ntype LessonQuizName = \"starter-quiz\" | \"exit-quiz\";\ntype OakLessonReviewQuizProps = {\n  completed: boolean;\n  lessonSectionName: LessonQuizName;\n  /**\n   * The number of questions in the quiz\n   */\n  numQuestions: number;\n  /**\n   * The number of questions answered correctly\n   */\n  grade: number;\n  /**\n   * You MUST use the OakLessonExpandableReviewItem as the container component for this slot\n   */\n  resultsSlot?: React.ReactNode;\n};\n\ntype OakLessonReviewItemContainerProps = {\n  $background?: OakCombinedColorToken;\n  $borderColor?: OakCombinedColorToken;\n  children: React.ReactNode;\n};\n\nconst StyledLessonReviewItem = styled(OakFlex)`\n  outline: none;\n  text-align: initial;\n`;\n\nexport const ReviewItemContainer = (\n  props: OakLessonReviewItemContainerProps,\n) => {\n  const { children, ...rest } = props;\n\n  return (\n    <StyledLessonReviewItem\n      $flexDirection={[\"column\", \"column\", \"row\"]}\n      $justifyContent={\"space-between\"}\n      $flexWrap={\"wrap\"}\n      $ph={[\"inner-padding-m\", \"inner-padding-xl\"]}\n      $pv=\"inner-padding-l\"\n      $borderRadius=\"border-radius-l\"\n      $ba=\"border-solid-l\"\n      {...rest}\n    >\n      {children}\n    </StyledLessonReviewItem>\n  );\n};\n\ntype ReviewItemTitleSectionProps = {\n  sectionHeader: string;\n  completed: boolean;\n  summaryForIncomplete: ReactNode;\n};\nexport const ReviewItemTitleSection = (props: ReviewItemTitleSectionProps) => {\n  const { sectionHeader, completed, summaryForIncomplete } = props;\n  return (\n    <OakFlex $flexGrow={1} $flexShrink={1} $flexDirection={\"column\"}>\n      <OakBox $font={[\"heading-6\", \"heading-5\"]} $color={\"text-primary\"}>\n        {sectionHeader}\n      </OakBox>\n      <OakBox $font={[\"body-2\", \"body-1\"]}>\n        {completed === false ? (\n          summaryForIncomplete\n        ) : (\n          <OakFlex $gap=\"space-between-sssx\" $alignItems=\"center\">\n            <OakIcon\n              iconName=\"tick\"\n              $width=\"all-spacing-6\"\n              $height=\"all-spacing-6\"\n            />\n            Completed\n          </OakFlex>\n        )}\n      </OakBox>\n    </OakFlex>\n  );\n};\n\nexport const OakLessonReviewQuiz = (props: OakLessonReviewQuizProps) => {\n  const { completed, lessonSectionName, resultsSlot, ...rest } = props;\n  const [completedBackgroundColor, borderColor, iconBackgroundColor]: [\n    completedBackgroundColor: OakCombinedColorToken,\n    borderColor: OakCombinedColorToken,\n    iconBackgroundColor: OakCombinedColorToken,\n  ] =\n    lessonSectionName === \"starter-quiz\"\n      ? [\"bg-decorative1-very-subdued\", \"border-decorative1\", \"mint\"]\n      : [\"bg-decorative5-very-subdued\", \"border-decorative5\", \"lemon\"];\n\n  const summaryForIncomplete =\n    lessonSectionName === \"starter-quiz\"\n      ? `Activate - ${props.numQuestions} questions`\n      : `Check - ${props.numQuestions} questions`;\n\n  return (\n    <ReviewItemContainer\n      $background={completed ? completedBackgroundColor : \"white\"}\n      $borderColor={completed ? completedBackgroundColor : borderColor}\n      {...rest}\n    >\n      <OakFlex $gap=\"space-between-m\" $alignItems=\"center\">\n        <OakRoundIcon\n          iconName=\"quiz\"\n          $width=\"all-spacing-10\"\n          $height=\"all-spacing-10\"\n          $background={iconBackgroundColor}\n        />\n        <ReviewItemTitleSection\n          sectionHeader={\n            lessonSectionName === \"exit-quiz\" ? \"Exit quiz\" : \"Starter quiz\"\n          }\n          completed={completed}\n          summaryForIncomplete={summaryForIncomplete}\n        />\n        {completed && (\n          <OakBox>\n            <OakSpan $font=\"heading-4\">{props.grade}</OakSpan>\n            <OakSpan $font=\"heading-6\">\n              &nbsp;/&nbsp;{props.numQuestions}\n            </OakSpan>\n          </OakBox>\n        )}\n      </OakFlex>\n      {completed && (\n        <InternalReviewAccordion initialOpen={false} id=\"quiz-review-accordion\">\n          {resultsSlot}\n        </InternalReviewAccordion>\n      )}\n    </ReviewItemContainer>\n  );\n};\n"],"names":["StyledLessonReviewItem","styled","OakFlex","ReviewItemContainer","props","children","rest","React","default","createElement","$flexDirection","$justifyContent","$ph","$pv","$borderRadius","$ba","ReviewItemTitleSection","sectionHeader","completed","summaryForIncomplete","$flexGrow","$flexShrink","OakBox","$font","$color","$gap","$alignItems","OakIcon","iconName","$width","$height","lessonSectionName","resultsSlot","completedBackgroundColor","borderColor","iconBackgroundColor","numQuestions","$background","$borderColor","OakRoundIcon","OakSpan","grade","InternalReviewAccordion","initialOpen","id"],"mappings":"koHAgCA,MAAMA,OAAyBC,QAAOC,EAAOA,QAAC;;;EAKjCC,EACXC,IAEA,MAAMC,SAAEA,KAAaC,GAASF,EAE9B,OACEG,EAAAC,QAAAC,cAACT,EAAsB,CAAAU,eACL,CAAC,SAAU,SAAU,OACpBC,gBAAA,0BACN,OAAMC,IACZ,CAAC,kBAAmB,oBAAmBC,IACxC,kBACUC,cAAA,kBACVC,IAAA,oBACAT,GAEHD,EAEH,EAQSW,EAA0BZ,IACrC,MAAMa,cAAEA,EAAaC,UAAEA,EAASC,qBAAEA,GAAyBf,EAC3D,OACEG,wBAACL,EAAAA,QAAO,CAAAkB,UAAY,EAAgBC,YAAA,iBAAmB,UACrDd,EAAAA,QAACE,cAAAa,SAAc,CAAAC,MAAA,CAAC,YAAa,aAAsBC,OAAA,gBAChDP,GAEHV,UAACE,cAAAa,EAAAA,OAAc,CAAAC,MAAA,CAAC,SAAU,YACT,IAAdL,EAAmB,EAGlBX,EAAAA,QAAAE,cAACP,EAAOA,QAAA,CAAAuB,KAAM,qBAAoBC,YAAa,UAC7CnB,UAACE,cAAAkB,EAAOA,SACNC,SAAS,OACFC,OAAA,gBACCC,QAAA,gCAOlB,8BAGgC1B,IAClC,MAAMc,UAAEA,EAASa,kBAAEA,EAAiBC,YAAEA,KAAgB1B,GAASF,GACxD6B,EAA0BC,EAAaC,GAKtB,iBAAtBJ,EACI,CAAC,8BAA+B,qBAAsB,QACtD,CAAC,8BAA+B,qBAAsB,SAEtDZ,EACkB,iBAAtBY,EACI,cAAc3B,EAAMgC,yBACpB,WAAWhC,EAAMgC,yBAEvB,OACE7B,EAACC,QAAAC,cAAAN,EACc,CAAAkC,YAAAnB,EAAYe,EAA2B,QACtCK,aAAApB,EAAYe,EAA2BC,KACjD5B,GAEJC,EAAAC,QAAAC,cAACP,UAAO,CAAAuB,KAAM,kBAAiBC,YAAa,UAC1CnB,EAAAA,QAACE,cAAA8B,eACC,CAAAX,SAAS,OACFC,OAAA,iBACCC,QAAA,iBACKO,YAAAF,IAEf5B,EAAAA,QAACE,cAAAO,GACCC,cACwB,cAAtBc,EAAoC,YAAc,eAEpDb,UAAWA,EACXC,qBAAsBA,IAEvBD,GACCX,EAAAC,QAAAC,cAACa,EAAAA,OAAM,KACLf,EAAAC,QAAAC,cAAC+B,UAAc,CAAAjB,MAAA,aAAanB,EAAMqC,OAClClC,EAAAA,QAACE,cAAA+B,EAAAA,eAAc,mBACCpC,EAAMgC,gBAK3BlB,GACCX,EAAAC,QAAAC,cAACiC,EAAAA,wBAAwB,CAAAC,aAAa,EAAOC,GAAG,yBAC7CZ,GAIP"}