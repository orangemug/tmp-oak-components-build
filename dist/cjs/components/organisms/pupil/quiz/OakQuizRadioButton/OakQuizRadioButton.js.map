{"version":3,"file":"OakQuizRadioButton.js","sources":["../../../../../../../src/components/organisms/pupil/quiz/OakQuizRadioButton/OakQuizRadioButton.tsx"],"sourcesContent":["import React, { MouseEventHandler, useContext } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport { OakBox, OakFlex, OakIcon } from \"@/components/atoms\";\nimport {\n  OakRadioButton,\n  OakRadioButtonProps,\n} from \"@/components/molecules/OakRadioButton/OakRadioButton\";\nimport { parseDropShadow } from \"@/styles/helpers/parseDropShadow\";\nimport { parseBorder } from \"@/styles/helpers/parseBorder\";\nimport { parseColor } from \"@/styles/helpers/parseColor\";\nimport { parseBorderRadius } from \"@/styles/helpers/parseBorderRadius\";\nimport { RadioContext } from \"@/components/molecules/OakRadioGroup/OakRadioGroup\";\nimport { OakUiRoleToken } from \"@/styles\";\n\nexport type OakQuizRadioButtonProps = OakRadioButtonProps & {\n  /**\n   * Present the element with answer feedback\n   */\n  feedback?: \"correct\" | \"incorrect\" | null;\n  /**\n   * An image to display above the label\n   */\n  image?: JSX.Element;\n  /**\n   * Give the field a highlight to draw attention to it\n   */\n  isHighlighted?: boolean;\n};\n\ntype StyledOakFlexProps = {\n  $disabled: boolean;\n  $checked: boolean;\n  $outlineColor?: OakUiRoleToken;\n};\n\nconst StyledOakFlex = styled(OakFlex)<StyledOakFlexProps>`\n  &:not(:focus-within) {\n    ${(props) =>\n      !!props.$outlineColor &&\n      css`\n        outline: ${parseBorder(\"border-solid-xl\")}\n          ${parseColor(props.$outlineColor)};\n      `}\n  }\n\n  &:hover {\n    cursor: ${(props) => (props.$disabled ? \"default\" : \"pointer\")};\n  }\n\n  &:focus-within {\n    box-shadow: ${parseDropShadow(\"drop-shadow-centered-lemon\")},\n      ${parseDropShadow(\"drop-shadow-centered-grey\")};\n  }\n\n  ${(props) =>\n    !props.$disabled &&\n    css`\n      &:hover {\n        background-color: ${parseColor(\"bg-decorative1-subdued\")};\n        text-decoration: underline;\n      }\n    `}\n\n  ${(props) =>\n    !props.$disabled &&\n    !props.$checked &&\n    css`\n      &:hover:not(:focus-within)::after {\n        pointer-events: none;\n        content: \"\";\n        position: absolute;\n        inset: 0;\n        border-radius: ${parseBorderRadius(\"border-radius-m2\")};\n        border-bottom: ${parseBorder(\"border-solid-l\")} ${parseColor(\"grey60\")};\n      }\n    `}\n`;\n\n/**\n * A radio button representing the options in a multiple choice question.\n *\n * Use with `OakRadioGroup` to create a group of radio buttons.\n */\nexport const OakQuizRadioButton = (props: OakQuizRadioButtonProps) => {\n  const { value, feedback, image, disabled, isHighlighted, label, ...rest } =\n    props;\n  const showFeedback = !!feedback;\n  // Give the input focus when the entire component is clicked\n  const handleOnClick: MouseEventHandler<HTMLElement> = (event) => {\n    event.currentTarget.querySelector(\"input\")?.click();\n  };\n  const checked = useContext(RadioContext).currentValue === value;\n  let outlineColor: OakUiRoleToken | undefined;\n  let backgroundColor: OakUiRoleToken = \"bg-primary\";\n  let feedbackIcon: \"tick\" | \"cross\" | null = null;\n  let feedbackAltText: string | undefined;\n  let radioBackground: OakUiRoleToken = \"bg-primary\";\n\n  switch (true) {\n    case disabled && !showFeedback:\n      backgroundColor = \"bg-neutral-stronger\";\n      break;\n    case feedback === \"correct\" && checked:\n      outlineColor = \"border-success\";\n      backgroundColor = \"bg-correct\";\n      feedbackIcon = \"tick\";\n      feedbackAltText = \"Correct\";\n      break;\n    case feedback === \"incorrect\" && checked:\n      outlineColor = \"border-error\";\n      backgroundColor = \"bg-incorrect\";\n      feedbackIcon = \"cross\";\n      feedbackAltText = \"Incorrect\";\n      break;\n    case feedback === \"incorrect\" && !checked:\n      feedbackIcon = \"tick\";\n      feedbackAltText = \"Unselected correct choice\";\n      break;\n    case isHighlighted:\n      radioBackground = \"bg-decorative5-main\";\n      outlineColor = \"border-decorative5-stronger\";\n      break;\n    case checked && !disabled:\n      outlineColor = \"border-primary\";\n      break;\n  }\n\n  return (\n    <StyledOakFlex\n      $pa=\"inner-padding-l\"\n      $borderRadius=\"border-radius-m2\"\n      $justifyContent=\"space-between\"\n      $position=\"relative\"\n      $alignContent=\"center\"\n      onClick={handleOnClick}\n      $disabled={disabled || showFeedback}\n      $checked={checked}\n      $outlineColor={outlineColor}\n      $background={backgroundColor}\n    >\n      <OakRadioButton\n        value={value}\n        disabled={disabled || showFeedback}\n        $labelGap=\"space-between-s\"\n        disableFocusRing\n        radioInnerSize=\"all-spacing-6\"\n        radioOuterSize=\"all-spacing-7\"\n        radioBackground={radioBackground}\n        checkedRadioBorderWidth=\"border-solid-l\"\n        label={\n          image ? (\n            <OakFlex\n              $flexDirection=\"column\"\n              $minWidth=\"all-spacing-20\"\n              $gap=\"space-between-s\"\n            >\n              <OakBox>{image}</OakBox>\n              {label}\n            </OakFlex>\n          ) : (\n            label\n          )\n        }\n        {...rest}\n      />\n      {showFeedback && feedbackIcon && (\n        <OakFlex $alignSelf=\"flex-end\">\n          <OakIcon\n            iconName={feedbackIcon}\n            $colorFilter={\n              feedbackIcon === \"tick\" ? \"icon-success\" : \"icon-error\"\n            }\n            alt={feedbackAltText}\n          />\n        </OakFlex>\n      )}\n    </StyledOakFlex>\n  );\n};\n"],"names":["StyledOakFlex","styled","OakFlex","props","$outlineColor","css","parseBorder","parseColor","$disabled","parseDropShadow","$checked","parseBorderRadius","value","feedback","image","disabled","isHighlighted","label","rest","showFeedback","checked","useContext","RadioContext","currentValue","outlineColor","feedbackAltText","backgroundColor","feedbackIcon","radioBackground","React","createElement","$pa","$borderRadius","$justifyContent","$position","$alignContent","onClick","event","currentTarget","querySelector","click","$background","default","OakRadioButton","$labelGap","disableFocusRing","radioInnerSize","radioOuterSize","checkedRadioBorderWidth","$minWidth","$gap","OakBox","OakIcon","iconName","$colorFilter","alt"],"mappings":"6tDAoCA,MAAMA,OAAgBC,QAAOC,EAAOA,QAAqB;;MAElDC,KACCA,EAAMC,eACRC,EAAAA,GAAG;mBACUC,EAAAA,YAAY;YACnBC,EAAUA,WAACJ,EAAMC;;;;;cAKdD,GAAWA,EAAMK,UAAY,UAAY;;;;kBAItCC,EAAAA,gBAAgB;QAC1BA,EAAAA,gBAAgB;;;IAGnBN,IACAA,EAAMK,WACPH,EAAAA,GAAG;;4BAEqBE,EAAAA,WAAW;;;;;IAKlCJ,IACAA,EAAMK,YACNL,EAAMO,UACPL,EAAAA,GAAG;;;;;;yBAMkBM,EAAAA,kBAAkB;yBAClBL,EAAAA,YAAY,qBAAqBC,EAAUA,WAAC;;;6BAUlCJ,IACjC,MAAMS,MAAEA,EAAKC,SAAEA,EAAQC,MAAEA,EAAKC,SAAEA,EAAQC,cAAEA,EAAaC,MAAEA,KAAUC,GACjEf,EACIgB,IAAiBN,EAKjBO,EAAUC,EAAUA,WAACC,EAAYA,cAAEC,eAAiBX,EAC1D,IAAIY,EAGAC,EAFAC,EAAkC,aAClCC,EAAwC,KAExCC,EAAkC,aAEtC,QAAQ,GACN,KAAKb,IAAaI,EAChBO,EAAkB,sBAClB,MACF,IAAkB,YAAbb,GAA0BO,EAC7BI,EAAe,iBACfE,EAAkB,aAClBC,EAAe,OACfF,EAAkB,UAClB,MACF,IAAkB,cAAbZ,GAA4BO,EAC/BI,EAAe,eACfE,EAAkB,eAClBC,EAAe,QACfF,EAAkB,YAClB,MACF,IAAkB,cAAbZ,IAA6BO,EAChCO,EAAe,OACfF,EAAkB,4BAClB,MACF,KAAKT,EACHY,EAAkB,sBAClBJ,EAAe,8BACf,MACF,KAAKJ,IAAYL,EACfS,EAAe,iBAInB,OACEK,UAACC,cAAA9B,EACK,CAAA+B,IAAA,kBACUC,cAAA,mBACEC,gBAAA,gBACNC,UAAA,WACIC,cAAA,SACdC,QA9CmDC,IACrDA,EAAMC,cAAcC,cAAc,UAAUC,OAAO,EA6C3BhC,UACXO,GAAYI,EAAYT,SACzBU,EAAOhB,cACFoB,EAAYiB,YACdf,GAEbG,EAACa,QAAAZ,cAAAa,EAAcA,gBACb/B,MAAOA,EACPG,SAAUA,GAAYI,EACZyB,UAAA,kBACVC,kBAAgB,EAChBC,eAAe,gBACfC,eAAe,gBACfnB,gBAAiBA,EACjBoB,wBAAwB,iBACxB/B,MACEH,EACEe,UAACC,cAAA5B,EAAAA,wBACgB,SAAQ+C,UACb,iBAAgBC,KACrB,mBAELrB,EAAAA,QAACC,cAAAqB,SAAQ,KAAArC,GACRG,GAGH,KAGAC,IAELC,GAAgBQ,GACfE,UAACC,cAAA5B,EAAAA,oBAAmB,YAClB2B,EAACa,QAAAZ,cAAAsB,EAAOA,QACN,CAAAC,SAAU1B,EAER2B,aAAiB,SAAjB3B,EAA0B,eAAiB,aAE7C4B,IAAK9B,KAKb"}