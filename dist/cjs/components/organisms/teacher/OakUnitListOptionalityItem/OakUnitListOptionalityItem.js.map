{"version":3,"file":"OakUnitListOptionalityItem.js","sources":["../../../../../../src/components/organisms/teacher/OakUnitListOptionalityItem/OakUnitListOptionalityItem.tsx"],"sourcesContent":["import React, { MutableRefObject } from \"react\";\nimport styled from \"styled-components\";\n\nimport { OakUnitListOptionalityItemCard } from \"@/components/organisms/teacher/OakUnitListOptionalityItemCard\";\nimport {\n  OakFlex,\n  OakBox,\n  OakHeading,\n  OakSpan,\n  OakLabel,\n  OakGrid,\n  OakGridArea,\n} from \"@/components/atoms\";\nimport { FlexStyleProps } from \"@/styles/utils/flexStyle\";\n\nconst StyledYearAndOptionFlex = styled(OakFlex)`\n  @media (min-width: 356px) {\n    min-width: 260px;\n  }\n`;\n\nconst UnitYearAndOptionCount = ({\n  yearTitle,\n  optionalityUnitsLength,\n  unavailable,\n}: {\n  yearTitle: string | null | undefined;\n  optionalityUnitsLength: number;\n  unavailable: boolean | undefined;\n}) => (\n  <StyledYearAndOptionFlex\n    $width={[\"100%\", \"all-spacing-19\"]}\n    $justifyContent={[\"space-between\"]}\n    $alignItems={\"center\"}\n  >\n    <OakSpan\n      $color={unavailable ? \"text-disabled\" : \"text-primary\"}\n      $font={\"heading-light-7\"}\n    >\n      {yearTitle}\n    </OakSpan>\n\n    <OakBox\n      $ph={\"inner-padding-xs\"}\n      $pv={\"inner-padding-ssx\"}\n      $ba={\"border-solid-s\"}\n      $borderColor={\n        unavailable ? \"border-neutral-lighter\" : \"bg-decorative4-main\"\n      }\n      $color={unavailable ? \"text-disabled\" : \"text-primary\"}\n      $background={\n        unavailable ? \"bg-neutral-stronger\" : \"bg-decorative4-very-subdued\"\n      }\n      $borderRadius={\"border-radius-s\"}\n    >\n      <OakLabel\n        $font={\"heading-light-7\"}\n        $color={unavailable ? \"text-disabled\" : \"text-primary\"}\n      >{`${optionalityUnitsLength} unit options`}</OakLabel>\n    </OakBox>\n  </StyledYearAndOptionFlex>\n);\n\nconst UnitIndex = ({\n  children,\n  unavailable,\n  ...rest\n}: {\n  children: React.ReactNode;\n  unavailable: boolean | undefined;\n} & FlexStyleProps) => (\n  <OakFlex\n    $btlr={\"border-radius-s\"}\n    $bblr={\"border-radius-s\"}\n    $background={unavailable ? \"bg-neutral-stronger\" : \"lavender\"}\n    $minWidth={\"all-spacing-11\"}\n    $width={[\"all-spacing-11\", \"all-spacing-11\", \"auto\"]}\n    $height={[\"all-spacing-11\", \"auto\", \"auto\"]}\n    $justifyContent={\"center\"}\n    $alignItems={\"center\"}\n    {...rest}\n  >\n    <OakSpan\n      $font={\"heading-5\"}\n      $color={unavailable ? \"text-disabled\" : \"text-primary\"}\n    >\n      {children}\n    </OakSpan>\n  </OakFlex>\n);\n\nconst StyledUnitHeading = ({\n  children,\n  unavailable,\n}: {\n  children: React.ReactNode;\n  unavailable: boolean | undefined;\n}) => {\n  return (\n    <OakFlex\n      $maxWidth={\"all-spacing-21\"}\n      $mr={[\"space-between-none\", \"space-between-s\"]}\n    >\n      <OakHeading\n        $color={unavailable ? \"text-disabled\" : \"text-primary\"}\n        $font={\"heading-7\"}\n        tag=\"h3\"\n      >\n        {children}\n      </OakHeading>\n    </OakFlex>\n  );\n};\n\nexport type OakUnitListOptionalityItemProps = {\n  unavailable?: boolean;\n  index: number;\n  nullTitle: string;\n  yearTitle?: string | null;\n  firstItemRef: MutableRefObject<HTMLAnchorElement | null> | null | undefined;\n  optionalityUnits: {\n    title: string;\n    href: string;\n    lessonCount: number;\n    onClick?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n    firstItemRef?:\n      | MutableRefObject<HTMLAnchorElement | null>\n      | null\n      | undefined;\n  }[];\n};\n\n/**\n *\n * OakUnitsListOptionalityItem component used as links for unit cards with optionality\n */\nexport const OakUnitListOptionalityItem = (\n  props: OakUnitListOptionalityItemProps,\n) => {\n  const {\n    unavailable,\n    index,\n    optionalityUnits,\n    nullTitle,\n    firstItemRef,\n    ...rest\n  } = props;\n\n  return (\n    <OakFlex\n      $flexDirection={[\"column\", \"row\", \"row\"]}\n      $width={\"100%\"}\n      as={\"li\"}\n      {...rest}\n    >\n      <OakFlex $display={[\"flex\", \"none\"]} $background={\"white\"}>\n        <UnitIndex unavailable={unavailable}>{index}</UnitIndex>\n\n        <OakFlex $alignItems={\"center\"} $ma={\"space-between-xs\"}>\n          <StyledUnitHeading unavailable={unavailable}>\n            {nullTitle}\n          </StyledUnitHeading>\n        </OakFlex>\n      </OakFlex>\n      <UnitIndex unavailable={unavailable} $display={[\"none\", \"flex\", \"flex\"]}>\n        {index}\n      </UnitIndex>\n\n      <OakBox\n        $background={\"white\"}\n        $pa={[\"inner-padding-m\", \"inner-padding-l\"]}\n        $width={\"100%\"}\n      >\n        <OakFlex\n          $alignItems={\"center\"}\n          $mb={\"space-between-s\"}\n          $display={[\"none\", \"flex\"]}\n        >\n          <OakFlex\n            $flexGrow={1}\n            $alignItems={\"center\"}\n            $justifyContent={\"space-between\"}\n          >\n            <StyledUnitHeading unavailable={unavailable}>\n              {nullTitle}\n            </StyledUnitHeading>\n            <OakFlex $alignItems={\"center\"}>\n              <UnitYearAndOptionCount\n                yearTitle={props.yearTitle}\n                optionalityUnitsLength={optionalityUnits.length}\n                unavailable={unavailable}\n              />\n            </OakFlex>\n          </OakFlex>\n        </OakFlex>\n        <OakFlex\n          $alignItems={\"center\"}\n          $justifyContent={\"space-between\"}\n          $mb={\"space-between-s\"}\n          $display={[\"flex\", \"none\", \"none\"]}\n          $width={\"100%\"}\n        >\n          <OakBox $mb={\"space-between-s\"} $display={[\"none\", \"auto\", \"auto\"]}>\n            <StyledUnitHeading unavailable={unavailable}>\n              {nullTitle}\n            </StyledUnitHeading>\n          </OakBox>\n\n          <UnitYearAndOptionCount\n            yearTitle={props.yearTitle}\n            optionalityUnitsLength={optionalityUnits.length}\n            unavailable={unavailable}\n          />\n        </OakFlex>\n        <OakGrid $rg={\"space-between-xs\"} $cg={\"space-between-xs\"}>\n          {optionalityUnits.map((unit, index) => (\n            <OakGridArea key={`${unit.title}-${index}`} $colSpan={[12, 6]}>\n              <OakUnitListOptionalityItemCard\n                {...unit}\n                firstItemRef={index === 0 ? firstItemRef : null}\n                unavailable={unavailable}\n              />\n            </OakGridArea>\n          ))}\n        </OakGrid>\n      </OakBox>\n    </OakFlex>\n  );\n};\n"],"names":["StyledYearAndOptionFlex","styled","OakFlex","UnitYearAndOptionCount","yearTitle","optionalityUnitsLength","unavailable","React","createElement","$width","$justifyContent","$alignItems","OakSpan","$color","$font","OakBox","$ph","$pv","$borderColor","$background","default","OakLabel","UnitIndex","children","rest","$btlr","$bblr","$minWidth","StyledUnitHeading","$maxWidth","OakHeading","tag","props","index","optionalityUnits","nullTitle","firstItemRef","as","$ma","$display","$pa","$mb","$flexGrow","length","OakGrid","$rg","$cg","map","unit","OakGridArea","key","title","$colSpan","OakUnitListOptionalityItemCard"],"mappings":"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"}