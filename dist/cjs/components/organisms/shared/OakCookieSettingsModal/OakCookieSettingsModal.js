"use strict";var e=require("react"),a=require("../../../molecules/OakAccordion/OakAccordion.js");require("../../../molecules/OakBackLink/OakBackLink.js"),require("../../../atoms/OakAnchorTarget/OakAnchorTarget.js"),require("../../../atoms/OakAspectRatio/OakAspectRatio.js");var r=require("../../../atoms/OakBox/OakBox.js");require("../../../atoms/OakCloudinaryImage/OakCloudinaryImage.js"),require("../../../atoms/OakFlex/OakFlex.js"),require("../../../atoms/OakForm/OakForm.js"),require("../../../atoms/OakGlobalStyle/OakGlobalStyle.js"),require("../../../atoms/OakGrid/OakGrid.js"),require("../../../atoms/OakGridArea/OakGridArea.js");var t=require("../../../atoms/OakHeading/OakHeading.js");require("../../../atoms/OakImage/OakImage.js");var o=require("../../../atoms/OakSpan/OakSpan.js");require("../../../atoms/OakLI/OakLI.js"),require("../../../atoms/OakLabel/OakLabel.js"),require("../../../atoms/OakMaxWidth/OakMaxWidth.js"),require("../../../atoms/OakOL/OakOL.js"),require("../../../atoms/OakFieldset/OakFieldset.js");var l=require("../../../atoms/OakP/OakP.js");require("../../../atoms/OakScreenReader/OakScreenReader.js"),require("styled-components"),require("../../../atoms/OakTypography/OakTypography.js");var n=require("../../../atoms/OakUL/OakUL.js");require("../../../atoms/OakSvg/OakSvg.js"),require("../../../molecules/OakButtonAsRadioGroup/OakButtonAsRadioGroup.js"),require("../../../atoms/InternalCardWithBackgroundElement/InternalCardWithBackgroundElement.js"),require("../../../atoms/InternalStyledSvg/InternalStyledSvg.js");var i=require("../../../molecules/OakCheckBox/OakCheckBox.js");require("../../../molecules/OakCollapsibleContent/OakCollapsibleContent.js"),require("../../../molecules/OakDragAndDropInstructions/OakDragAndDropInstructions.js"),require("../../../molecules/OakDraggable/OakDraggable.js"),require("../../../molecules/OakDroppable/OakDroppable.js"),require("../../../molecules/OakHandDrawnFocusUnderline/OakHandDrawnFocusUnderline.js"),require("../../../molecules/OakHandDrawnHR/OakHandDrawnHR.js"),require("../../../molecules/InternalShadowRoundButton/InternalShadowRoundButton.js");var s=require("../../../molecules/OakLink/OakLink.js");require("../../../molecules/OakLoadingSpinner/OakLoadingSpinner.js");var u=require("../../../molecules/OakModal/OakModal.js"),c=require("../../../molecules/OakModal/OakModalBody.js"),d=require("../../../molecules/OakModal/OakModalFooter.js");require("../../../molecules/OakModalCenter/OakModalCenter.js"),require("../../../molecules/OakOutlineAccordion/OakOutlineAccordion.js");var k=require("../../../molecules/OakPrimaryButton/OakPrimaryButton.js");require("../../../molecules/InternalShadowRectButton/InternalShadowRectButton.js"),require("../../../molecules/OakPromoTag/OakPromoTag.js"),require("../../../molecules/OakRadioButton/OakRadioButton.js"),require("../../../molecules/OakRadioGroup/OakRadioGroup.js"),require("../../../molecules/OakRadioTile/OakRadioTile.js");var m=require("../../../molecules/OakSecondaryButton/OakSecondaryButton.js"),O=require("../../../molecules/OakSecondaryLink/OakSecondaryLink.js");function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../../molecules/OakFilterDrawer/OakFilterDrawer.js"),require("../../../molecules/OakTextInput/OakTextInput.js"),require("react-dom"),require("../../../atoms/InternalTooltip/InternalTooltip.js"),require("../../../molecules/OakTimer/OakTimer.js"),require("../../../molecules/OakCodeRenderer/OakCodeRenderer.js");var j=p(e);exports.OakCookieSettingsModal=({isOpen:e,onClose:p,onReject:y,onConfirm:g,onAccept:q,policyURL:f,policyConsents:h,zIndex:b})=>j.default.createElement(u.OakModal,{isOpen:e,onClose:p,zIndex:b,footerSlot:j.default.createElement(d.OakModalFooter,null,j.default.createElement(m.OakSecondaryButton,{onClick:y,width:"100%"},"Reject non-essential cookies"),j.default.createElement(k.OakPrimaryButton,{type:"submit",form:"cookie-settings-form",width:"100%"},"Confirm my choices"))},j.default.createElement(c.OakModalBody,null,j.default.createElement(t.OakHeading,{tag:"h2",$font:"heading-5",$mb:"space-between-s"},"This site uses cookies to store information on your computer."),j.default.createElement(l.OakP,{$mb:"space-between-m"},"Some of these cookies are essential, while others help us to improve your experience by providing insights into how the site is being used."),j.default.createElement(l.OakP,{$mb:"space-between-l"},"For more information, view our"," ",j.default.createElement(s.OakLink,{href:f,target:"_blank"},"cookie policy"),"."),j.default.createElement(r.OakBox,{$mb:"space-between-xl"},j.default.createElement(k.OakPrimaryButton,{onClick:q,width:"all-spacing-18"},"Allow all")),j.default.createElement(r.OakBox,{$ph:"inner-padding-xs",as:"form",id:"cookie-settings-form",onSubmit:e=>{e.preventDefault();const a=new FormData(e.currentTarget),r={};for(const{policyId:e,isStrictlyNecessary:a}of h)r[e]={policyId:e,consentState:a?"granted":"denied"};for(const e of a.getAll("consent"))r[e.toString()]={policyId:e.toString(),consentState:"granted"};g(Object.values(r))}},j.default.createElement(t.OakHeading,{tag:"h3",$font:"heading-6",$mb:"space-between-m"},"Manage consent preferences"),h.map((e=>j.default.createElement(a.OakAccordion,{key:e.policyId,header:j.default.createElement(o.OakSpan,{id:`cookie-settings-${e.policyId}-label`},e.policyLabel),id:`cookies-settings-${e.policyId}-accordion`,headerAfterSlot:j.default.createElement(i.OakCheckBox,{id:`cookies-settings-${e.policyId}-checkbox`,name:"consent",displayValue:"",value:e.policyId,defaultChecked:e.isStrictlyNecessary||"granted"===e.consentState,disabled:e.isStrictlyNecessary,"aria-labelledby":`cookie-settings-${e.policyId}-label`})},j.default.createElement(l.OakP,{$mb:"space-between-m2"},e.policyDescription),j.default.createElement(r.OakBox,{as:"dl",$pl:"inner-padding-m"},e.policyParties.length>0&&j.default.createElement(j.default.Fragment,null,j.default.createElement("dt",null,"Who do we share data with?"),j.default.createElement(r.OakBox,{as:"dd",$font:"body-3-bold",$mb:"space-between-s"},j.default.createElement(n.OakUL,{$reset:!0},e.policyParties.map(((e,a,t)=>j.default.createElement(r.OakBox,{as:"li",key:a,$display:"inline"},j.default.createElement(O.OakSecondaryLink,{href:e.url,target:"_blank",rel:"external nofollow"},e.name),a<t.length-1&&", ")))))),j.default.createElement("dt",null,"Does this policy need cookies to work?"),j.default.createElement(r.OakBox,{as:"dd",$font:"body-3-bold"},"Yes."))))))));
//# sourceMappingURL=OakCookieSettingsModal.js.map
