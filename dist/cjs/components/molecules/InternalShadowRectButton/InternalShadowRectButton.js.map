{"version":3,"file":"InternalShadowRectButton.js","sources":["../../../../../src/components/molecules/InternalShadowRectButton/InternalShadowRectButton.tsx"],"sourcesContent":["import React, { ElementType } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport { OakBox, OakBoxProps, OakFlex, OakSpan } from \"@/components/atoms\";\nimport {\n  InternalButton,\n  InternalButtonProps,\n} from \"@/components/atoms/InternalButton\";\nimport { OakIcon, OakIconName } from \"@/components/atoms/OakIcon\";\nimport { OakLoadingSpinner } from \"@/components/molecules/OakLoadingSpinner\";\nimport { parseDropShadow } from \"@/styles/helpers/parseDropShadow\";\nimport {\n  PositionStyleProps,\n  positionStyle,\n} from \"@/styles/utils/positionStyle\";\nimport { parseColor } from \"@/styles/helpers/parseColor\";\nimport {\n  OakAllSpacingToken,\n  OakCombinedColorToken,\n  OakDropShadowToken,\n} from \"@/styles\";\nimport { SizeStyleProps, sizeStyle } from \"@/styles/utils/sizeStyle\";\nimport { PolymorphicPropsWithoutRef } from \"@/components/polymorphic\";\nimport { SpacingStyleProps } from \"@/styles/utils/spacingStyle\";\nimport { FlexStyleProps } from \"@/styles/utils/flexStyle\";\nimport { TypographyStyleProps } from \"@/styles/utils/typographyStyle\";\n\ntype OakLoadingSpinnerTokenSubset = Extract<\n  OakAllSpacingToken,\n  \"all-spacing-5\" | \"all-spacing-6\"\n>;\n\nexport type InternalShadowRectButtonProps = Omit<\n  InternalButtonProps,\n  | \"$pa\"\n  | \"$ph\"\n  | \"$pv\"\n  | \"$pt\"\n  | \"$pb\"\n  | \"$ba\"\n  | \"$borderRadius\"\n  | \"$borderColor\"\n  | \"$background\"\n  | \"$color\"\n> & {\n  iconName?: OakIconName;\n  iconAriaHidden?: boolean;\n  /**\n   *  we can set a custom icon if we want different sizes and padding\n   */\n  iconOverride?: React.ReactNode;\n  isTrailingIcon?: boolean;\n  /**\n   *  we can arrange the icon vertically or horizontally\n   */\n  iconLayout?: FlexStyleProps[\"$flexDirection\"];\n  /**\n   *  we can adjust the gap between the icon and the text\n   */\n  loadingSpinnerSize?: OakLoadingSpinnerTokenSubset;\n  iconGap?: FlexStyleProps[\"$gap\"];\n  defaultTextColor: OakCombinedColorToken;\n  defaultBackground: OakCombinedColorToken;\n  defaultBorderColor: OakCombinedColorToken;\n  hoverTextColor: OakCombinedColorToken;\n  hoverBackground: OakCombinedColorToken;\n  hoverBorderColor: OakCombinedColorToken;\n  disabledBackground: OakCombinedColorToken;\n  disabledBorderColor: OakCombinedColorToken;\n  disabledTextColor: OakCombinedColorToken;\n  width?: SizeStyleProps[\"$width\"];\n  maxWidth?: SizeStyleProps[\"$maxWidth\"];\n  hoverShadow?: OakDropShadowToken | null;\n  pv?: SpacingStyleProps[\"$pv\"];\n  ph?: SpacingStyleProps[\"$ph\"];\n  font?: TypographyStyleProps[\"$font\"];\n  innerWidth?: SizeStyleProps[\"$width\"];\n  textAlign?: TypographyStyleProps[\"$textAlign\"];\n} & PositionStyleProps;\n\nconst StyledInternalButton = styled(InternalButton)<\n  SizeStyleProps & {\n    $defaultTextColor: OakCombinedColorToken;\n    $defaultBackground: OakCombinedColorToken;\n    $defaultBorderColor: OakCombinedColorToken;\n    $hoverTextColor: OakCombinedColorToken;\n    $hoverBackground: OakCombinedColorToken;\n    $hoverBorderColor: OakCombinedColorToken;\n    $disabledBackground: OakCombinedColorToken;\n    $disabledBorderColor: OakCombinedColorToken;\n    $disabledTextColor: OakCombinedColorToken;\n  }\n>`\n  ${positionStyle}\n  ${sizeStyle}\n  display: inline-block;\n  ${(props) => css`\n    &:hover {\n      text-decoration: underline;\n      color: ${parseColor(props.$hoverTextColor)};\n      background: ${parseColor(props.$hoverBackground)};\n      border-color: ${parseColor(props.$hoverBorderColor)};\n    }\n    &:active {\n      background: ${parseColor(props.$defaultBackground)};\n      border-color: ${parseColor(props.$defaultBorderColor)};\n      color: ${parseColor(props.$defaultTextColor)};\n    }\n    &:disabled {\n      background: ${parseColor(props.$disabledBackground)};\n      border-color: ${parseColor(props.$disabledBorderColor)};\n      color: ${parseColor(props.$disabledTextColor)};\n    }\n  `}\n`;\n\nexport const StyledButtonWrapper = styled(OakBox)<\n  OakBoxProps & {\n    $hoverShadow?: OakDropShadowToken | null;\n  }\n>`\n  .grey-shadow:has(+ * + .internal-button:focus-visible) {\n    box-shadow: ${parseDropShadow(\"drop-shadow-centered-grey\")};\n  }\n  .yellow-shadow:has(+ .internal-button:focus-visible) {\n    box-shadow: ${parseDropShadow(\"drop-shadow-centered-lemon\")};\n  }\n  .yellow-shadow:has(+ .internal-button:hover),\n  .yellow-shadow:has(+ .internal-button:hover:not(:focus-visible, :active)) {\n    box-shadow: ${(props) => parseDropShadow(props.$hoverShadow)};\n  }\n  .grey-shadow:has(+ * + .internal-button:hover) {\n    box-shadow: none;\n  }\n  .grey-shadow:has(+ * + .internal-button:active) {\n    box-shadow: ${parseDropShadow(\"drop-shadow-grey\")};\n  }\n  .yellow-shadow:has(+ .internal-button:active) {\n    box-shadow: ${parseDropShadow(\"drop-shadow-lemon\")};\n  }\n`;\n\n/**\n *\n * A styled rectangular button, not intended to be used directly. \n * Instead used by OakPrimaryButton and OakSecondaryButton.\n * \n * The following callbacks are available for tracking focus events:\n *\n * ### onClick\n * `onClick?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;`\n\n * ### onHovered\n *  `onHovered?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>, duration: number) => void;`<br>\n *  called after a mouseEnter and mouseLeave event has happened\n */\nexport const InternalShadowRectButton = <C extends ElementType = \"button\">(\n  props: InternalShadowRectButtonProps & PolymorphicPropsWithoutRef<C>,\n) => {\n  const {\n    element = \"button\",\n    children,\n    iconName,\n    iconAriaHidden,\n    isTrailingIcon,\n    isLoading,\n    disabled,\n    width = \"max-content\",\n    maxWidth,\n    innerWidth,\n    defaultBackground,\n    defaultBorderColor,\n    defaultTextColor,\n    disabledTextColor,\n    hoverTextColor,\n    hoverBackground,\n    hoverBorderColor,\n    disabledBackground,\n    disabledBorderColor,\n    className,\n    hoverShadow = \"drop-shadow-lemon\",\n    pv = \"inner-padding-s\",\n    ph = \"inner-padding-m\",\n    pt,\n    pb,\n    iconLayout = \"row\",\n    iconGap = \"space-between-ssx\",\n    iconOverride,\n    font = \"heading-7\",\n    textAlign = \"left\",\n    loadingSpinnerSize = \"all-spacing-6\",\n    ...rest\n  } = props;\n\n  const icon = iconOverride ?? (\n    <>\n      {iconName && (\n        <OakIcon\n          iconName={iconName}\n          $width={\"all-spacing-6\"}\n          $height={\"all-spacing-6\"}\n          $colorFilter={props.disabled ? disabledTextColor : defaultTextColor}\n          aria-hidden={iconAriaHidden}\n        />\n      )}\n    </>\n  );\n\n  const loader = (\n    <OakBox $width={loadingSpinnerSize} $height={loadingSpinnerSize}>\n      <OakLoadingSpinner $width={loadingSpinnerSize} />\n    </OakBox>\n  );\n\n  const iconLogic = <>{isLoading && !disabled ? loader : icon}</>;\n\n  return (\n    <StyledButtonWrapper\n      className={className}\n      $position={\"relative\"}\n      $width={width}\n      $maxWidth={maxWidth}\n      $hoverShadow={hoverShadow}\n    >\n      <OakBox\n        className=\"grey-shadow\"\n        $position={\"absolute\"}\n        $borderRadius={\"border-radius-s\"}\n        $width={\"100%\"}\n        $height={\"100%\"}\n        $top=\"all-spacing-0\"\n      />\n\n      <OakBox\n        className=\"yellow-shadow\"\n        $position={\"absolute\"}\n        $borderRadius={\"border-radius-s\"}\n        $width={\"100%\"}\n        $height={\"100%\"}\n        $top=\"all-spacing-0\"\n      />\n\n      <StyledInternalButton\n        element={element}\n        className=\"internal-button\"\n        $ba={\"border-solid-m\"}\n        $background={defaultBackground}\n        $borderColor={defaultBorderColor}\n        $color={defaultTextColor}\n        $pv={pv}\n        $ph={ph}\n        $pt={pt}\n        $pb={pb}\n        $borderRadius={\"border-radius-s\"}\n        $position={\"relative\"}\n        disabled={disabled || isLoading}\n        $width={\"100%\"}\n        $height={\"100%\"}\n        $hoverTextColor={hoverTextColor}\n        $hoverBackground={hoverBackground}\n        $hoverBorderColor={hoverBorderColor}\n        $defaultTextColor={defaultTextColor}\n        $defaultBackground={defaultBackground}\n        $defaultBorderColor={defaultBorderColor}\n        $disabledTextColor={disabledTextColor}\n        $disabledBackground={disabledBackground}\n        $disabledBorderColor={disabledBorderColor}\n        {...rest}\n      >\n        <OakFlex\n          $flexDirection={iconLayout}\n          $alignItems={\"center\"}\n          $gap={iconGap}\n          $justifyContent={\"center\"}\n          $width={innerWidth}\n        >\n          {!isTrailingIcon && iconLogic}\n          <OakSpan $font={font} $textAlign={textAlign}>\n            {children}\n          </OakSpan>\n          {isTrailingIcon && iconLogic}\n        </OakFlex>\n      </StyledInternalButton>\n    </StyledButtonWrapper>\n  );\n};\n"],"names":["StyledInternalButton","styled","InternalButton","positionStyle","sizeStyle","props","css","parseColor","$hoverTextColor","$hoverBackground","$hoverBorderColor","$defaultBackground","$defaultBorderColor","$defaultTextColor","$disabledBackground","$disabledBorderColor","$disabledTextColor","StyledButtonWrapper","OakBox","parseDropShadow","$hoverShadow","element","children","iconName","iconAriaHidden","isTrailingIcon","isLoading","disabled","width","maxWidth","innerWidth","defaultBackground","defaultBorderColor","defaultTextColor","disabledTextColor","hoverTextColor","hoverBackground","hoverBorderColor","disabledBackground","disabledBorderColor","className","hoverShadow","pv","ph","pt","pb","iconLayout","iconGap","iconOverride","font","textAlign","loadingSpinnerSize","rest","icon","React","default","createElement","OakIcon","$height","$colorFilter","loader","$width","OakLoadingSpinner","iconLogic","Fragment","$position","$maxWidth","$borderRadius","$top","$ba","$background","$borderColor","$color","$pv","$ph","$pt","$pb","OakFlex","$flexDirection","$alignItems","$justifyContent","OakSpan","$font"],"mappings":"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"}