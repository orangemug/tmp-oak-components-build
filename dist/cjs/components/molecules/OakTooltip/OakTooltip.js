"use strict";var e=require("react"),t=require("react-dom"),a=require("../../atoms/InternalTooltip/InternalTooltip.js");require("../../atoms/OakAnchorTarget/OakAnchorTarget.js"),require("../../atoms/OakAspectRatio/OakAspectRatio.js");var r=require("../../atoms/OakBox/OakBox.js");require("../../atoms/OakCloudinaryImage/OakCloudinaryImage.js"),require("../../atoms/OakFlex/OakFlex.js"),require("../../atoms/OakForm/OakForm.js"),require("../../atoms/OakGlobalStyle/OakGlobalStyle.js"),require("../../atoms/OakGrid/OakGrid.js"),require("../../atoms/OakGridArea/OakGridArea.js"),require("../../atoms/OakHeading/OakHeading.js"),require("../../atoms/OakImage/OakImage.js"),require("../../atoms/OakSpan/OakSpan.js"),require("../../atoms/OakLI/OakLI.js"),require("../../atoms/OakLabel/OakLabel.js"),require("../../atoms/OakMaxWidth/OakMaxWidth.js"),require("../../atoms/OakOL/OakOL.js"),require("../../atoms/OakFieldset/OakFieldset.js"),require("../../atoms/OakP/OakP.js"),require("../../atoms/OakScreenReader/OakScreenReader.js"),require("styled-components"),require("../../atoms/OakTypography/OakTypography.js"),require("../../atoms/OakUL/OakUL.js"),require("../../atoms/OakSvg/OakSvg.js");var o=require("../../../styles/helpers/parseSpacing.js");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=s(e);function i(e){const t={};switch(e){case"top-left":case"top-right":t.$top="space-between-none",t.$transform=`translateY(calc(-100% - ${o.parseSpacing("space-between-s")}))`;break;default:t.$bottom="space-between-none",t.$transform=`translateY(calc(100% + ${o.parseSpacing("space-between-s")}))`}switch(e){case"top-left":case"bottom-left":t.$left="space-between-none";break;default:t.$right="space-between-none"}return t}exports.OakTooltip=({tooltipPosition:o,children:s,tooltip:l,isOpen:u,domContainer:d,...c})=>{const[m,O]=e.useState(null),[k,p]=e.useState(!0),[f,b]=e.useState(d),g=u&&k,[q,h]=e.useState(),j={$borderRadius:"border-radius-m",[(()=>{switch(o){case"bottom-right":return"$btrr";case"top-right":return"$bbrr";case"top-left":return"$bblr";default:return"$btlr"}})()]:"border-radius-square"};return e.useLayoutEffect((()=>{if(!m)return;let e=!1;const t=()=>{e||(requestAnimationFrame((()=>{e=!1;const t=m.getBoundingClientRect();h({top:t.top,left:t.left,width:t.width,height:t.height})})),e=!0)},a=new IntersectionObserver((e=>{p(e.every((e=>e.isIntersecting)))}));a.observe(m);const r=new ResizeObserver(t);return r.observe(m),window.addEventListener("scroll",t,!0),window.addEventListener("resize",t),()=>{r.disconnect(),a.disconnect(),window.removeEventListener("scroll",t,!0),window.removeEventListener("resize",t)}}),[m]),e.useLayoutEffect((()=>{f||b(document.body)}),[f]),n.default.createElement(n.default.Fragment,null,f&&t.createPortal(g&&n.default.createElement(r.OakBox,{$position:"fixed",style:q,$pointerEvents:"none",$zIndex:"modal-dialog"},n.default.createElement(r.OakBox,{$width:"fit-content",$height:"fit-content",$position:"absolute",...i(o)},n.default.createElement(a.InternalTooltip,{$background:"bg-decorative5-main",$color:"text-primary",$pv:"inner-padding-m",$ph:"inner-padding-xl",$font:"heading-light-7",tooltipPosition:o,"aria-expanded":g,...j,...c},l))),f),n.default.createElement("div",{ref:e=>{O(e?.firstElementChild??null)},style:{display:"contents"}},s))};
//# sourceMappingURL=OakTooltip.js.map
