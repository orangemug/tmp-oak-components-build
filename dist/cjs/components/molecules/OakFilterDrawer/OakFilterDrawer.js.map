{"version":3,"file":"OakFilterDrawer.js","sources":["../../../../../src/components/molecules/OakFilterDrawer/OakFilterDrawer.tsx"],"sourcesContent":["import React, { useRef } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styled from \"styled-components\";\n\nimport { InternalShadowRoundButton } from \"@/components/molecules/InternalShadowRoundButton\";\nimport { OakBox, OakFlex, OakHeading } from \"@/components/atoms\";\nimport { OakModalProps } from \"@/components/molecules/OakModal\";\nimport { OakSecondaryLink } from \"@/components/molecules/OakSecondaryLink\";\nimport useIsScrolled from \"@/hooks/useIsScrolled\";\nimport useMounted from \"@/hooks/useMounted\";\nimport InternalModalTransition from \"@/components/molecules/InternalModalTransition/InternalModalTransition\";\n\ntype OakFilterDrawerProps = OakModalProps & {\n  /**\n   * Called when the clear button is clicked\n   */\n  clearAllInputs: () => void;\n};\n\nconst StyledClearButton = styled(OakSecondaryLink)`\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\n/**\n *\n * Based on the OakModal component, this component is a filter drawer that slides in from the right side of the screen.\n * Designed for mobile and tablet devices\n *\n * ### Callbacks\n * clearAllInputs: used to clear filter options\n *\n */\n\nexport const OakFilterDrawer = ({\n  isOpen,\n  domContainer,\n  onClose,\n  zIndex,\n  children,\n  clearAllInputs,\n  footerSlot,\n  ...rest\n}: OakFilterDrawerProps) => {\n  const { isScrolled, ObserveScroll } = useIsScrolled();\n\n  const transitionRef = useRef<HTMLDivElement>(null);\n\n  const isMounted = useMounted();\n\n  if (!isMounted) {\n    return null;\n  }\n  const finalZIndex = typeof zIndex === \"number\" ? zIndex : \"modal-dialog\";\n\n  return createPortal(\n    <InternalModalTransition\n      isOpen={isOpen}\n      transitionRef={transitionRef}\n      onClose={onClose}\n      finalZIndex={finalZIndex}\n      isLeftHandSide={false}\n      {...rest}\n    >\n      <OakFlex\n        $ma=\"space-between-m\"\n        $justifyContent=\"space-between\"\n        $alignItems=\"center\"\n      >\n        <StyledClearButton\n          onClick={clearAllInputs}\n          aria-label=\"Clear\"\n          element=\"button\"\n        >\n          Clear\n        </StyledClearButton>\n        <OakHeading $font={\"heading-6\"} tag=\"h3\">\n          Filters\n        </OakHeading>\n        <InternalShadowRoundButton\n          onClick={onClose}\n          aria-label=\"Close\"\n          defaultIconBackground=\"transparent\"\n          defaultIconColor=\"black\"\n          defaultTextColor=\"transparent\"\n          hoverTextColor=\"transparent\"\n          disabledTextColor=\"transparent\"\n          hoverIconBackground=\"black\"\n          hoverIconColor=\"white\"\n          disabledIconBackground=\"transparent\"\n          iconBackgroundSize=\"all-spacing-6\"\n          iconSize=\"all-spacing-6\"\n          iconName=\"cross\"\n        />\n      </OakFlex>\n      <OakFlex\n        $flexGrow={1}\n        $flexDirection=\"column\"\n        $overflow=\"auto\"\n        $bt=\"border-solid-s\"\n        $borderColor={isScrolled ? \"border-neutral-lighter\" : \"transparent\"}\n      >\n        <ObserveScroll>\n          <div data-autofocus-inside tabIndex={-2}>\n            <OakBox $mh=\"space-between-m\">{children}</OakBox>\n          </div>\n        </ObserveScroll>\n      </OakFlex>\n      <OakFlex\n        $flexDirection={[\"column\", \"row\"]}\n        $bt=\"border-solid-s\"\n        $borderColor=\"border-neutral-lighter\"\n        $pa=\"inner-padding-s\"\n        $gap={[\"space-between-s\", \"space-between-m\"]}\n        $width=\"100%\"\n      >\n        {footerSlot}\n      </OakFlex>\n    </InternalModalTransition>,\n    domContainer ?? document.body,\n  );\n};\n"],"names":["StyledClearButton","styled","OakSecondaryLink","isOpen","domContainer","onClose","zIndex","children","clearAllInputs","footerSlot","rest","isScrolled","ObserveScroll","useIsScrolled","transitionRef","useRef","useMounted","finalZIndex","createPortal","React","createElement","InternalModalTransition","isLeftHandSide","OakFlex","$ma","$justifyContent","onClick","element","OakHeading","$font","tag","default","InternalShadowRoundButton","defaultIconBackground","defaultIconColor","defaultTextColor","hoverTextColor","disabledTextColor","hoverIconBackground","hoverIconColor","disabledIconBackground","iconBackgroundSize","iconSize","iconName","$flexGrow","$overflow","$bt","$borderColor","tabIndex","OakBox","$flexDirection","$pa","$width","document","body"],"mappings":"+9CAmBA,MAAMA,OAAoBC,QAAOC,EAAgBA,iBAAC;;;;;;0BAkBnB,EAC7BC,SACAC,eACAC,UACAC,SACAC,WACAC,iBACAC,gBACGC,MAEH,MAAMC,WAAEA,EAAUC,cAAEA,GAAkBC,IAEhCC,EAAgBC,SAAuB,MAI7C,IAFkBC,IAGhB,OAAO,KAET,MAAMC,EAAgC,iBAAXX,EAAsBA,EAAS,eAE1D,OAAOY,EAAAA,aACLC,EAAAA,QAAAC,cAACC,EAAuB,CACtBlB,OAAQA,EACRW,cAAeA,EACfT,QAASA,EACTY,YAAaA,EACbK,gBAAgB,KACZZ,GAEJS,UAAAC,cAACG,EAAOA,QACF,CAAAC,IAAA,kBACYC,gBAAA,4BACJ,UAEZN,EAAAA,QAACC,cAAApB,EACC,CAAA0B,QAASlB,EACE,aAAA,QACXmB,QAAQ,UAGU,SACpBR,UAAAC,cAACQ,EAAAA,WAAkB,CAAAC,MAAA,YAAaC,IAAI,MAEvB,WACbX,EAACY,QAAAX,cAAAY,EAAyBA,0BACxB,CAAAN,QAASrB,eACE,QACX4B,sBAAsB,cACtBC,iBAAiB,QACjBC,iBAAiB,cACjBC,eAAe,cACfC,kBAAkB,cAClBC,oBAAoB,QACpBC,eAAe,QACfC,uBAAuB,cACvBC,mBAAmB,gBACnBC,SAAS,gBACTC,SAAS,WAGbxB,EAAAY,QAAAX,cAACG,EAAOA,QACK,CAAAqB,UAAA,iBACI,SAAQC,UACb,OACNC,IAAA,iBACUC,aAAApC,EAAa,yBAA2B,eAEtDQ,UAAAC,cAACR,EAAa,KACZO,EAA2BY,QAAAX,cAAA,MAAA,CAAA,yBAAA,EAAA4B,UAAW,GACpC7B,UAACC,cAAA6B,EAAAA,YAAW,mBAAmB1C,MAIrCY,EAAAA,QAAAC,cAACG,UAAO,CAAA2B,eACU,CAAC,SAAU,OACvBJ,IAAA,iBACSC,aAAA,yBACTI,IAAA,uBACE,CAAC,kBAAmB,mBAAkBC,OACrC,QAEN3C,IAGLL,GAAgBiD,SAASC,KAC1B"}