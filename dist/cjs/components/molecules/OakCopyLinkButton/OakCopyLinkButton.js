"use strict";var e=require("react"),a=require("../OakSmallSecondaryButton/OakSmallSecondaryButton.js");require("../../atoms/OakAnchorTarget/OakAnchorTarget.js"),require("../../atoms/OakAspectRatio/OakAspectRatio.js");var t=require("../../atoms/OakBox/OakBox.js");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../atoms/OakCloudinaryImage/OakCloudinaryImage.js"),require("../../atoms/OakFlex/OakFlex.js"),require("../../atoms/OakForm/OakForm.js"),require("../../atoms/OakGlobalStyle/OakGlobalStyle.js"),require("../../atoms/OakGrid/OakGrid.js"),require("../../atoms/OakGridArea/OakGridArea.js"),require("../../atoms/OakHeading/OakHeading.js"),require("../../atoms/OakImage/OakImage.js"),require("../../atoms/OakSpan/OakSpan.js"),require("../../atoms/OakLI/OakLI.js"),require("../../atoms/OakLabel/OakLabel.js"),require("../../atoms/OakMaxWidth/OakMaxWidth.js"),require("../../atoms/OakOL/OakOL.js"),require("../../atoms/OakFieldset/OakFieldset.js"),require("../../atoms/OakP/OakP.js"),require("../../atoms/OakScreenReader/OakScreenReader.js"),require("styled-components"),require("../../atoms/OakTypography/OakTypography.js"),require("../../atoms/OakUL/OakUL.js"),require("../../atoms/OakSvg/OakSvg.js");var o=r(e);exports.OakCopyLinkButton=({href:r})=>{const i="Copy link",s="Link copied",[l,k]=e.useState(i),[n,u]=e.useState(!0),[O,d]=e.useState(""),m=()=>{if(navigator.clipboard){const e=r||window.location.href;navigator.clipboard.writeText(e),k(s),d(s),u(!1);setTimeout((()=>{d(""),u(!0),k(i)}),4e3)}else alert("Please update your browser to support this feature")};return o.default.createElement(o.default.Fragment,null,o.default.createElement(t.OakBox,{$display:["none","block"]},o.default.createElement(a.OakSmallSecondaryButton,{iconName:n?"copy":"tick",iconAriaHidden:!0,isTrailingIcon:!0,onClick:m,"data-testid":"copy-link-desktop-button"},l)),o.default.createElement(t.OakBox,{$display:["block","none"]},o.default.createElement(a.OakSmallSecondaryButton,{onClick:m},l)),O&&o.default.createElement("div",{"aria-relevant":"all","aria-live":"polite",style:{position:"absolute",left:"-9999px"},"data-testid":"announce"},O))};
//# sourceMappingURL=OakCopyLinkButton.js.map
