{"version":3,"file":"OakDraggable.js","sources":["../../../../../src/components/molecules/OakDraggable/OakDraggable.tsx"],"sourcesContent":["import React, {\n  ComponentPropsWithRef,\n  ComponentPropsWithoutRef,\n  FC,\n  forwardRef,\n} from \"react\";\nimport styled from \"styled-components\";\n\nimport { OakBox, OakFlex, OakIcon } from \"@/components/atoms\";\nimport { parseColor } from \"@/styles/helpers/parseColor\";\nimport { parseBorder } from \"@/styles/helpers/parseBorder\";\nimport { parseDropShadow } from \"@/styles/helpers/parseDropShadow\";\nimport { parseSpacing } from \"@/styles/helpers/parseSpacing\";\nimport { IconName } from \"@/image-map\";\nimport { OakCombinedColorToken } from \"@/styles/theme/color\";\nimport { parseBorderWidth } from \"@/styles/helpers/parseBorderWidth\";\nimport { parseColorFilter } from \"@/styles/helpers/parseColorFilter\";\n\ntype OakDraggableProps = {\n  /**\n   * Whether the item is currently being dragged\n   */\n  isDragging?: boolean;\n  /**\n   * Present the element in a subdued state with hover effects disabled\n   */\n  isDisabled?: boolean;\n  /**\n   * Read only\n   *\n   * Disables hover effects\n   */\n  isReadOnly?: boolean;\n  /**\n   * Icon to display\n   */\n  iconName?: IconName;\n  /**\n   * Icon color when not being dragged or hovered\n   */\n  iconColor?: OakCombinedColorToken;\n  /**\n   * The alt text for the icon\n   */\n  iconAlt?: string;\n  /**\n   * The background color of the draggable when not being dragged or hovered\n   */\n  background?: OakCombinedColorToken;\n  /**\n   * The color of the draggable when not being dragged or hovered\n   */\n  color?: OakCombinedColorToken;\n};\n\nconst StyledOakIcon = styled(OakIcon)``;\n\nconst StyledDraggable = styled(OakBox)<{ $iconColor: OakCombinedColorToken }>`\n  cursor: grab;\n  outline: none;\n  user-select: none;\n\n  ${StyledOakIcon} {\n    filter: ${(props) => parseColorFilter(props.$iconColor)};\n  }\n\n  @media (hover: hover) {\n    &:hover:not([data-dragging=\"true\"]):not([data-disabled=\"true\"]):not(\n        [data-readonly=\"true\"]\n      ) {\n      background-color: ${parseColor(\"bg-decorative1-subdued\")};\n      color: ${parseColor(\"text-primary\")};\n      box-shadow: ${parseDropShadow(\"drop-shadow-standard\")};\n      border-bottom: ${parseBorder(\"border-solid-xl\")}\n        ${parseColor(\"border-primary\")};\n      padding-bottom: ${parseSpacing(\"inner-padding-m\")};\n      text-decoration: underline;\n\n      ${StyledOakIcon} {\n        filter: ${parseColorFilter(\"icon-inverted\")};\n      }\n    }\n  }\n\n  &:focus-visible:not([data-dragging=\"true\"]):not([data-disabled=\"true\"]) {\n    box-shadow: ${parseDropShadow(\"drop-shadow-centered-lemon\")},\n      ${parseDropShadow(\"drop-shadow-centered-grey\")};\n  }\n\n  &[data-dragging=\"true\"] {\n    cursor: move;\n    background-color: ${parseColor(\"bg-decorative1-main\")};\n    color: ${parseColor(\"text-primary\")};\n    outline: ${parseBorder(\"border-solid-xl\")} ${parseColor(\"border-primary\")};\n    outline-offset: -${parseBorderWidth(\"border-solid-xl\")};\n    box-shadow: ${parseDropShadow(\"drop-shadow-lemon\")},\n      ${parseDropShadow(\"drop-shadow-grey\")};\n    text-decoration: underline;\n\n    ${StyledOakIcon} {\n      filter: ${parseColorFilter(\"icon-inverted\")};\n    }\n  }\n\n  &[data-disabled=\"true\"] {\n    cursor: default;\n    background-color: ${parseColor(\"bg-neutral\")};\n    color: ${parseColor(\"text-disabled\")};\n\n    ${StyledOakIcon} {\n      filter: ${parseColorFilter(\"icon-disabled\")};\n    }\n  }\n\n  &[data-readonly=\"true\"] {\n    cursor: default;\n  }\n`;\n\nconst StyledFlex = styled(OakFlex)`\n  margin-block: -${parseSpacing(\"space-between-ssx\")};\n`;\n\n/**\n * The component has no intrinsic draggable functionality.\n * It is intended to be used with `useDraggable` from `@dnd-kit/core`\n */\nexport const OakDraggable: FC<\n  ComponentPropsWithRef<OakDraggableProps & typeof OakBox>\n> = forwardRef<\n  HTMLDivElement,\n  OakDraggableProps & ComponentPropsWithoutRef<typeof OakBox>\n>(\n  (\n    {\n      children,\n      iconName = \"move-arrows\",\n      iconColor = \"icon-inverted\",\n      iconAlt = \"\",\n      color = \"text-primary\",\n      background = \"bg-primary\",\n      isDragging,\n      isDisabled,\n      isReadOnly,\n      ...props\n    },\n    ref,\n  ) => {\n    return (\n      <StyledDraggable\n        ref={ref}\n        $pv=\"inner-padding-l\"\n        $pl=\"inner-padding-s\"\n        $pr=\"inner-padding-m\"\n        $background={background}\n        $color={color}\n        $borderRadius=\"border-radius-m2\"\n        $minHeight=\"all-spacing-10\"\n        data-dragging={isDragging}\n        data-disabled={isDisabled}\n        data-readonly={isReadOnly}\n        $iconColor={iconColor}\n        {...props}\n      >\n        <StyledFlex $gap=\"space-between-s\" $alignItems=\"center\">\n          <StyledOakIcon\n            iconName={iconName}\n            $width=\"all-spacing-7\"\n            $height=\"all-spacing-7\"\n            alt={iconAlt}\n          />\n          <OakFlex $font=\"body-1-bold\">{children}</OakFlex>\n        </StyledFlex>\n      </StyledDraggable>\n    );\n  },\n);\n"],"names":["StyledOakIcon","styled","default","OakIcon","StyledDraggable","OakBox","props","parseColorFilter","$iconColor","parseColor","parseDropShadow","parseBorder","parseSpacing","parseBorderWidth","StyledFlex","OakFlex","OakDraggable","forwardRef","children","iconName","iconColor","iconAlt","color","background","isDragging","isDisabled","isReadOnly","ref","React","createElement","$pv","$pl","$pr","$background","$color","$borderRadius","$minHeight","$gap","$alignItems","$width","$height","alt"],"mappings":"yiDAuDA,MAAMA,EAAgBC,EAAMC,QAACC,UAAQ,GAE/BC,EAAkBH,EAAAA,QAAOI,EAAMA,OAAwC;;;;;IAKzEL;cACWM,GAAUC,EAAAA,iBAAiBD,EAAME;;;;;;;0BAOtBC,EAAAA,WAAW;eACtBA,EAAAA,WAAW;oBACNC,EAAAA,gBAAgB;uBACbC,EAAAA,YAAY;UACzBF,EAAAA,WAAW;wBACGG,EAAAA,aAAa;;;QAG7BZ;kBACUO,EAAAA,iBAAiB;;;;;;kBAMjBG,EAAAA,gBAAgB;QAC1BA,EAAAA,gBAAgB;;;;;wBAKAD,EAAAA,WAAW;aACtBA,EAAAA,WAAW;eACTE,EAAAA,YAAY,sBAAsBF,EAAUA,WAAC;uBACrCI,EAAAA,iBAAiB;kBACtBH,EAAAA,gBAAgB;QAC1BA,EAAAA,gBAAgB;;;MAGlBV;gBACUO,EAAAA,iBAAiB;;;;;;wBAMTE,EAAAA,WAAW;aACtBA,EAAAA,WAAW;;MAElBT;gBACUO,EAAAA,iBAAiB;;;;;;;EAS3BO,EAAab,EAAAA,QAAOc,EAAOA,QAAC;mBACfH,EAAAA,aAAa;EAOnBI,EAETC,EAAAA,YAIF,EAEIC,WACAC,WAAW,cACXC,YAAY,gBACZC,UAAU,GACVC,QAAQ,eACRC,aAAa,aACbC,aACAC,aACAC,gBACGpB,GAELqB,IAGEC,EAAA1B,QAAA2B,cAACzB,EAAe,CACduB,IAAKA,EAAGG,IACJ,kBAAiBC,IACjB,kBAAiBC,IACjB,kBACSC,YAAAV,EACLW,OAAAZ,EACMa,cAAA,mBACHC,WAAA,iBACI,gBAAAZ,EACA,gBAAAC,EACA,gBAAAC,EACHlB,WAAAY,KACRd,GAEJsB,EAAA1B,QAAA2B,cAACf,EAAU,CAAAuB,KAAM,kBAAiBC,YAAa,UAC7CV,EAAAA,QAAAC,cAAC7B,EAAa,CACZmB,SAAUA,EAAQoB,OACX,gBAAeC,QACd,gBACRC,IAAKpB,IAEPO,UAACC,cAAAd,EAAAA,eAAc,eAAeG"}