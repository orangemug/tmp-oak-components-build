{"version":3,"file":"OakRadioTile.js","sources":["../../../../../src/components/molecules/OakRadioTile/OakRadioTile.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport { OakFlex } from \"@/components/atoms/OakFlex\";\nimport { parseSpacing } from \"@/styles/helpers/parseSpacing\";\nimport {\n  OakBox,\n  OakBoxProps,\n  OakLabel,\n  OakLabelProps,\n} from \"@/components/atoms\";\nimport { parseColor } from \"@/styles/helpers/parseColor\";\n\nexport type TileItem = { id: string; label: string };\nexport const isTileItem = (u: unknown): u is TileItem => {\n  return (\n    typeof u === \"object\" &&\n    u !== null &&\n    typeof (u as TileItem).id === \"string\" &&\n    typeof (u as TileItem).label === \"string\"\n  );\n};\n\nexport type OakRadioTileProps = {\n  tileItem: TileItem;\n  isChecked: boolean;\n  id: string;\n  onChange: (tileItem: TileItem) => void;\n};\n\nconst RadioTileLabel = styled(OakLabel)<OakLabelProps>`\n  cursor: pointer;\n  display: flex;\n  gap: ${parseSpacing(\"space-between-s\")};\n`;\n\nconst HiddenRadioButtonInput = styled.input.attrs({\n  type: \"radio\",\n})`\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n`;\n\nconst RadioTileFocus = styled(OakBox)<OakBoxProps>`\n  box-shadow: ${`inset 0 0 0 0.15rem ${parseColor(\"lemon\")}`};\n  width: calc(100% + 12px);\n  height: calc(100% + 12px);\n  top: -6px;\n  left: -6px;\n`;\n\nconst OakRadioTileCss = css<OakRadioTileProps>``;\n\nconst UnstyledComponent = (props: OakRadioTileProps) => {\n  const { tileItem, isChecked, id, onChange } = props;\n  const [isFocussed, setIsFocussed] = useState(false);\n  return (\n    <OakBox\n      $borderColor=\"border-neutral\"\n      $ba=\"border-solid-m\"\n      $borderRadius=\"border-radius-s\"\n      $pa=\"inner-padding-s\"\n      $position=\"relative\"\n      $background={isFocussed || isChecked ? \"black\" : \"transparent\"}\n      $color={isFocussed || isChecked ? \"white\" : \"black\"}\n    >\n      {isFocussed && (\n        <RadioTileFocus\n          $background=\"transparent\"\n          $position=\"absolute\"\n          $ba=\"border-solid-l\"\n          $borderColor=\"grey60\"\n          $borderRadius=\"border-radius-s\"\n          data-testid=\"radio-tile-focus\"\n        />\n      )}\n\n      <RadioTileLabel htmlFor={id}>\n        <HiddenRadioButtonInput\n          value={tileItem.id}\n          id={id}\n          checked={isChecked}\n          onChange={() => onChange(tileItem)}\n          tabIndex={0}\n          onFocus={() => setIsFocussed(true)}\n          onBlur={() => setIsFocussed(false)}\n          onClick={(e) => {\n            // remove focus on mouse click events\n            if (e.clientX || e.clientY) {\n              setIsFocussed(false);\n            }\n          }}\n        />\n        <OakFlex\n          $height={\"all-spacing-6\"}\n          $width=\"all-spacing-6\"\n          $borderColor=\"border-neutral\"\n          $flexGrow={0}\n          $flexShrink={0}\n          $alignItems={\"center\"}\n          $justifyContent={\"center\"}\n          $background={\"bg-primary\"}\n          $ba=\"border-solid-m\"\n          $borderRadius=\"border-radius-circle\"\n        >\n          {isChecked && (\n            <OakBox\n              $height=\"all-spacing-4\"\n              $width=\"all-spacing-4\"\n              $background=\"black\"\n              $position=\"absolute\"\n              $borderRadius=\"border-radius-circle\"\n              data-testid=\"radio-tile-checked\"\n            />\n          )}\n        </OakFlex>\n        {tileItem.label}\n      </RadioTileLabel>\n    </OakBox>\n  );\n};\n\nexport const OakRadioTile = styled(UnstyledComponent)`\n  ${OakRadioTileCss}\n`;\n"],"names":["RadioTileLabel","styled","OakLabel","parseSpacing","HiddenRadioButtonInput","input","attrs","type","RadioTileFocus","OakBox","parseColor","OakRadioTileCss","css","OakRadioTile","props","tileItem","isChecked","id","onChange","isFocussed","setIsFocussed","useState","React","createElement","$borderColor","$borderRadius","$pa","$position","$background","default","$ba","htmlFor","value","checked","tabIndex","onFocus","onBlur","onClick","e","clientX","clientY","OakFlex","$height","$flexGrow","$flexShrink","$justifyContent","$width","label","u"],"mappings":"6xCAca,MAgBPA,EAAiBC,EAAAA,QAAOC,EAAQA,SAAgB;;;SAG7CC,EAAAA,aAAa;EAGhBC,EAAyBH,EAAAA,QAAOI,MAAMC,MAAM,CAChDC,KAAM,SACN;;;;EAMIC,EAAiBP,EAAAA,QAAOQ,EAAMA,OAAc;gBAClC,uBAAuBC,EAAAA,WAAW;;;;;EAO5CC,EAAkBC,EAAAA,GAAsB,GAuEjCC,EAAeZ,EAAAA,SArEDa,IACzB,MAAMC,SAAEA,EAAQC,UAAEA,EAASC,GAAEA,EAAEC,SAAEA,GAAaJ,GACvCK,EAAYC,GAAiBC,EAAQA,UAAC,GAC7C,OACEC,UAACC,cAAAd,EAAMA,OACQ,CAAAe,aAAA,qBACT,iBAAgBC,cACN,kBAAiBC,IAC3B,kBACMC,UAAA,WACGC,YAAAT,GAAcH,EAAY,QAAU,qBACzCG,GAAcH,EAAY,QAAU,SAE3CG,GACCG,EAAAO,QAAAN,cAACf,EAAc,CAAAoB,YACD,cACFD,UAAA,WACNG,IAAA,8BACS,SAAQL,cACP,kBACF,cAAA,qBAIhBH,EAAAA,QAAAC,cAACvB,EAAc,CAAC+B,QAASd,GACvBK,EAAAA,QAACC,cAAAnB,EACC,CAAA4B,MAAOjB,EAASE,GAChBA,GAAIA,EACJgB,QAASjB,EACTE,SAAU,IAAMA,EAASH,GACzBmB,SAAU,EACVC,QAAS,IAAMf,GAAc,GAC7BgB,OAAQ,IAAMhB,GAAc,GAC5BiB,QAAUC,KAEJA,EAAEC,SAAWD,EAAEE,UACjBpB,GAAc,EACf,IAGLE,UAAAC,cAACkB,EAAAA,QACU,CAAAC,QAAA,uBACF,gBAAelB,aACT,iBACFmB,UAAA,EACEC,YAAA,cACA,SAAQC,gBACJ,SACJjB,YAAA,iBACT,iBAAgBH,cACN,wBAEbT,GACCM,wBAACb,SAAM,CAAAiC,QACG,gBACDI,OAAA,4BACK,QAAOnB,UACT,WACIF,cAAA,qCACF,wBAIjBV,EAASgC,OAGd,GAGiD;IACjDpC;4CA9GuBqC,GAEV,iBAANA,GACD,OAANA,GAC8B,iBAAtBA,EAAe/B,IACU,iBAAzB+B,EAAeD"}