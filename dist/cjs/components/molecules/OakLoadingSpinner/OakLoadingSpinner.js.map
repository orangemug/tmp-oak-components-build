{"version":3,"file":"OakLoadingSpinner.js","sources":["../../../../../src/components/molecules/OakLoadingSpinner/OakLoadingSpinner.tsx"],"sourcesContent":["import React from \"react\";\nimport styled, { css, keyframes } from \"styled-components\";\n\nimport { OakScreenReader } from \"@/components/atoms/OakScreenReader\";\nimport { SizeStyleProps } from \"@/styles/utils/sizeStyle\";\nimport { parseSpacing } from \"@/styles/helpers/parseSpacing\";\nimport { responsiveStyle } from \"@/styles/utils/responsiveStyle\";\nimport { ColorStyleProps, colorStyle } from \"@/styles/utils/colorStyle\";\nimport { OakCombinedColorToken } from \"@/styles\";\n\nconst SpinnerKeyframe = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst DelayedShow = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n`;\n\nexport type OakLoadingSpinnerProps = Pick<SizeStyleProps, \"$width\"> &\n  ColorStyleProps & {\n    loaderColor?: OakCombinedColorToken;\n    /**\n     * Delay the appearance of the spinner\n     *\n     * Accepts a number in milliseconds\n     */\n    $delay?: number;\n  };\n\nconst StyledLoadingSpinner = styled.span<OakLoadingSpinnerProps>`\n  ${(props) =>\n    props.$width\n      ? responsiveStyle(\"--width\", (props) => props.$width, parseSpacing)\n      : css`\n          --width: 1.25rem;\n        `}\n  ${({ $delay }) => {\n    if ($delay) {\n      return css`\n        opacity: 0;\n        animation: ${DelayedShow} 0s;\n        animation-delay: ${$delay / 1000}s;\n        animation-fill-mode: forwards;\n      `;\n    }\n  }}\n  --inner-width: calc(var(--width) / 10 * 8);\n  --thickness: calc(var(--width) / 12);\n\n  display: inline-flex;\n  width: var(--width);\n  height: var(--width);\n\n  ::after {\n    content: \" \";\n    display: block;\n    width: var(--inner-width);\n    height: var(--inner-width);\n    margin: var(--thickness);\n    border-radius: 50%;\n    border: var(--thickness) solid currentcolor;\n    ${(props) =>\n      props.loaderColor\n        ? css`\n            border-color: ${props.loaderColor} ${props.loaderColor}\n              ${props.loaderColor} transparent;\n          `\n        : css`\n            border-color: currentcolor currentcolor currentcolor transparent;\n          `}\n    animation: ${SpinnerKeyframe} 1.2s linear infinite;\n  }\n  ${colorStyle}\n`;\n\n/**\n *\n * A loading spinner of variable size.\n *\n */\nexport const OakLoadingSpinner = (props: OakLoadingSpinnerProps) => (\n  <StyledLoadingSpinner {...props}>\n    <OakScreenReader>Loading</OakScreenReader>\n  </StyledLoadingSpinner>\n);\n"],"names":["SpinnerKeyframe","keyframes","DelayedShow","StyledLoadingSpinner","styled","span","props","$width","responsiveStyle","parseSpacing","css","$delay","loaderColor","colorStyle","React","default","createElement","OakScreenReader"],"mappings":"qXAUA,MAAMA,EAAkBC,EAASA,SAAA;;;;;;;;EAU3BC,EAAcD,EAASA,SAAA;;;;;;;EAoBvBE,EAAuBC,EAAAA,QAAOC,IAA4B;IAC3DC,GACDA,EAAMC,OACFC,EAAeA,gBAAC,WAAYF,GAAUA,EAAMC,QAAQE,EAAAA,cACpDC,EAAAA,GAAG;;;IAGP,EAAGC,aACH,GAAIA,EACF,OAAOD,EAAGA,GAAA;;qBAEKR;2BACMS,EAAS;;OAG/B;;;;;;;;;;;;;;;;MAiBEL,GACDA,EAAMM,YACFF,EAAAA,GAAG;4BACeJ,EAAMM,eAAeN,EAAMM;gBACvCN,EAAMM;YAEZF,EAAAA,GAAG;;;iBAGIV;;IAEba;4BAQ8BP,GAChCQ,EAACC,QAAAC,cAAAb,MAAyBG,GACxBQ,EAAAA,QAAAE,cAACC,EAAAA,gBAAe,KAAA"}