"use strict";var e=require("react"),a=require("styled-components");require("../../atoms/OakAnchorTarget/OakAnchorTarget.js"),require("../../atoms/OakAspectRatio/OakAspectRatio.js");var r=require("../../atoms/OakBox/OakBox.js");require("../../atoms/OakCloudinaryImage/OakCloudinaryImage.js");var t=require("../../atoms/OakFlex/OakFlex.js");require("../../atoms/OakForm/OakForm.js"),require("../../atoms/OakGlobalStyle/OakGlobalStyle.js"),require("../../atoms/OakGrid/OakGrid.js"),require("../../atoms/OakGridArea/OakGridArea.js"),require("../../atoms/OakHeading/OakHeading.js"),require("../../atoms/OakImage/OakImage.js");var o=require("../../atoms/OakSpan/OakSpan.js");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../atoms/OakLI/OakLI.js"),require("../../atoms/OakLabel/OakLabel.js"),require("../../atoms/OakMaxWidth/OakMaxWidth.js"),require("../../atoms/OakOL/OakOL.js"),require("../../atoms/OakFieldset/OakFieldset.js"),require("../../atoms/OakP/OakP.js"),require("../../atoms/OakScreenReader/OakScreenReader.js"),require("../../atoms/OakTypography/OakTypography.js"),require("../../atoms/OakUL/OakUL.js"),require("../../atoms/OakSvg/OakSvg.js");var s=n(e);const i=n(a).default(r.OakBox)`
  font-family: "Roboto Mono", --font-roboto-mono, monospace;
`;exports.OakCodeRenderer=({string:e,...a})=>{const r=e=>{const r=e.split(/(`.*?`)/);return 1!==r.length||e.startsWith("`")?s.default.createElement(o.OakSpan,null,r.map(((e,r)=>e.startsWith("`")&&e.endsWith("`")?s.default.createElement(i,{key:r,$background:"grey70",$color:"white",$pv:["inner-padding-none","inner-padding-ssx"],$ph:["inner-padding-xs","inner-padding-xs"],$borderRadius:"border-radius-m2",$display:"inline-block",$font:["code-2","code-1"],...a},e.slice(1,-1)):e))):e},n=(e,r)=>{const n=e.match(/```([\s\S]*?)```/);if(!n)return e;const l=n[1];if(!l)return e;const d=(e=>{const a=[{regex:/"(.*?)"|'(.*?)'/g,color:"code-green"},{regex:/\b(and|as|assert|async|await|break|class|continue|def|del|elif|else|except|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|raise|return|try|while|with|yield)\b/g,color:"code-pink"},{regex:/\b(False|None|True)\b/g,color:"code-blue"},{regex:/\b\d+\b/g,color:"code-blue"}],r=[e];let t=!0;for(;t;){let e=!1;if(r.forEach(((t,n)=>{for(const{regex:i,color:l}of a)if("string"==typeof t){const a=i.exec(t);if(a){e=!0;const[i]=a;r.splice(n,1),r.splice(n,0,t.slice(0,a.index)),r.splice(n+1,0,s.default.createElement(o.OakSpan,{key:`${t}-${n}`,$color:l},i)),r.splice(n+2,0,t.slice(a.index+i.length));break}}})),!e)return t=!1,r}})(l);return s.default.createElement(i,{key:`${e}-${r}`,$background:"grey70",$color:"code-grey",$pv:"inner-padding-xs",$ph:"inner-padding-s",$borderRadius:"border-radius-m2",$whiteSpace:"pre-wrap",$mt:"space-between-xl",$font:"code-2",...a},s.default.createElement(t.OakFlex,{$flexDirection:"row"},s.default.createElement(t.OakFlex,{$flexDirection:"column",$br:"border-solid-s",$borderColor:"border-neutral",$pr:"inner-padding-s"},l.split("\n").map(((e,a)=>s.default.createElement(o.OakSpan,{key:`${e}-${a}`},a+1)))),s.default.createElement(o.OakSpan,{$pl:"inner-padding-s"},d)))};return (e=>{const a=e.split(/(```[\s\S]*?```)/);return 1!==a.length||e.startsWith("```")?s.default.createElement(t.OakFlex,{$flexDirection:"column"},a.map(((e,a)=>e.startsWith("```")&&e.endsWith("```")?n(e,a):s.default.createElement(o.OakSpan,{key:`${e}-${a}`},r(e))))):r(e)})(e);};
//# sourceMappingURL=OakCodeRenderer.js.map
