{"version":3,"file":"InternalLink.js","sources":["../../../../../src/components/molecules/InternalLink/InternalLink.tsx"],"sourcesContent":["import React, { ElementType, forwardRef } from \"react\";\nimport styled from \"styled-components\";\n\nimport { OakLoadingSpinner } from \"@/components/molecules/OakLoadingSpinner\";\nimport {\n  PolymorphicPropsWithRef,\n  PolymorphicRef,\n} from \"@/components/polymorphic\";\nimport { parseColor } from \"@/styles/helpers/parseColor\";\nimport { parseDropShadow } from \"@/styles/helpers/parseDropShadow\";\nimport { parseBorderRadius } from \"@/styles/helpers/parseBorderRadius\";\nimport { parseSpacing } from \"@/styles/helpers/parseSpacing\";\nimport { OakFlex, OakIcon, OakIconProps, OakSpan } from \"@/components/atoms\";\nimport { parseColorFilter } from \"@/styles/helpers/parseColorFilter\";\nimport { OakCombinedColorToken } from \"@/styles\";\n\nconst StyledOakIcon = styled(OakIcon)`\n  width: ${parseSpacing(\"all-spacing-6\")};\n  height: ${parseSpacing(\"all-spacing-6\")};\n`;\n\nconst StyledLink = styled.a<{\n  $color: OakCombinedColorToken;\n  $visitedColor: OakCombinedColorToken;\n  $hoverColor: OakCombinedColorToken;\n  $activeColor: OakCombinedColorToken;\n  $disabledColor: OakCombinedColorToken;\n}>`\n  display: inline-flex;\n  align-items: center;\n  gap: ${parseSpacing(\"space-between-sssx\")};\n  outline: none;\n  border-radius: ${parseBorderRadius(\"border-radius-m\")};\n  padding: ${parseSpacing(\"inner-padding-ssx\")};\n  margin: -${parseSpacing(\"inner-padding-ssx\")};\n  appearance: none;\n  font: inherit;\n  background: none;\n  border: none;\n  text-decoration: underline;\n  cursor: pointer;\n  color: ${(props) => parseColor(props.$color)};\n\n  ${StyledOakIcon} {\n    filter: ${(props) => parseColorFilter(props.$color)};\n  }\n\n  &:focus-visible {\n    box-shadow: ${parseDropShadow(\"drop-shadow-centered-lemon\")},\n      ${parseDropShadow(\"drop-shadow-centered-grey\")};\n  }\n\n  &:visited {\n    color: ${(props) => parseColor(props.$visitedColor)};\n\n    ${StyledOakIcon} {\n      filter: ${(props) => parseColorFilter(props.$visitedColor)};\n    }\n  }\n\n  @media (hover: hover) {\n    &:hover,\n    &:visited:hover {\n      color: ${(props) => parseColor(props.$hoverColor)};\n      ${StyledOakIcon} {\n        filter: ${(props) => parseColorFilter(props.$hoverColor)};\n      }\n    }\n  }\n\n  &:active {\n    color: ${(props) => parseColor(props.$activeColor)};\n\n    ${StyledOakIcon} {\n      filter: ${(props) => parseColorFilter(props.$activeColor)};\n    }\n  }\n\n  &[disabled] {\n    cursor: not-allowed;\n    color: ${(props) => parseColor(props.$disabledColor)};\n\n    ${StyledOakIcon} {\n      filter: ${(props) => parseColorFilter(props.$disabledColor)};\n    }\n  }\n`;\n\nexport type InternalLinkProps = {\n  /**\n   * The icon to display before or after the children.\n   */\n  iconName?: OakIconProps[\"iconName\"];\n  /**\n   * Whether the icon should be displayed after the children.\n   */\n  isTrailingIcon?: boolean;\n  /**\n   * Displays a loading spinner in place of the icon.\n   */\n  isLoading?: boolean;\n  color: OakCombinedColorToken;\n  visitedColor: OakCombinedColorToken;\n  hoverColor: OakCombinedColorToken;\n  activeColor: OakCombinedColorToken;\n  disabledColor: OakCombinedColorToken;\n};\n\ntype InternalLinkComponent = <C extends React.ElementType = \"a\">(\n  props: PolymorphicPropsWithRef<C> & InternalLinkProps,\n) => React.ReactNode;\n\n/**\n * A link with an optional icon and loading state.\n *\n * Defaulting to a `HTMLAnchorElement` this component is polymorphic and can be rendered as a button or any other element.\n */\nexport const InternalLink: InternalLinkComponent = forwardRef(\n  <C extends ElementType = \"a\">(\n    props: PolymorphicPropsWithRef<C> & InternalLinkProps,\n    ref: PolymorphicRef<C>,\n  ) => {\n    const {\n      element = \"a\",\n      iconName,\n      isTrailingIcon,\n      children,\n      isLoading,\n      color,\n      disabledColor,\n      visitedColor,\n      hoverColor,\n      activeColor,\n      ...rest\n    } = props;\n    const icon = (() => {\n      switch (true) {\n        case isLoading:\n          return (\n            <OakFlex\n              $width=\"all-spacing-6\"\n              $height=\"all-spacing-6\"\n              $alignItems=\"center\"\n              $justifyContent=\"center\"\n            >\n              <OakLoadingSpinner\n                $width=\"all-spacing-4\"\n                $color=\"icon-inverted\"\n              />\n            </OakFlex>\n          );\n        case !!iconName:\n          return <StyledOakIcon iconName={iconName} />;\n        default:\n          return null;\n      }\n    })();\n    const disabled = (() => {\n      switch (true) {\n        case \"disabled\" in rest:\n          return rest.disabled;\n        case isLoading:\n          return true;\n        default:\n          return undefined;\n      }\n    })();\n\n    return (\n      <StyledLink\n        as={element}\n        ref={ref}\n        disabled={disabled}\n        $color={color}\n        $disabledColor={disabledColor}\n        $visitedColor={visitedColor}\n        $hoverColor={hoverColor}\n        $activeColor={activeColor}\n        {...rest}\n      >\n        {!isTrailingIcon && icon}\n        <OakSpan>{children}</OakSpan>\n        {isTrailingIcon && icon}\n      </StyledLink>\n    );\n  },\n);\n"],"names":["StyledOakIcon","styled","OakIcon","parseSpacing","StyledLink","a","parseBorderRadius","props","parseColor","$color","parseColorFilter","parseDropShadow","$visitedColor","$hoverColor","$activeColor","$disabledColor","InternalLink","forwardRef","ref","element","iconName","isTrailingIcon","children","isLoading","color","disabledColor","visitedColor","hoverColor","activeColor","rest","icon","React","createElement","OakFlex","$width","$alignItems","$justifyContent","OakLoadingSpinner","disabled","default","as","OakSpan"],"mappings":"6iDAgBA,MAAMA,EAAgBC,EAAAA,QAAOC,EAAOA,QAAC;WAC1BC,EAAAA,aAAa;YACZA,EAAAA,aAAa;EAGnBC,EAAaH,EAAAA,QAAOI,CAMxB;;;SAGOF,EAAAA,aAAa;;mBAEHG,EAAAA,kBAAkB;aACxBH,EAAAA,aAAa;aACbA,EAAAA,aAAa;;;;;;;WAOdI,GAAUC,EAAAA,WAAWD,EAAME;;IAEnCT;cACWO,GAAUG,EAAAA,iBAAiBH,EAAME;;;;kBAI9BE,EAAAA,gBAAgB;QAC1BA,EAAAA,gBAAgB;;;;aAIVJ,GAAUC,EAAAA,WAAWD,EAAMK;;MAEnCZ;gBACWO,GAAUG,EAAAA,iBAAiBH,EAAMK;;;;;;;eAOlCL,GAAUC,EAAAA,WAAWD,EAAMM;QACnCb;kBACWO,GAAUG,EAAAA,iBAAiBH,EAAMM;;;;;;aAMtCN,GAAUC,EAAAA,WAAWD,EAAMO;;MAEnCd;gBACWO,GAAUG,EAAAA,iBAAiBH,EAAMO;;;;;;aAMpCP,GAAUC,EAAAA,WAAWD,EAAMQ;;MAEnCf;gBACWO,GAAUG,EAAAA,iBAAiBH,EAAMQ;;;EAkCrCC,EAAsCC,EAAUA,YAC3D,CACEV,EACAW,KAEA,MAAMC,QACJA,EAAU,IAAGC,SACbA,EAAQC,eACRA,EAAcC,SACdA,EAAQC,UACRA,EAASC,MACTA,EAAKC,cACLA,EAAaC,aACbA,EAAYC,WACZA,EAAUC,YACVA,KACGC,GACDtB,EACEuB,EAAO,MACX,QAAQ,GACN,KAAKP,EACH,OACEQ,UAACC,cAAAC,EAAOA,QACC,CAAAC,OAAA,wBACC,gBAAeC,YACX,SAAQC,gBACJ,UAEhBL,UAACC,cAAAK,EAAAA,0BACQ,gBAAe5B,OACf,mBAIf,MAAOW,EACL,OAAOW,EAAAA,sBAAC/B,EAAa,CAACoB,SAAUA,IAClC,QACE,OAAO,KAEZ,EArBY,GAsBPkB,EAAW,MACf,QAAQ,GACN,IAAK,aAAcT,EACjB,OAAOA,EAAKS,SACd,KAAKf,EACH,OAAO,EACT,QACE,OAEL,EATgB,GAWjB,OACEQ,EAACQ,QAAAP,cAAA5B,EACC,CAAAoC,GAAIrB,EACJD,IAAKA,EACLoB,SAAUA,EAAQ7B,OACVe,EAAKT,eACGU,EAAab,cACdc,EAAYb,YACdc,EAAUb,aACTc,KACVC,IAEFR,GAAkBS,EACpBC,EAAAA,QAACC,cAAAS,UAAS,KAAAnB,GACTD,GAAkBS,EAErB"}